var LLMS=window.LLMS||{};!function(t){"use strict";LLMS.Achievements={init:function(){var e=this;t(".llms-achievement")&&t(document).on("ready",function(){e.bind(),e.maybe_open()})},bind:function(){var e=this;t(".llms-achievement").each(function(){e.create_modal(t(this))}),t(".llms-achievement").on("click",function(){var n=t(this),i="achievement-"+n.attr("data-id"),s=t("#"+i);s.length||e.create_modal(n),s.iziModal("open")})},create_modal:function(e){var n="achievement-"+e.attr("data-id"),i=t("#"+n);i.length||(i=t('<div class="llms-achievement-modal" id="'+n+'" />'),t("body").append(i)),i.iziModal({headerColor:"#3a3a3a",group:"achievements",history:!0,loop:!0,overlayColor:"rgba( 0, 0, 0, 0.6 )",transitionIn:"fadeInDown",transitionOut:"fadeOutDown",width:340,onOpening:function(t){t.setTitle(e.find(".llms-achievement-title").html()),t.setSubtitle(e.find(".llms-achievement-date").html()),t.setContent('<div class="llms-achievement">'+e.html()+"</div>")},onClosing:function(){window.history.pushState("",document.title,window.location.pathname+window.location.search)}})},maybe_open:function(){var e=window.location.hash;e&&-1!==e.indexOf("achievement-")&&t('a[href="'+e+'"]').first().trigger("click")}},LLMS.Ajax={url:window.ajaxurl||window.llms.ajaxurl,type:"post",data:[],cache:!1,dataType:"json",async:!0,response:[],init:function(e){if(null===e||"object"!=typeof e)return!1;e.url="url"in e?e.url:this.url,e.type="type"in e?e.type:this.type,e.data="data"in e?e.data:this.data,e.cache="cache"in e?e.cache:this.cache,e.dataType="dataType"in e?e.dataType:this.dataType,e.async="async"in e?e.async:this.async,e.data._ajax_nonce=wp_ajax_data.nonce;var n=LLMS.Rest,i=n.get_query_vars();return e.data.post_id="post"in i?i.post:null,!e.data.post_id&&t("input#post_ID").length&&(e.data.post_id=t("input#post_ID").val()),e},call:function(t){var e=this.init(t);return!!e&&(this.request(e),this)},request:function(e){return t.ajax(e),this}},LLMS.Donut=function(e){function n(e){this.settings=t.extend({element:e.element,percent:100},e),this.circle=this.settings.element.find("path"),this.settings.stroke_width=parseInt(this.circle.css("stroke-width")),this.radius=(parseInt(this.settings.element.css("width"))-this.settings.stroke_width)/2,this.angle=-97.5,this.i=Math.round(.75*this.settings.percent),this.first=!0,this.animate=function(){this.timer=setInterval(this.loop.bind(this),10)},this.loop=function(){this.angle+=5,this.angle%=360;var t,e=this.angle/180*Math.PI,n=this.radius+this.settings.stroke_width/2+Math.cos(e)*this.radius,i=this.radius+this.settings.stroke_width/2+Math.sin(e)*this.radius;this.first===!0?(t=this.circle.attr("d")+" M "+n+" "+i,this.first=!1):t=this.circle.attr("d")+" L "+n+" "+i,this.circle.attr("d",t),this.i--,this.i<=0&&clearInterval(this.timer)}}function i(t){var e='<path d="M100,100" />';t.append('<svg preserveAspectRatio="xMidYMid" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>");var i=new n({element:t,percent:t.attr("data-perc")});i.animate()}i(e)},LLMS.Instructors={init:function(){var e=this;t("body").hasClass("wp-admin")||t(".llms-instructors").length&&LLMS.wait_for_matchHeight(function(){e.bind()})},bind:function(){t(".llms-instructors .llms-author").matchHeight()}},LLMS.l10n=LLMS.l10n||{},LLMS.l10n.translate=function(t){var e=this;return e.strings[t]?e.strings[t]:t},LLMS.l10n.replace=function(e,n){var i=this.translate(e);return t.each(n,function(t,e){-1!==t.indexOf("s")?e=e.toString():-1!==t.indexOf("d")&&(e=1*e),i=i.replace(t,e)}),i},LLMS.LessonPreview={$els:null,init:function(){var e=this;this.$locked=t('a[href="#llms-lesson-locked"]'),this.$locked.length&&e.bind(),t(".llms-course-navigation").length&&LLMS.wait_for_matchHeight(function(){e.match_height()})},bind:function(){var e=this;this.$locked.on("click",function(){return!1}),this.$locked.on("mouseenter",function(){var n=t(this).find(".llms-tooltip");if(!n.length){var i=t(this).attr("data-tooltip-msg");i||(i=LLMS.l10n.translate("You do not have permission to access this content")),n=e.get_tooltip(i),t(this).append(n)}setTimeout(function(){n.addClass("show")},10)}),this.$locked.on("mouseleave",function(){var e=t(this).find(".llms-tooltip");e.removeClass("show")})},match_height:function(){t(".llms-course-navigation .llms-lesson-link").matchHeight()},get_tooltip:function(e){var n=t('<div class="llms-tooltip" />');return n.append('<div class="llms-tooltip-content">'+e+"</div>"),n}},LLMS.Loops={init:function(){var e=this;t(".llms-loop").length&&LLMS.wait_for_matchHeight(function(){e.match_height()})},match_height:function(){t(".llms-loop-item .llms-loop-item-content").matchHeight(),t(".llms-achievement-loop-item .llms-achievement").matchHeight(),t(".llms-certificate-loop-item .llms-certificate").matchHeight()}},LLMS.OutlineCollapse={$outlines:null,init:function(){this.$outlines=t(".llms-widget-syllabus--collapsible"),this.$outlines.length&&this.bind()},bind:function(){var e=this;this.$outlines.each(function(){var n=t(this),i=n.find(".llms-section .section-header");i.on("click",function(n){n.preventDefault();var i=t(this),s=i.closest(".llms-section"),o=e.get_section_state(s);switch(o){case"closed":e.open_section(s);break;case"opened":e.close_section(s)}}),n.find(".llms-collapse-toggle").on("click",function(n){n.preventDefault();var s=t(this),o=s.attr("data-action"),r="close"===o?"opened":"closed";i.each(function(){var n=t(this).closest(".llms-section"),i=e.get_section_state(n);if(r!==i)return!0;switch(i){case"closed":e.close_section(n);break;case"opened":e.open_section(n)}t(this).trigger("click")})})})},close_section:function(t){t.removeClass("llms-section--opened").addClass("llms-section--closed")},open_section:function(t){t.removeClass("llms-section--closed").addClass("llms-section--opened")},get_section_state:function(t){return t.hasClass("llms-section--opened")?"opened":"closed"}},t.extend(LLMS.PasswordStrength,{$pass:t(".llms-password"),$conf:t(".llms-password-confirm"),$meter:t(".llms-password-strength-meter"),$form:null,init:function(){if(!t("body").hasClass("wp-admin")&&this.$meter.length){this.$form=this.$pass.closest("form");var e,n=this,i=0;e=setInterval(function(){if(i>=300)console.log("cannot do password strength meter.");else{if("undefined"==typeof wp&&"undefined"==typeof wp.passwordStrength)return void i++;n.bind(),n.$form.trigger("llms-password-strength-ready")}clearInterval(e)},100)}},bind:function(){var t=this;this.$form.hasClass("llms-checkout")||this.$form.on("submit",t,t.submit),t.$pass.add(t.$conf).on("keyup",function(){t.check_strength()})},check_strength:function(){var t=this.$pass.closest(".llms-form-field"),e=this.$conf.closest(".llms-form-field"),n=this.$pass.val().length,i=this.$conf.val().length;return n||i?(this.get_current_strength_status()?(t.removeClass("invalid").addClass("valid"),i&&e.removeClass("invalid").addClass("valid")):(t.removeClass("valid").addClass("invalid"),i&&e.removeClass("valid").addClass("invalid")),this.$meter.removeClass("too-short very-weak weak medium strong mismatch"),this.$meter.show().addClass(this.get_current_strength("slug")),void this.$meter.html(this.get_current_strength("text"))):(t.removeClass("valid invalid"),e.removeClass("valid invalid"),void this.$meter.hide())},checkout:function(t,e){e(t.get_current_strength_status()?!0:LLMS.l10n.translate("There is an issue with your chosen password."))},get_blacklist:function(){var t=wp.passwordStrength.userInputBlacklist();return t},get_current_strength:function(t){t=t||"int";var e,n=this.$pass.val(),i=this.$conf.val();return n.length<6?e=-1:(e=wp.passwordStrength.meter(n,this.get_blacklist(),i),0===e&&(e=1)),"slug"===t?this.get_strength_slug(e):"text"===t?this.get_strength_text(e):e},get_current_strength_status:function(){var t=this.get_current_strength(),e=this.get_strength_value(this.get_minimum_strength());return 5!==t&&t>=e},get_strength_slug:function(t){var e={"-1":"too-short",1:"very-weak",2:"weak",3:"medium",4:"strong",5:"mismatch"};return e[t]?e[t]:e[5]},get_strength_text:function(t){var e={"-1":LLMS.l10n.translate("Too Short"),1:LLMS.l10n.translate("Very Weak"),2:LLMS.l10n.translate("Weak"),3:LLMS.l10n.translate("Medium"),4:LLMS.l10n.translate("Strong"),5:LLMS.l10n.translate("Mismatch")};return e[t]?e[t]:e[5]},get_strength_value:function(t){var e={"too-short":-1,"very-weak":1,weak:2,medium:3,strong:4,mismatch:5};return e[t]?e[t]:e.mismatch},submit:function(e){var n=e.data;e.preventDefault(),n.$pass.trigger("keyup"),n.get_current_strength_status()?(n.$form.off("submit",n.submit),n.$form.trigger("submit")):(t("html, body").animate({scrollTop:n.$meter.offset().top-100},200),n.$meter.hide(),setTimeout(function(){n.$meter.fadeIn(400)},220))}}),LLMS.Pricing_Tables={init:function(){var e=this;t("body").hasClass("wp-admin")||t(".llms-access-plans").length&&(LLMS.wait_for_matchHeight(function(){e.bind()}),this.$locked=t('a[href="#llms-plan-locked"]'),this.$locked.length&&LLMS.wait_for_popover(function(){e.bind_locked()}))},bind:function(){t(".llms-access-plan-content").matchHeight(),t(".llms-access-plan-pricing.trial").matchHeight()},bind_locked:function(){this.$locked.each(function(){t(this).webuiPopover({animation:"pop",closeable:!0,content:function(e){var n=t('<div class="llms-members-only-restrictions" />');return n.append(e.$element.closest(".llms-access-plan").find(".llms-access-plan-restrictions ul").clone()),n},placement:"top",style:"inverse",title:LLMS.l10n.translate("Members Only Pricing"),width:"280px"})})}},LLMS.Review={init:function(){this.bind()},bind:function(){t("#llms_review_submit_button").click(function(){""!==t("#review_title").val()&&""!==t("#review_text").val()?jQuery.ajax({type:"post",dataType:"json",url:window.llms.ajaxurl,data:{action:"LLMSSubmitReview",review_title:t("#review_title").val(),review_text:t("#review_text").val(),pageID:t("#post_ID").val()},success:function(){console.log("Review success"),t("#review_box").hide("swing"),t("#thank_you_box").show("swing")},error:function(t,e,n){console.log(t),console.log(e),console.log(n)}}):(""===t("#review_title").val()?t("#review_title_error").show("swing"):t("#review_title_error").hide("swing"),""===t("#review_text").val()?t("#review_text_error").show("swing"):t("#review_text_error").hide("swing"))}),t("#_llms_display_reviews").attr("checked")?(t(".llms-num-reviews-top").addClass("top"),t(".llms-num-reviews-bottom").show()):t(".llms-num-reviews-bottom").hide(),t("#_llms_display_reviews").change(function(){t("#_llms_display_reviews").attr("checked")?(t(".llms-num-reviews-top").addClass("top"),t(".llms-num-reviews-bottom").show()):(t(".llms-num-reviews-top").removeClass("top"),t(".llms-num-reviews-bottom").hide())})}},LLMS.Spinner={get:function(e,n){var i=e.find(".llms-spinning").first();return i.length||(n=n?n:"default",i=t('<div class="llms-spinning"><i class="llms-spinner '+n+'"></i></div>'),e.append(i)),i},start:function(e,n){var i=this;e.each(function(){i.get(t(this),n).show()})},stop:function(e){var n=this;e.each(function(){n.get(t(this)).hide()})}},function(t){var e;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var n=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(i){function s(){}function o(e,n,o){if("undefined"!=typeof document){o=t({path:"/"},s.defaults,o),"number"==typeof o.expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(a){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var l="";for(var c in o)o[c]&&(l+="; "+c,o[c]!==!0&&(l+="="+o[c].split(";")[0]));return document.cookie=e+"="+n+l}}function r(t,n){if("undefined"!=typeof document){for(var s={},o=document.cookie?document.cookie.split("; "):[],r=0;r<o.length;r++){var a=o[r].split("="),l=a.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(a[0]);if(l=(i.read||i)(l,c)||e(l),n)try{l=JSON.parse(l)}catch(h){}if(s[c]=l,t===c)break}catch(h){}}return t?s[t]:s}}return s.set=o,s.get=function(t){return r(t,!1)},s.getJSON=function(t){return r(t,!0)},s.remove=function(e,n){o(e,"",t(n,{expires:-1}))},s.defaults={},s.withConverter=n,s}return n(function(){})}),LLMS.Storage=function(t){var e=this,n=Cookies.noConflict();this.clearAll=function(){n.remove(t)},this.clear=function(i){var s=e.getAll();return delete s[i],n.set(t,s)},this.getAll=function(){return n.getJSON(t)||{}},this.get=function(t,n){var i=e.getAll();return i[t]?i[t]:n},this.set=function(i,s){var o=e.getAll();return o[i]=s,n.set(t,o)}},LLMS.StudentDashboard={screen:"",meter_exists:0,init:function(){t(".llms-student-dashboard").length&&(this.meter_exists=t(".llms-password-strength-meter").length,this.bind(),"orders"===this.get_screen()&&this.bind_orders())},bind:function(){var e=this,n=t('.llms-student-dashboard a[href="#llms-password-change-toggle"]');n.on("click",function(n){n.preventDefault();var i=t(this),s=i.text(),o=i.attr("data-action"),r="hide"===o?"show":"hide",a=i.attr("data-text");e.password_toggle(o),"show"===o?i.attr("tabindex","-777"):i.removeAttr("tabindex"),i.attr("data-action",r).attr("data-text",s).text(a)}),this.meter_exists?t(".llms-person-form.edit-account").on("llms-password-strength-ready",function(){e.password_toggle("hide")}):e.password_toggle("hide"),t(".llms-donut").each(function(){LLMS.Donut(t(this))})},bind_orders:function(){t("#llms-cancel-subscription-form").on("submit",this.order_cancel_warning),t("#llms_update_payment_method").on("click",function(){t('input[name="llms_payment_gateway"]:checked').trigger("change"),t(this).closest("form").find(".llms-switch-payment-source-main").slideToggle("200")})},get_screen:function(){return this.screen||(this.screen=t(".llms-student-dashboard").attr("data-current")),this.screen},order_cancel_warning:function(e){e.preventDefault();var n=LLMS.l10n.translate("Are you sure you want to cancel your subscription?");window.confirm(LLMS.l10n.translate(n))&&(t(this).off("submit",this.order_cancel_warning),t(this).submit())},password_toggle:function(e){e||(e="show");var n=this,i=t("#password, #password_confirm, #current_password"),s=t("#password").closest("form");t(".llms-change-password")[e](),"show"===e?(i.attr("required","required"),n.meter_exists&&s.on("submit",LLMS.PasswordStrength,LLMS.PasswordStrength.submit)):(i.removeAttr("required").val(""),n.meter_exists&&(s.off("submit",LLMS.PasswordStrength.submit),LLMS.PasswordStrength.check_strength()))}},LLMS.Tracking=function(e){function n(){a.set("nonce",e.nonce),r.addEvent("page.load"),window.addEventListener("beforeunload",i),window.addEventListener("unload",s),document.addEventListener("visibilitychange",o)}function i(t){document.removeEventListener("visibilitychange",o)}function s(t){r.addEvent("page.exit")}function o(t){var e=document.hidden?"page.blur":"page.focus";r.addEvent(e)}var r=this,a=new LLMS.Storage("llms-tracking");e="string"==typeof e?JSON.parse(e):e,this.addEvent=function(t,n){if(n=n||{},"string"==typeof t&&(n.event=t),e.events&&-1!==e.events.indexOf(n.event)){t=r.makeEventObj(n);var i=a.get("events",[]);i.push(t),a.set("events",i)}},this.getSettings=function(){return e},this.makeEventObj=function(t){return Object.assign(t,{url:window.location.href,time:Math.round((new Date).getTime()/1e3)})},t("body").hasClass("wp-admin")||n()},llms.tracking=new LLMS.Tracking(llms.tracking),LLMS.Rest={init:function(){this.bind()},bind:function(){},is_path:function(t){for(var e=!1,n=window.location.href,i=0;i<t.length;i++)n.search(t[i])>0&&!e&&(e=!0);return e},get_query_vars:function(){for(var t,e=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<n.length;i++)t=n[i].split("="),e.push(t[0]),e[t[0]]=t[1];return e}},LLMS.init=function(){for(var t in LLMS)"object"==typeof LLMS[t]&&null!==LLMS[t]&&void 0!==LLMS[t].init&&"function"==typeof LLMS[t].init&&LLMS[t].init()},LLMS.is_touch_device=function(){var t=" -webkit- -moz- -o- -ms- ".split(" "),e=function(t){return window.matchMedia(t).matches};if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var n=["(",t.join("touch-enabled),("),"heartz",")"].join("");return e(n)},LLMS.wait_for_matchHeight=function(e){this.wait_for(function(){return void 0!==t.fn.matchHeight},e)},LLMS.wait_for_popover=function(e){this.wait_for(function(){return void 0!==t.fn.webuiPopover},e)},LLMS.wait_for=function(t,e){var n,i=0;n=setInterval(function(){if(i>=300)console.log("could not load dependency");else{if(!t())return console.log("waiting..."),void i++;e()}clearInterval(n)},100)},LLMS.init(t)}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMuanMiLCIuLi9hcHAvbGxtcy1hY2hpZXZlbWVudHMuanMiLCIuLi9hcHAvbGxtcy1hamF4LmpzIiwiLi4vYXBwL2xsbXMtZG9udXQuanMiLCIuLi9hcHAvbGxtcy1pbnN0cnVjdG9ycy5qcyIsIi4uL2FwcC9sbG1zLWwxMG4uanMiLCIuLi9hcHAvbGxtcy1sZXNzb24tcHJldmlldy5qcyIsIi4uL2FwcC9sbG1zLWxvb3BzLmpzIiwiLi4vYXBwL2xsbXMtb3V0bGluZS1jb2xsYXBzZS5qcyIsIi4uL2FwcC9sbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLmpzIiwiLi4vYXBwL2xsbXMtcHJpY2luZy10YWJsZXMuanMiLCIuLi9hcHAvbGxtcy1yZXZpZXcuanMiLCIuLi9hcHAvbGxtcy1zcGlubmVyLmpzIiwiLi4vdmVuZG9yL2pzLmNvb2tpZS5qcyIsIi4uL2FwcC9sbG1zLXN0b3JhZ2UuanMiLCIuLi9hcHAvbGxtcy1zdHVkZW50LWRhc2hib2FyZC5qcyIsIi4uL2FwcC9sbG1zLXRyYWNraW5nLmpzIiwiLi4vYXBwL3Jlc3QuanMiXSwibmFtZXMiOlsiTExNUyIsIndpbmRvdyIsIiQiLCJBY2hpZXZlbWVudHMiLCJpbml0Iiwic2VsZiIsInRoaXMiLCJkb2N1bWVudCIsIm9uIiwiYmluZCIsIm1heWJlX29wZW4iLCJlYWNoIiwiY3JlYXRlX21vZGFsIiwiJHRoaXMiLCJpZCIsImF0dHIiLCIkbW9kYWwiLCJsZW5ndGgiLCJpemlNb2RhbCIsIiRlbCIsImFwcGVuZCIsImhlYWRlckNvbG9yIiwiZ3JvdXAiLCJoaXN0b3J5IiwibG9vcCIsIm92ZXJsYXlDb2xvciIsInRyYW5zaXRpb25JbiIsInRyYW5zaXRpb25PdXQiLCJ3aWR0aCIsIm9uT3BlbmluZyIsIm1vZGFsIiwic2V0VGl0bGUiLCJmaW5kIiwiaHRtbCIsInNldFN1YnRpdGxlIiwic2V0Q29udGVudCIsIm9uQ2xvc2luZyIsInB1c2hTdGF0ZSIsInRpdGxlIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc2giLCJpbmRleE9mIiwiZmlyc3QiLCJ0cmlnZ2VyIiwiQWpheCIsInVybCIsImFqYXh1cmwiLCJsbG1zIiwidHlwZSIsImRhdGEiLCJjYWNoZSIsImRhdGFUeXBlIiwiYXN5bmMiLCJyZXNwb25zZSIsIm9iaiIsIl9hamF4X25vbmNlIiwid3BfYWpheF9kYXRhIiwibm9uY2UiLCIkUiIsIlJlc3QiLCJxdWVyeV92YXJzIiwiZ2V0X3F1ZXJ5X3ZhcnMiLCJwb3N0X2lkIiwicG9zdCIsInZhbCIsImNhbGwiLCJzZXR0aW5ncyIsInJlcXVlc3QiLCJhamF4IiwiRG9udXQiLCJvcHRpb25zIiwiZXh0ZW5kIiwiZWxlbWVudCIsInBlcmNlbnQiLCJjaXJjbGUiLCJzdHJva2Vfd2lkdGgiLCJwYXJzZUludCIsImNzcyIsInJhZGl1cyIsImFuZ2xlIiwiaSIsIk1hdGgiLCJyb3VuZCIsImFuaW1hdGUiLCJ0aW1lciIsInNldEludGVydmFsIiwiZCIsInJhZGlhbnMiLCJQSSIsIngiLCJjb3MiLCJ5Iiwic2luIiwiY2xlYXJJbnRlcnZhbCIsImRyYXciLCJwYXRoIiwiZG9udXQiLCJJbnN0cnVjdG9ycyIsImhhc0NsYXNzIiwid2FpdF9mb3JfbWF0Y2hIZWlnaHQiLCJtYXRjaEhlaWdodCIsImwxMG4iLCJ0cmFuc2xhdGUiLCJzdHJpbmciLCJzdHJpbmdzIiwicmVwbGFjZSIsInJlcGxhY2VtZW50cyIsInN0ciIsInRva2VuIiwidmFsdWUiLCJ0b1N0cmluZyIsIkxlc3NvblByZXZpZXciLCIkZWxzIiwiJGxvY2tlZCIsIm1hdGNoX2hlaWdodCIsIiR0aXAiLCJtc2ciLCJnZXRfdG9vbHRpcCIsInNldFRpbWVvdXQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiTG9vcHMiLCJPdXRsaW5lQ29sbGFwc2UiLCIkb3V0bGluZXMiLCIkb3V0bGluZSIsIiRoZWFkZXJzIiwiZSIsInByZXZlbnREZWZhdWx0IiwiJHRvZ2dsZSIsIiRzZWN0aW9uIiwiY2xvc2VzdCIsInN0YXRlIiwiZ2V0X3NlY3Rpb25fc3RhdGUiLCJvcGVuX3NlY3Rpb24iLCJjbG9zZV9zZWN0aW9uIiwiJGJ0biIsImFjdGlvbiIsIm9wcG9zaXRlX2FjdGlvbiIsIlBhc3N3b3JkU3RyZW5ndGgiLCIkcGFzcyIsIiRjb25mIiwiJG1ldGVyIiwiJGZvcm0iLCJpbnRlcnZhbCIsImNvdW50ZXIiLCJjb25zb2xlIiwibG9nIiwid3AiLCJwYXNzd29yZFN0cmVuZ3RoIiwic3VibWl0IiwiYWRkIiwiY2hlY2tfc3RyZW5ndGgiLCIkcGFzc19maWVsZCIsIiRjb25mX2ZpZWxkIiwicGFzc19sZW5ndGgiLCJjb25mX2xlbmd0aCIsImdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cyIsInNob3ciLCJnZXRfY3VycmVudF9zdHJlbmd0aCIsImhpZGUiLCJjaGVja291dCIsImNhbGxiYWNrIiwiZ2V0X2JsYWNrbGlzdCIsImJsYWNrbGlzdCIsInVzZXJJbnB1dEJsYWNrbGlzdCIsImZvcm1hdCIsInBhc3MiLCJjb25mIiwibWV0ZXIiLCJnZXRfc3RyZW5ndGhfc2x1ZyIsImdldF9zdHJlbmd0aF90ZXh0IiwiY3VyciIsIm1pbiIsImdldF9zdHJlbmd0aF92YWx1ZSIsImdldF9taW5pbXVtX3N0cmVuZ3RoIiwic3RyZW5ndGhfdmFsIiwic2x1Z3MiLCItMSIsIjEiLCIyIiwiMyIsIjQiLCI1IiwidGV4dHMiLCJzdHJlbmd0aF9zbHVnIiwidmFsdWVzIiwidG9vLXNob3J0IiwidmVyeS13ZWFrIiwid2VhayIsIm1lZGl1bSIsInN0cm9uZyIsIm1pc21hdGNoIiwib2ZmIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiZmFkZUluIiwiUHJpY2luZ19UYWJsZXMiLCJ3YWl0X2Zvcl9wb3BvdmVyIiwiYmluZF9sb2NrZWQiLCJ3ZWJ1aVBvcG92ZXIiLCJhbmltYXRpb24iLCJjbG9zZWFibGUiLCJjb250ZW50IiwiJGNvbnRlbnQiLCIkZWxlbWVudCIsImNsb25lIiwicGxhY2VtZW50Iiwic3R5bGUiLCJSZXZpZXciLCJjbGljayIsImpRdWVyeSIsInJldmlld190aXRsZSIsInJldmlld190ZXh0IiwicGFnZUlEIiwic3VjY2VzcyIsImVycm9yIiwianFYSFIiLCJ0ZXh0U3RhdHVzIiwiZXJyb3JUaHJvd24iLCJjaGFuZ2UiLCJTcGlubmVyIiwiZ2V0Iiwic2l6ZSIsIiRzcGlubmVyIiwic3RhcnQiLCJzdG9wIiwiZmFjdG9yeSIsInJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJPbGRDb29raWVzIiwiQ29va2llcyIsImFwaSIsIm5vQ29uZmxpY3QiLCJyZXN1bHQiLCJhcmd1bWVudHMiLCJhdHRyaWJ1dGVzIiwia2V5IiwiZGVjb2RlIiwicyIsImRlY29kZVVSSUNvbXBvbmVudCIsImNvbnZlcnRlciIsInNldCIsImRlZmF1bHRzIiwiZXhwaXJlcyIsIkRhdGUiLCJ0b1VUQ1N0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0ZXN0Iiwid3JpdGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJTdHJpbmciLCJlc2NhcGUiLCJzdHJpbmdpZmllZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVOYW1lIiwic3BsaXQiLCJjb29raWUiLCJqc29uIiwiamFyIiwiY29va2llcyIsInBhcnRzIiwic2xpY2UiLCJqb2luIiwiY2hhckF0IiwibmFtZSIsInJlYWQiLCJwYXJzZSIsImdldEpTT04iLCJyZW1vdmUiLCJ3aXRoQ29udmVydGVyIiwiU3RvcmFnZSIsInN0b3JlIiwiY2xlYXJBbGwiLCJjbGVhciIsImdldEFsbCIsImRlZmF1bHRfdmFsIiwiU3R1ZGVudERhc2hib2FyZCIsInNjcmVlbiIsIm1ldGVyX2V4aXN0cyIsImdldF9zY3JlZW4iLCJiaW5kX29yZGVycyIsImN1cnJfdGV4dCIsInRleHQiLCJjdXJyX2FjdGlvbiIsIm5ld19hY3Rpb24iLCJuZXdfdGV4dCIsInBhc3N3b3JkX3RvZ2dsZSIsInJlbW92ZUF0dHIiLCJvcmRlcl9jYW5jZWxfd2FybmluZyIsInNsaWRlVG9nZ2xlIiwiY29uZmlybSIsIiRwd2RzIiwiVHJhY2tpbmciLCJhZGRFdmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbkJlZm9yZVVubG9hZCIsIm9uVW5sb2FkIiwib25WaXNpYmlsaXR5Q2hhbmdlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiaGlkZGVuIiwiYXJncyIsImV2ZW50cyIsIm1ha2VFdmVudE9iaiIsImFsbCIsInB1c2giLCJnZXRTZXR0aW5ncyIsIk9iamVjdCIsImFzc2lnbiIsImhyZWYiLCJ0aW1lIiwiZ2V0VGltZSIsInRyYWNraW5nIiwiaXNfcGF0aCIsInBhdGhfZXhpc3RzIiwidmFycyIsImhhc2hlcyIsImZ1bmMiLCJ1bmRlZmluZWQiLCJpc190b3VjaF9kZXZpY2UiLCJwcmVmaXhlcyIsIm1xIiwicXVlcnkiLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsIkRvY3VtZW50VG91Y2giLCJjYiIsIndhaXRfZm9yIiwiZm4iXSwibWFwcGluZ3MiOiJBQU9BLEdBQUFBLE1BQUFDLE9BQUFELFVBQ0EsU0FBQUUsR0FFQSxZQ0RBRixNQUFBRyxjQVNBQyxLQUFBLFdBRUEsR0FBQUMsR0FBQUMsSUFFQUosR0FBQSxzQkFDQUEsRUFBQUssVUFBQUMsR0FBQSxRQUFBLFdBQ0FILEVBQUFJLE9BQ0FKLEVBQUFLLGdCQWFBRCxLQUFBLFdBRUEsR0FBQUosR0FBQUMsSUFFQUosR0FBQSxxQkFBQVMsS0FBQSxXQUVBTixFQUFBTyxhQUFBVixFQUFBSSxTQUlBSixFQUFBLHFCQUFBTSxHQUFBLFFBQUEsV0FFQSxHQUFBSyxHQUFBWCxFQUFBSSxNQUNBUSxFQUFBLGVBQUFELEVBQUFFLEtBQUEsV0FDQUMsRUFBQWQsRUFBQSxJQUFBWSxFQUVBRSxHQUFBQyxRQUNBWixFQUFBTyxhQUFBQyxHQUdBRyxFQUFBRSxTQUFBLFdBY0FOLGFBQUEsU0FBQU8sR0FFQSxHQUFBTCxHQUFBLGVBQUFLLEVBQUFKLEtBQUEsV0FDQUMsRUFBQWQsRUFBQSxJQUFBWSxFQUVBRSxHQUFBQyxTQUNBRCxFQUFBZCxFQUFBLDJD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LElBQUEwRyxJQVFBLE1BRkEzRyxTQUFBQyxJQUFBLGtCQUNBRixJQUxBMEwsS0FZQTdPLGNBQUFrRCxJQUVBLE1BSUFqSixLQUFBSSxLQUFBRixJQUVBbU4iLCJmaWxlIjoibGxtcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICpcbiAqIENvbnRyaWJ1dG9yJ3MgTm90aWNlXG4gKiBcbiAqIFRoaXMgaXMgYSBjb21waWxlZCBmaWxlIGFuZCBzaG91bGQgbm90IGJlIGVkaXRlZCBkaXJlY3RseSFcbiAqIFRoZSB1bmNvbXBpbGVkIHNjcmlwdCBpcyBsb2NhdGVkIGluIHRoZSBcImFzc2V0cy9wcml2YXRlXCIgZGlyZWN0b3J5XG4gKiBcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIE1haW4gTExNUyBOYW1lc3BhY2VcbiAqXG4gKiBAdHlwZSAgICAge09iamVjdH1cbiAqIEBzaW5jZSAgICAxLjAuMFxuICogQHZlcnNpb24gIDMuMjQuM1xuICovXG52YXIgTExNUyA9IHdpbmRvdy5MTE1TIHx8IHt9O1xuKGZ1bmN0aW9uKCQpe1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHQvKipcblx0ICogbG9hZCBhbGwgYXBwIG1vZHVsZXNcblx0ICovXG5cdC8qKlxuXHQgKiBGcm9udCBFbmQgQWNoaWV2ZW1lbnRzXG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0XG5cdExMTVMuQWNoaWV2ZW1lbnRzID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBJbml0XG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLWFjaGlldmVtZW50JyApICkge1xuXHRcdFx0XHQkKCBkb2N1bWVudCApLm9uKCAncmVhZHknLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0XHRzZWxmLm1heWJlX29wZW4oKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0JCggJy5sbG1zLWFjaGlldmVtZW50JyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0c2VsZi5jcmVhdGVfbW9kYWwoICQoIHRoaXMgKSApO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0XHQkKCAnLmxsbXMtYWNoaWV2ZW1lbnQnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0dmFyICR0aGlzICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRpZCAgICAgPSAnYWNoaWV2ZW1lbnQtJyArICR0aGlzLmF0dHIoICdkYXRhLWlkJyApLFxuXHRcdFx0XHRcdCRtb2RhbCA9ICQoICcjJyArIGlkICk7XG5cdFxuXHRcdFx0XHRpZiAoICEgJG1vZGFsLmxlbmd0aCApIHtcblx0XHRcdFx0XHRzZWxmLmNyZWF0ZV9tb2RhbCggJHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0JG1vZGFsLml6aU1vZGFsKCAnb3BlbicgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZXMgbW9kYWwgYSBtb2RhbCBmb3IgYW4gYWNoaWV2ZW1lbnRcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkZWwgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIG1vZGFsIGNhcmRcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0Y3JlYXRlX21vZGFsOiBmdW5jdGlvbiggJGVsICkge1xuXHRcblx0XHRcdHZhciBpZCAgICAgPSAnYWNoaWV2ZW1lbnQtJyArICRlbC5hdHRyKCAnZGF0YS1pZCcgKSxcblx0XHRcdFx0JG1vZGFsID0gJCggJyMnICsgaWQgKTtcblx0XG5cdFx0XHRpZiAoICEgJG1vZGFsLmxlbmd0aCApIHtcblx0XHRcdFx0JG1vZGFsID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLWFjaGlldmVtZW50LW1vZGFsXCIgaWQ9XCInICsgaWQgKyAnXCIgLz4nICk7XG5cdFx0XHRcdCQoICdib2R5JyApLmFwcGVuZCggJG1vZGFsICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0JG1vZGFsLml6aU1vZGFsKCB7XG5cdFx0XHRcdGhlYWRlckNvbG9yOiAnIzNhM2EzYScsXG5cdFx0XHRcdGdyb3VwOiAnYWNoaWV2ZW1lbnRzJyxcblx0XHRcdFx0aGlzdG9yeTogdHJ1ZSxcblx0XHRcdFx0bG9vcDogdHJ1ZSxcblx0XHRcdFx0b3ZlcmxheUNvbG9yOiAncmdiYSggMCwgMCwgMCwgMC42ICknLFxuXHRcdFx0XHR0cmFuc2l0aW9uSW46ICdmYWRlSW5Eb3duJyxcblx0XHRcdFx0dHJhbnNpdGlvbk91dDogJ2ZhZGVPdXREb3duJyxcblx0XHRcdFx0d2lkdGg6IDM0MCxcblx0XHRcdFx0b25PcGVuaW5nOiBmdW5jdGlvbiggbW9kYWwgKSB7XG5cdFxuXHRcdFx0XHRcdG1vZGFsLnNldFRpdGxlKCAkZWwuZmluZCggJy5sbG1zLWFjaGlldmVtZW50LXRpdGxlJyApLmh0bWwoKSApO1xuXHRcdFx0XHRcdG1vZGFsLnNldFN1YnRpdGxlKCAkZWwuZmluZCggJy5sbG1zLWFjaGlldmVtZW50LWRhdGUnICkuaHRtbCgpICk7XG5cdFx0XHRcdFx0bW9kYWwuc2V0Q29udGVudCggJzxkaXYgY2xhc3M9XCJsbG1zLWFjaGlldmVtZW50XCI+JyArICRlbC5odG1sKCkgKyAnPC9kaXY+JyApO1xuXHRcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdG9uQ2xvc2luZzogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0d2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKCAnJywgZG9jdW1lbnQudGl0bGUsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE9uIHBhZ2UgbG9hZCwgb3BlbnMgYSBtb2RhbCBpZiB0aGUgVVJMIGNvbnRhaW5zIGFuIGFjaGlldmVtZW50IGluIHRoZSBsb2NhdGlvbiBoYXNoXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0bWF5YmVfb3BlbjogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0XHRcdGlmICggaGFzaCAmJiAtMSAhPT0gaGFzaC5pbmRleE9mKCAnYWNoaWV2ZW1lbnQtJyApICkge1xuXHRcdFx0XHQkKCAnYVtocmVmPVwiJyArIGhhc2ggKyAnXCJdJyApLmZpcnN0KCkudHJpZ2dlciggJ2NsaWNrJyApO1xuXHRcdFx0fVxuXHRcblx0XHR9XG5cdFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogTWFpbiBBamF4IGNsYXNzXG5cdCAqIEhhbmRsZXMgUHJpbWFyeSBBamF4IGNvbm5lY3Rpb25cblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlIFVua25vd25cblx0ICogQHZlcnNpb24gVW5rbm93blxuXHQgKi9cblx0XG5cdExMTVMuQWpheCA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogVXJsXG5cdFx0ICpcblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqL1xuXHRcdHVybDogd2luZG93LmFqYXh1cmwgfHwgd2luZG93LmxsbXMuYWpheHVybCxcblx0XG5cdFx0LyoqXG5cdFx0ICogVHlwZVxuXHRcdCAqXG5cdFx0ICogQHR5cGUge1t0eXBlXX1cblx0XHQgKi9cblx0XHR0eXBlOiAncG9zdCcsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERhdGFcblx0XHQgKlxuXHRcdCAqIEB0eXBlIHtbdHlwZV19XG5cdFx0ICovXG5cdFx0ZGF0YTogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhY2hlXG5cdFx0ICpcblx0XHQgKiBAdHlwZSB7W3R5cGVdfVxuXHRcdCAqL1xuXHRcdGNhY2hlOiBmYWxzZSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRGF0YVR5cGVcblx0XHQgKiBkZWZhdWx0ZWQgdG8ganNvblxuXHRcdCAqXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKi9cblx0XHRkYXRhVHlwZTogJ2pzb24nLFxuXHRcblx0XHQvKipcblx0XHQgKiBBc3luY1xuXHRcdCAqIGRlZmF1bHQgdG8gZmFsc2Vcblx0XHQgKlxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqL1xuXHRcdGFzeW5jOiB0cnVlLFxuXHRcblx0XHRyZXNwb25zZTpbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZSBBamF4IG1ldGhvZHNcblx0XHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24ob2JqKSB7XG5cdFxuXHRcdFx0Ly8gaWYgb2JqIGlzIG5vdCBvZiB0eXBlIG9iamVjdCBvciBudWxsIHJldHVybiBmYWxzZTtcblx0XHRcdGlmICggb2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gc2V0IG9iamVjdCBkZWZhdWx0cyBpZiB2YWx1ZXMgYXJlIG5vdCBzdXBwbGllZFxuXHRcdFx0b2JqLnVybCAgICAgID0gJ3VybCcgICAgICAgICBpbiBvYmogPyBvYmoudXJsIDogdGhpcy51cmw7XG5cdFx0XHRvYmoudHlwZSAgICAgPSAndHlwZScgXHRcdGluIG9iaiA/IG9iai50eXBlIDogdGhpcy50eXBlO1xuXHRcdFx0b2JqLmRhdGEgICAgID0gJ2RhdGEnIFx0XHRpbiBvYmogPyBvYmouZGF0YSA6IHRoaXMuZGF0YTtcblx0XHRcdG9iai5jYWNoZSAgICA9ICdjYWNoZScgXHRcdGluIG9iaiA/IG9iai5jYWNoZSA6IHRoaXMuY2FjaGU7XG5cdFx0XHRvYmouZGF0YVR5cGUgPSAnZGF0YVR5cGUnXHRpbiBvYmogPyBvYmouZGF0YVR5cGUgOiB0aGlzLmRhdGFUeXBlO1xuXHRcdFx0b2JqLmFzeW5jICAgID0gJ2FzeW5jJ1x0XHRpbiBvYmogPyBvYmouYXN5bmMgOiB0aGlzLmFzeW5jO1xuXHRcblx0XHRcdC8vIGFkZCBub25jZSB0byBkYXRhIG9iamVjdFxuXHRcdFx0b2JqLmRhdGEuX2FqYXhfbm9uY2UgPSB3cF9hamF4X2RhdGEubm9uY2U7XG5cdFxuXHRcdFx0Ly8gYWRkIHBvc3QgaWQgdG8gZGF0YSBvYmplY3Rcblx0XHRcdHZhciAkUiAgICAgICAgICAgPSBMTE1TLlJlc3QsXG5cdFx0XHRxdWVyeV92YXJzICAgICAgID0gJFIuZ2V0X3F1ZXJ5X3ZhcnMoKTtcblx0XHRcdG9iai5kYXRhLnBvc3RfaWQgPSAncG9zdCcgaW4gcXVlcnlfdmFycyA/IHF1ZXJ5X3ZhcnMucG9zdCA6IG51bGw7XG5cdFx0XHRpZiAoICEgb2JqLmRhdGEucG9zdF9pZCAmJiAkKCAnaW5wdXQjcG9zdF9JRCcgKS5sZW5ndGggKSB7XG5cdFx0XHRcdG9iai5kYXRhLnBvc3RfaWQgPSAkKCAnaW5wdXQjcG9zdF9JRCcgKS52YWwoKTtcblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gb2JqO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhbGxcblx0XHQgKiBDYWxsZWQgYnkgZXh0ZXJuYWwgY2xhc3Nlc1xuXHRcdCAqIFNldHMgdXAgalF1ZXJ5IEFqYXggb2JqZWN0XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gIHtbb2JqZWN0XX0gW29iamVjdCBvZiBhamF4IHNldHRpbmdzXVxuXHRcdCAqIEByZXR1cm4ge1ttaXhlZF19IFtmYWxzZSBpZiBub3Qgb2JqZWN0IG9yIHRoaXNdXG5cdFx0ICovXG5cdFx0Y2FsbDogZnVuY3Rpb24ob2JqKSB7XG5cdFxuXHRcdFx0Ly8gZ2V0IGRlZmF1bHQgdmFyaWFibGVzIGlmIG5vdCBpbmNsdWRlZCBpbiBjYWxsXG5cdFx0XHR2YXIgc2V0dGluZ3MgPSB0aGlzLmluaXQoIG9iaiApO1xuXHRcblx0XHRcdC8vIGlmIGluaXQgcmV0dXJuIGEgcmVzcG9uc2Ugb2YgZmFsc2Vcblx0XHRcdGlmICggISBzZXR0aW5ncykge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnJlcXVlc3QoIHNldHRpbmdzICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhbGxzIGpRdWVyeSBBamF4IG9uIHNldHRpbmdzIG9iamVjdFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7W29iamVjdF19IFt0aGlzXVxuXHRcdCAqL1xuXHRcdHJlcXVlc3Q6IGZ1bmN0aW9uKHNldHRpbmdzKSB7XG5cdFxuXHRcdFx0JC5hamF4KCBzZXR0aW5ncyApO1xuXHRcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcblx0XHR9XG5cdFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogQ3JlYXRlIGEgRG9udXQgQ2hhcnRcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlICAgIDMuOS4wXG5cdCAqIEB2ZXJzaW9uICAzLjkuMFxuXHQgKlxuXHQgKiBAbGluayAgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vam9leWluYm94LzgyMDU5NjJcblx0ICpcblx0ICogQHBhcmFtICAgIG9iaiAgICRlbCAgalF1ZXJ5IGVsZW1lbnQgdG8gZHJhdyBhIGNoYXJ0IHdpdGhpblxuXHQgKi9cblx0XG5cdExMTVMuRG9udXQgPSBmdW5jdGlvbiggJGVsICkge1xuXHRcblx0XHRmdW5jdGlvbiBEb251dChvcHRpb25zKSB7XG5cdFxuXHRcdFx0dGhpcy5zZXR0aW5ncyA9ICQuZXh0ZW5kKCB7XG5cdFx0XHRcdGVsZW1lbnQ6IG9wdGlvbnMuZWxlbWVudCxcblx0XHRcdFx0cGVyY2VudDogMTAwXG5cdFx0XHR9LCBvcHRpb25zICk7XG5cdFxuXHRcdFx0dGhpcy5jaXJjbGUgICAgICAgICAgICAgICAgPSB0aGlzLnNldHRpbmdzLmVsZW1lbnQuZmluZCggJ3BhdGgnICk7XG5cdFx0XHR0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCA9IHBhcnNlSW50KCB0aGlzLmNpcmNsZS5jc3MoICdzdHJva2Utd2lkdGgnICkgKTtcblx0XHRcdHRoaXMucmFkaXVzICAgICAgICAgICAgICAgID0gKCBwYXJzZUludCggdGhpcy5zZXR0aW5ncy5lbGVtZW50LmNzcyggJ3dpZHRoJyApICkgLSB0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCApIC8gMjtcblx0XHRcdHRoaXMuYW5nbGUgICAgICAgICAgICAgICAgID0gLTk3LjU7IC8vIE9yaWdpbiBvZiB0aGUgZHJhdyBhdCB0aGUgdG9wIG9mIHRoZSBjaXJjbGVcblx0XHRcdHRoaXMuaSAgICAgICAgICAgICAgICAgICAgID0gTWF0aC5yb3VuZCggMC43NSAqIHRoaXMuc2V0dGluZ3MucGVyY2VudCApO1xuXHRcdFx0dGhpcy5maXJzdCAgICAgICAgICAgICAgICAgPSB0cnVlO1xuXHRcblx0XHRcdHRoaXMuYW5pbWF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoIHRoaXMubG9vcC5iaW5kKCB0aGlzICksIDEwICk7XG5cdFx0XHR9O1xuXHRcblx0XHRcdHRoaXMubG9vcCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLmFuZ2xlICs9IDU7XG5cdFx0XHRcdHRoaXMuYW5nbGUgJT0gMzYwO1xuXHRcdFx0XHR2YXIgcmFkaWFucyA9ICggdGhpcy5hbmdsZSAvIDE4MCApICogTWF0aC5QSSxcblx0XHRcdFx0XHR4ICAgICAgID0gdGhpcy5yYWRpdXMgKyB0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCAvIDIgKyBNYXRoLmNvcyggcmFkaWFucyApICogdGhpcy5yYWRpdXMsXG5cdFx0XHRcdFx0eSAgICAgICA9IHRoaXMucmFkaXVzICsgdGhpcy5zZXR0aW5ncy5zdHJva2Vfd2lkdGggLyAyICsgTWF0aC5zaW4oIHJhZGlhbnMgKSAqIHRoaXMucmFkaXVzLFxuXHRcdFx0XHRcdGQ7XG5cdFx0XHRcdGlmICh0aGlzLmZpcnN0ID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0ZCAgICAgICAgICA9IHRoaXMuY2lyY2xlLmF0dHIoICdkJyApICsgJyBNICcgKyB4ICsgJyAnICsgeTtcblx0XHRcdFx0XHR0aGlzLmZpcnN0ID0gZmFsc2U7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZCA9IHRoaXMuY2lyY2xlLmF0dHIoICdkJyApICsgJyBMICcgKyB4ICsgJyAnICsgeTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLmNpcmNsZS5hdHRyKCAnZCcsIGQgKTtcblx0XHRcdFx0dGhpcy5pLS07XG5cdFxuXHRcdFx0XHRpZiAodGhpcy5pIDw9IDApIHtcblx0XHRcdFx0XHRjbGVhckludGVydmFsKCB0aGlzLnRpbWVyICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcblx0XHRmdW5jdGlvbiBkcmF3KCAkZWwgKSB7XG5cdFx0XHR2YXIgcGF0aCA9ICc8cGF0aCBkPVwiTTEwMCwxMDBcIiAvPic7XG5cdFx0XHQkZWwuYXBwZW5kKCAnPHN2ZyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWRcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIj4nICsgcGF0aCArICc8L3N2Zz4nICk7XG5cdFx0XHR2YXIgZG9udXQgPSBuZXcgRG9udXQoIHtcblx0XHRcdFx0ZWxlbWVudDogJGVsLFxuXHRcdFx0XHRwZXJjZW50OiAkZWwuYXR0ciggJ2RhdGEtcGVyYycgKVxuXHRcdFx0fSApO1xuXHRcdFx0ZG9udXQuYW5pbWF0ZSgpO1xuXHRcdH1cblx0XG5cdFx0ZHJhdyggJGVsICk7XG5cdFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogSW5zdHJ1Y3RvcnMgTGlzdFxuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgIFVua25vd25cblx0ICogQHZlcnNpb24gIFVua25vd25cblx0ICovXG5cdFxuXHRMTE1TLkluc3RydWN0b3JzID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBJbml0XG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLWluc3RydWN0b3JzJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIE1ldGhvZFxuXHRcdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0JCggJy5sbG1zLWluc3RydWN0b3JzIC5sbG1zLWF1dGhvcicgKS5tYXRjaEhlaWdodCgpO1xuXHRcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdFx0LyoqXG5cdCAqIExvY2FsaXphdGlvbiBmdW5jdGlvbnMgZm9yIExpZnRlckxNUyBKYXZhc2NyaXB0XG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSAgMi43LjNcblx0ICogQHZlcnNpb24gIDIuNy4zXG5cdCAqXG5cdCAqIEB0b2RvICB3ZSBuZWVkIG1vcmUgcm9idXN0IHRyYW5zbGF0aW9uIGZ1bmN0aW9ucyB0byBoYW5kbGUgc3ByaW50ZiBhbmQgcGx1cmFsaXphdGlvblxuXHQgKiAgICAgICAgYXQgdGhpcyBtb21lbnQgd2UgZG9uJ3QgbmVlZCB0aG9zZSBhbmQgaGF2ZW4ndCBzdHViYmVkIHRoZW0gb3V0XG5cdCAqICAgICAgICB0aG9zZSB3aWxsIGJlIGFkZGVkIHdoZW4gdGhleSdyZSBuZWVkZWRcblx0ICovXG5cdFxuXHRMTE1TLmwxMG4gPSBMTE1TLmwxMG4gfHwge307XG5cdFxuXHRMTE1TLmwxMG4udHJhbnNsYXRlID0gZnVuY3Rpb24gKCBzdHJpbmcgKSB7XG5cdFxuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0aWYgKCBzZWxmLnN0cmluZ3Nbc3RyaW5nXSApIHtcblx0XG5cdFx0XHRyZXR1cm4gc2VsZi5zdHJpbmdzW3N0cmluZ107XG5cdFxuXHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0cmV0dXJuIHN0cmluZztcblx0XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBUcmFuc2xhdGUgYW5kIHJlcGxhY2UgcGxhY2Vob2xkZXJzIGluIGEgc3RyaW5nXG5cdCAqXG5cdCAqIEBleGFtcGxlIExMTVMubDEwbi5yZXBsYWNlKCAnVGhpcyBpcyBhICUyJHMgJTEkcyBTdHJpbmcnLCB7XG5cdCAqICAgICAgICAgICBcdCclMSRzJzogJ2Nvb2wnLFxuXHQgKiAgICBcdFx0XHQnJTIkcyc6ICd2ZXJ5J1xuXHQgKiAgICBcdFx0fSApO1xuXHQgKiAgICBcdFx0T3V0cHV0OiBcIlRoaXMgaXMgYSB2ZXJ5IGNvb2wgU3RyaW5nXCJcblx0ICpcblx0ICogQHBhcmFtICAgIHN0cmluZyAgIHN0cmluZyAgICAgICAgdGV4dCBzdHJpbmdcblx0ICogQHBhcmFtICAgIG9iamVjdCAgIHJlcGxhY2VtZW50cyAgb2JqZWN0IGNvbnRhaW5pbmcgdG9rZW4gPT4gcmVwbGFjZW1lbnQgcGFpcnNcblx0ICogQHJldHVybiAgIHN0cmluZ1xuXHQgKiBAc2luY2UgICAgMy4xNi4wXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjBcblx0ICovXG5cdExMTVMubDEwbi5yZXBsYWNlID0gZnVuY3Rpb24oIHN0cmluZywgcmVwbGFjZW1lbnRzICkge1xuXHRcblx0XHR2YXIgc3RyID0gdGhpcy50cmFuc2xhdGUoIHN0cmluZyApO1xuXHRcblx0XHQkLmVhY2goIHJlcGxhY2VtZW50cywgZnVuY3Rpb24oIHRva2VuLCB2YWx1ZSApIHtcblx0XG5cdFx0XHRpZiAoIC0xICE9PSB0b2tlbi5pbmRleE9mKCAncycgKSApIHtcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuXHRcdFx0fSBlbHNlIGlmICggLTEgIT09IHRva2VuLmluZGV4T2YoICdkJyApICkge1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlICogMTtcblx0XHRcdH1cblx0XG5cdFx0XHRzdHIgPSBzdHIucmVwbGFjZSggdG9rZW4sIHZhbHVlICk7XG5cdFxuXHRcdH0gKTtcblx0XG5cdFx0cmV0dXJuIHN0cjtcblx0XG5cdH07XG5cdFxuXHRcdC8qKlxuXHQgKiBIYW5kbGUgTGVzc29uIFByZXZpZXcgRWxlbWVudHNcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjEyXG5cdCAqL1xuXHRcblx0TExNUy5MZXNzb25QcmV2aWV3ID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBBIGpRdWVyeSBvYmplY3Qgb2YgYWxsIG91dGxpbmVzIHByZXNlbnQgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBvYmpcblx0XHQgKi9cblx0XHQkZWxzOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkID0gJCggJ2FbaHJlZj1cIiNsbG1zLWxlc3Nvbi1sb2NrZWRcIl0nICk7XG5cdFxuXHRcdFx0aWYgKCB0aGlzLiRsb2NrZWQubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLWNvdXJzZS1uYXZpZ2F0aW9uJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHRzZWxmLm1hdGNoX2hlaWdodCgpO1xuXHRcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBET00gZXZlbnRzXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNi4xMlxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHR0aGlzLiRsb2NrZWQub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkLm9uKCAnbW91c2VlbnRlcicsIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHRcdGlmICggISAkdGlwLmxlbmd0aCApIHtcblx0XHRcdFx0XHR2YXIgbXNnID0gJCggdGhpcyApLmF0dHIoICdkYXRhLXRvb2x0aXAtbXNnJyApO1xuXHRcdFx0XHRcdGlmICggISBtc2cgKSB7XG5cdFx0XHRcdFx0XHRtc2cgPSBMTE1TLmwxMG4udHJhbnNsYXRlKCAnWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoaXMgY29udGVudCcgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JHRpcCA9IHNlbGYuZ2V0X3Rvb2x0aXAoIG1zZyApO1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5hcHBlbmQoICR0aXAgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkdGlwLmFkZENsYXNzKCAnc2hvdycgKTtcblx0XHRcdFx0fSwgMTAgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkLm9uKCAnbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHRcdCR0aXAucmVtb3ZlQ2xhc3MoICdzaG93JyApO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogTWF0Y2ggdGhlIGhlaWdodCBvZiBsZXNzb24gcHJldmlldyBpdGVtcyBpbiBjb3Vyc2UgbmF2aWdhdGlvbiBibG9ja3Ncblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0bWF0Y2hfaGVpZ2h0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHQkKCAnLmxsbXMtY291cnNlLW5hdmlnYXRpb24gLmxsbXMtbGVzc29uLWxpbmsnICkubWF0Y2hIZWlnaHQoKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IGEgdG9vbHRpcCBlbGVtZW50XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgbXNnICAgbWVzc2FnZSB0byBkaXNwbGF5IGluc2lkZSB0aGUgdG9vbHRpcFxuXHRcdCAqIEByZXR1cm4gICBvYmpcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yLjRcblx0XHQgKi9cblx0XHRnZXRfdG9vbHRpcDogZnVuY3Rpb24oIG1zZyApIHtcblx0XHRcdHZhciAkZWwgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtdG9vbHRpcFwiIC8+JyApO1xuXHRcdFx0JGVsLmFwcGVuZCggJzxkaXYgY2xhc3M9XCJsbG1zLXRvb2x0aXAtY29udGVudFwiPicgKyBtc2cgKyAnPC9kaXY+JyApO1xuXHRcdFx0cmV0dXJuICRlbDtcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdFx0LyoqXG5cdCAqIExpZnRlckxNUyBMb29wcyBKU1xuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0XG5cdExMTVMuTG9vcHMgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoICQoICcubGxtcy1sb29wJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0XHRzZWxmLm1hdGNoX2hlaWdodCgpO1xuXHRcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogTWF0Y2ggdGhlIGhlaWdodCBvZiAubGxtcy1sb29wLWl0ZW1cblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHRcdCAqL1xuXHRcdG1hdGNoX2hlaWdodDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0JCggJy5sbG1zLWxvb3AtaXRlbSAubGxtcy1sb29wLWl0ZW0tY29udGVudCcgKS5tYXRjaEhlaWdodCgpO1xuXHRcdFx0JCggJy5sbG1zLWFjaGlldmVtZW50LWxvb3AtaXRlbSAubGxtcy1hY2hpZXZlbWVudCcgKS5tYXRjaEhlaWdodCgpO1xuXHRcdFx0JCggJy5sbG1zLWNlcnRpZmljYXRlLWxvb3AtaXRlbSAubGxtcy1jZXJ0aWZpY2F0ZScgKS5tYXRjaEhlaWdodCgpO1xuXHRcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdFx0LyoqXG5cdCAqIEhhbmRsZSB0aGUgQ29sbGFwc2libGUgU3lsbGFidXMgV2lkZ2V0IC8gU2hvcnRjb2RlXG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSBVbmtub3duXG5cdCAqIEB2ZXJzaW9uIFVua25vd25cblx0ICovXG5cdFxuXHRMTE1TLk91dGxpbmVDb2xsYXBzZSA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogQSBqUXVlcnkgb2JqZWN0IG9mIGFsbCBvdXRsaW5lcyBwcmVzZW50IG9uIHRoZSBjdXJyZW50IHNjcmVlblxuXHRcdCAqXG5cdFx0ICogQHR5cGUgb2JqXG5cdFx0ICovXG5cdFx0JG91dGxpbmVzOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR0aGlzLiRvdXRsaW5lcyA9ICQoICcubGxtcy13aWRnZXQtc3lsbGFidXMtLWNvbGxhcHNpYmxlJyApO1xuXHRcblx0XHRcdGlmICggdGhpcy4kb3V0bGluZXMubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0dGhpcy5iaW5kKCk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHR0aGlzLiRvdXRsaW5lcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHZhciAkb3V0bGluZSA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHQkaGVhZGVycyA9ICRvdXRsaW5lLmZpbmQoICcubGxtcy1zZWN0aW9uIC5zZWN0aW9uLWhlYWRlcicgKTtcblx0XG5cdFx0XHRcdC8vIGJpbmQgaGVhZGVyIGNsaWNrc1xuXHRcdFx0XHQkaGVhZGVycy5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cdFxuXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0XHRcdFx0dmFyICR0b2dnbGUgID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdFx0JHNlY3Rpb24gPSAkdG9nZ2xlLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0c3RhdGUgICAgPSBzZWxmLmdldF9zZWN0aW9uX3N0YXRlKCAkc2VjdGlvbiApO1xuXHRcblx0XHRcdFx0XHRzd2l0Y2ggKCBzdGF0ZSApIHtcblx0XG5cdFx0XHRcdFx0XHRjYXNlICdjbG9zZWQnOlxuXHRcdFx0XHRcdFx0XHRzZWxmLm9wZW5fc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHRcdGNhc2UgJ29wZW5lZCc6XG5cdFx0XHRcdFx0XHRcdHNlbGYuY2xvc2Vfc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0XHQvLyBiaW5kIG9wdGlvbmFsIHRvZ2dsZSBcImJ1dHRvbnNcIlxuXHRcdFx0XHQkb3V0bGluZS5maW5kKCAnLmxsbXMtY29sbGFwc2UtdG9nZ2xlJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblx0XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHRcdFx0XHR2YXIgJGJ0biAgICAgICAgICAgID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdFx0YWN0aW9uICAgICAgICAgID0gJGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nICksXG5cdFx0XHRcdFx0XHRvcHBvc2l0ZV9hY3Rpb24gPSAoICdjbG9zZScgPT09IGFjdGlvbiApID8gJ29wZW5lZCcgOiAnY2xvc2VkJztcblx0XG5cdFx0XHRcdFx0JGhlYWRlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdFx0dmFyICRzZWN0aW9uID0gJCggdGhpcyApLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0XHRzdGF0ZSAgICA9IHNlbGYuZ2V0X3NlY3Rpb25fc3RhdGUoICRzZWN0aW9uICk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBvcHBvc2l0ZV9hY3Rpb24gIT09IHN0YXRlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRzd2l0Y2ggKCBzdGF0ZSApIHtcblx0XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2Nsb3NlZCc6XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5jbG9zZV9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ29wZW5lZCc6XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5vcGVuX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQkKCB0aGlzICkudHJpZ2dlciggJ2NsaWNrJyApO1xuXHRcblx0XHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDbG9zZSBhbiBvdXRsaW5lIHNlY3Rpb25cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0Y2xvc2Vfc2VjdGlvbjogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXHRcblx0XHRcdCRzZWN0aW9uLnJlbW92ZUNsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICkuYWRkQ2xhc3MoICdsbG1zLXNlY3Rpb24tLWNsb3NlZCcgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogT3BlbiBhbiBvdXRsaW5lIHNlY3Rpb25cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0b3Blbl9zZWN0aW9uOiBmdW5jdGlvbiggJHNlY3Rpb24gKSB7XG5cdFxuXHRcdFx0JHNlY3Rpb24ucmVtb3ZlQ2xhc3MoICdsbG1zLXNlY3Rpb24tLWNsb3NlZCcgKS5hZGRDbGFzcyggJ2xsbXMtc2VjdGlvbi0tb3BlbmVkJyApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgdGhlIGN1cnJlbnQgc3RhdGUgKG9wZW4gb3IgY2xvc2VkKSBvZiBhbiBvdXRsaW5lIHNlY3Rpb25cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdFx0ICogQHJldHVybiBzdHJpbmcgICAgICAgICAgICAnb3BlbmVkJyBvciAnY2xvc2VkJ1xuXHRcdCAqL1xuXHRcdGdldF9zZWN0aW9uX3N0YXRlOiBmdW5jdGlvbiggJHNlY3Rpb24gKSB7XG5cdFxuXHRcdFx0cmV0dXJuICRzZWN0aW9uLmhhc0NsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICkgPyAnb3BlbmVkJyA6ICdjbG9zZWQnO1xuXHRcblx0XHR9XG5cdFxuXHR9O1xuXHRcblx0XHQvKipcblx0ICogSGFuZGxlIFBhc3N3b3JkIFN0cmVuZ3RoIE1ldGVyIGZvciByZWdpc3RyYXRpb24gYW5kIHBhc3N3b3JkIHVwZGF0ZSBmaWVsZHNcblx0ICpcblx0ICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcblx0ICpcblx0ICogQHNpbmNlIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjcuMFxuXHQgKi9cblx0XG5cdCQuZXh0ZW5kKCBMTE1TLlBhc3N3b3JkU3RyZW5ndGgsIHtcblx0XG5cdFx0JHBhc3M6ICQoICcubGxtcy1wYXNzd29yZCcgKSxcblx0XHQkY29uZjogJCggJy5sbG1zLXBhc3N3b3JkLWNvbmZpcm0nICksXG5cdFx0JG1ldGVyOiAkKCAnLmxsbXMtcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXInICksXG5cdFx0JGZvcm06IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRcblx0XHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy43LjBcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRpZiAoICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIHRoaXMuJG1ldGVyLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdHRoaXMuJGZvcm0gPSB0aGlzLiRwYXNzLmNsb3Nlc3QoICdmb3JtJyApO1xuXHRcblx0XHRcdFx0Ly8gb3VyIGFzc2V0IGVucXVldWUgaXMgYWxsIHNjcmV3ZWQgdXAgYW5kIEknbSB0b28gdGlyZWQgdG8gZml4IGl0XG5cdFx0XHRcdC8vIHNvIHdlJ3JlIGdvaW5nIHRvIHJ1biB0aGlzIGxpdHRsZSBkZXBlbmRlbmN5IGNoZWNrXG5cdFx0XHRcdC8vIGFuZCB3YWl0IGZvciBtYXRjaEhlaWdodCB0byBiZSBhdmFpbGFibGUgYmVmb3JlIGJpbmRpbmdcblx0XHRcdFx0dmFyIHNlbGYgICAgPSB0aGlzLFxuXHRcdFx0XHRcdGNvdW50ZXIgPSAwLFxuXHRcdFx0XHRcdGludGVydmFsO1xuXHRcblx0XHRcdFx0aW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdC8vIGlmIHdlIGdldCB0byAzMCBzZWNvbmRzIGxvZyBhbiBlcnJvciBtZXNzYWdlXG5cdFx0XHRcdFx0Ly8gYW5kIHJlYWxseSB3aG8gY2FyZXMgaWYgdGhlIGVsZW1lbnQgaGVpZ2h0cyBhcmVuJ3QgbWF0Y2hlZFxuXHRcdFx0XHRcdGlmICggY291bnRlciA+PSAzMDAgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coICdjYW5ub3QgZG8gcGFzc3dvcmQgc3RyZW5ndGggbWV0ZXIuJyApO1xuXHRcblx0XHRcdFx0XHRcdC8vIGlmIHdlIGNhbid0IGFjY2VzcyB5ZSwgaW5jcmVtZW50IGFuZCB3YWl0Li4uXG5cdFx0XHRcdFx0fSBlbHNlIGlmICggJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB3cCAmJiAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHdwLnBhc3N3b3JkU3RyZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRcdFx0Y291bnRlcisrO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcblx0XHRcdFx0XHRcdC8vIGJpbmQgdGhlIGV2ZW50cywgd2UncmUgZ29vZCFcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0XHRcdFx0c2VsZi4kZm9ybS50cmlnZ2VyKCAnbGxtcy1wYXNzd29yZC1zdHJlbmd0aC1yZWFkeScgKTtcblx0XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRjbGVhckludGVydmFsKCBpbnRlcnZhbCApO1xuXHRcblx0XHRcdFx0fSwgMTAwICk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIE1ldGhvZFxuXHRcdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdC8vIGFkZCBzdWJtaXNzaW9uIGV2ZW50IGhhbmRsZXJzIHdoZW4gbm90IG9uIGEgY2hlY2tvdXQgZm9ybVxuXHRcdFx0aWYgKCAhIHRoaXMuJGZvcm0uaGFzQ2xhc3MoICdsbG1zLWNoZWNrb3V0JyApICkge1xuXHRcdFx0XHR0aGlzLiRmb3JtLm9uKCAnc3VibWl0Jywgc2VsZiwgc2VsZi5zdWJtaXQgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBjaGVjayBwYXNzd29yZCBzdHJlbmd0aCBvbiBrZXl1cFxuXHRcdFx0c2VsZi4kcGFzcy5hZGQoIHNlbGYuJGNvbmYgKS5vbiggJ2tleXVwJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuY2hlY2tfc3RyZW5ndGgoKTtcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2hlY2sgdGhlIHN0cmVuZ3RoIG9mIGEgdXNlciBlbnRlcmVkIHBhc3N3b3JkXG5cdFx0ICogYW5kIHVwZGF0ZSBlbGVtZW50cyBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQgc3RyZW5ndGhcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqIEBzaW5jZSAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uIDMuMC4wXG5cdFx0ICovXG5cdFx0Y2hlY2tfc3RyZW5ndGg6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciAkcGFzc19maWVsZCA9IHRoaXMuJHBhc3MuY2xvc2VzdCggJy5sbG1zLWZvcm0tZmllbGQnICksXG5cdFx0XHRcdCRjb25mX2ZpZWxkID0gdGhpcy4kY29uZi5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKSxcblx0XHRcdFx0cGFzc19sZW5ndGggPSB0aGlzLiRwYXNzLnZhbCgpLmxlbmd0aCxcblx0XHRcdFx0Y29uZl9sZW5ndGggPSB0aGlzLiRjb25mLnZhbCgpLmxlbmd0aDtcblx0XG5cdFx0XHQvLyBoaWRlIHRoZSBtZXRlciBpZiBib3RoIGZpZWxkcyBhcmUgZW1wdHlcblx0XHRcdGlmICggISBwYXNzX2xlbmd0aCAmJiAhIGNvbmZfbGVuZ3RoICkge1xuXHRcdFx0XHQkcGFzc19maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkIGludmFsaWQnICk7XG5cdFx0XHRcdCRjb25mX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQgaW52YWxpZCcgKTtcblx0XHRcdFx0dGhpcy4kbWV0ZXIuaGlkZSgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cygpICkge1xuXHRcdFx0XHQkcGFzc19maWVsZC5yZW1vdmVDbGFzcyggJ2ludmFsaWQnICkuYWRkQ2xhc3MoICd2YWxpZCcgKTtcblx0XHRcdFx0aWYgKCBjb25mX2xlbmd0aCApIHtcblx0XHRcdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ2ludmFsaWQnICkuYWRkQ2xhc3MoICd2YWxpZCcgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCcgKS5hZGRDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHRcdGlmICggY29uZl9sZW5ndGggKSB7XG5cdFx0XHRcdFx0JGNvbmZfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCcgKS5hZGRDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHR0aGlzLiRtZXRlci5yZW1vdmVDbGFzcyggJ3Rvby1zaG9ydCB2ZXJ5LXdlYWsgd2VhayBtZWRpdW0gc3Ryb25nIG1pc21hdGNoJyApO1xuXHRcdFx0dGhpcy4kbWV0ZXIuc2hvdygpLmFkZENsYXNzKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoKCAnc2x1ZycgKSApO1xuXHRcdFx0dGhpcy4kbWV0ZXIuaHRtbCggdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCggJ3RleHQnICkgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRm9ybSBzdWJtaXNzaW9uIGFjdGlvbiBjYWxsZWQgZHVyaW5nIHJlZ2lzdHJhdGlvbiBvbiBjaGVja291dCBzY3JlZW5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAgICAgc2VsZiAgICAgIGluc3RhbmNlIG9mIHRoaXMgY2xhc3Ncblx0XHQgKiBAcGFyYW0gICAgRnVuY3Rpb24gIGNhbGxiYWNrICBjYWxsYmFjayBmdW5jdGlvbiwgcGFzc2VzIGVycm9yIG1lc3NhZ2Ugb3Igc3VjY2VzcyBiYWNrIHRvIGNoZWNrb3V0IGhhbmRsZXJcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGNoZWNrb3V0OiBmdW5jdGlvbiggc2VsZiwgY2FsbGJhY2sgKSB7XG5cdFxuXHRcdFx0aWYgKCBzZWxmLmdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cygpICkge1xuXHRcblx0XHRcdFx0Y2FsbGJhY2soIHRydWUgKTtcblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0Y2FsbGJhY2soIExMTVMubDEwbi50cmFuc2xhdGUoICdUaGVyZSBpcyBhbiBpc3N1ZSB3aXRoIHlvdXIgY2hvc2VuIHBhc3N3b3JkLicgKSApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBsaXN0IG9mIGJsYWNrbGlzdGVkIHN0cmluZ3Ncblx0XHQgKiBXZSdsbCBhZGQgYSBmaWx0ZXIgdG8gdGhpcyBsYXRlciBzbyB0aGF0IGRldmVsb3BlcnMgY2FuIGFkZCB0aGVpciBvd24gYmxhY2tsaXN0IHRvIHRoZSBkZWZhdWx0IFdQIGxpc3Rcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gYXJyYXlcblx0XHQgKiBAc2luY2UgMy4wLjBcblx0XHQgKi9cblx0XHRnZXRfYmxhY2tsaXN0OiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBibGFja2xpc3QgPSB3cC5wYXNzd29yZFN0cmVuZ3RoLnVzZXJJbnB1dEJsYWNrbGlzdCgpO1xuXHRcdFx0cmV0dXJuIGJsYWNrbGlzdDtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBSZXRyaWV2ZSBjdXJyZW50IHN0cmVuZ3RoIGFzIGEgbnVtYmVyLCBhIHNsdWcsIG9yIGEgdHJhbnNsYXRlZCB0ZXh0IHN0cmluZ1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtICAgIHN0cmluZyAgIGZvcm1hdCAgZGVyaXZlZCByZXR1cm4gZm9ybWF0IFtpbnR8c2x1Z3x0ZXh0XSBkZWZhdWx0cyB0byBpbnRcblx0XHQgKiBAcmV0dXJuICAgbWl4ZWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRnZXRfY3VycmVudF9zdHJlbmd0aDogZnVuY3Rpb24oIGZvcm1hdCApIHtcblx0XG5cdFx0XHRmb3JtYXQgICA9IGZvcm1hdCB8fCAnaW50Jztcblx0XHRcdHZhciBwYXNzID0gdGhpcy4kcGFzcy52YWwoKSxcblx0XHRcdFx0Y29uZiA9IHRoaXMuJGNvbmYudmFsKCksXG5cdFx0XHRcdHZhbDtcblx0XG5cdFx0XHQvLyBlbmZvcmNlIGN1c3RvbSBsZW5ndGggcmVxdWlyZW1lbnRcblx0XHRcdGlmICggcGFzcy5sZW5ndGggPCA2ICkge1xuXHRcdFx0XHR2YWwgPSAtMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IHdwLnBhc3N3b3JkU3RyZW5ndGgubWV0ZXIoIHBhc3MsIHRoaXMuZ2V0X2JsYWNrbGlzdCgpLCBjb25mICk7XG5cdFx0XHRcdC8vIDAgJiAxIGFyZSBib3RoIHZlcnktd2Vha1xuXHRcdFx0XHRpZiAoIDAgPT09IHZhbCApIHtcblx0XHRcdFx0XHR2YWwgPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAnc2x1ZycgPT09IGZvcm1hdCApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0X3N0cmVuZ3RoX3NsdWcoIHZhbCApO1xuXHRcdFx0fSBlbHNlIGlmICggJ3RleHQnID09PSBmb3JtYXQgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF90ZXh0KCB2YWwgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB2YWw7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRGV0ZXJtaW5lcyBpZiB0aGUgY3VycmVudCBwYXNzd29yZCBzdHJlbmd0aCBtZWV0cyB0aGUgdXNlci1kZWZpbmVkXG5cdFx0ICogbWluaW11bSBwYXNzd29yZCBzdHJlbmd0aCByZXF1aXJlbWVudHNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICBib29sZWFuXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjdXJyID0gdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCgpLFxuXHRcdFx0XHRtaW4gID0gdGhpcy5nZXRfc3RyZW5ndGhfdmFsdWUoIHRoaXMuZ2V0X21pbmltdW1fc3RyZW5ndGgoKSApO1xuXHRcdFx0cmV0dXJuICggNSA9PT0gY3VyciApID8gZmFsc2UgOiAoIGN1cnIgPj0gbWluICk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBzbHVnIGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHZhbHVlXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgaW50ICAgc3RyZW5ndGhfdmFsICBzdHJlbmd0aCB2YWx1ZSBudW1iZXJcblx0XHQgKiBAcmV0dXJuICAgc3RyaW5nXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0X3N0cmVuZ3RoX3NsdWc6IGZ1bmN0aW9uKCBzdHJlbmd0aF92YWwgKSB7XG5cdFxuXHRcdFx0dmFyIHNsdWdzID0ge1xuXHRcdFx0XHQnLTEnOiAndG9vLXNob3J0Jyxcblx0XHRcdFx0MTogJ3Zlcnktd2VhaycsXG5cdFx0XHRcdDI6ICd3ZWFrJyxcblx0XHRcdFx0MzogJ21lZGl1bScsXG5cdFx0XHRcdDQ6ICdzdHJvbmcnLFxuXHRcdFx0XHQ1OiAnbWlzbWF0Y2gnLFxuXHRcdFx0fTtcblx0XG5cdFx0XHRyZXR1cm4gKCBzbHVnc1sgc3RyZW5ndGhfdmFsIF0gKSA/IHNsdWdzWyBzdHJlbmd0aF92YWwgXSA6IHNsdWdzWzVdO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXRzIHRoZSB0cmFuc2xhdGVkIHRleHQgYXNzb2NpYXRlZCB3aXRoIGEgc3RyZW5ndGggdmFsdWVcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBpbnQgIHN0cmVuZ3RoX3ZhbCAgc3RyZW5ndGggdmFsdWVcblx0XHQgKiBAcmV0dXJuICAgc3RyaW5nXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0X3N0cmVuZ3RoX3RleHQ6IGZ1bmN0aW9uKCBzdHJlbmd0aF92YWwgKSB7XG5cdFxuXHRcdFx0dmFyIHRleHRzID0ge1xuXHRcdFx0XHQnLTEnOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVG9vIFNob3J0JyApLFxuXHRcdFx0XHQxOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVmVyeSBXZWFrJyApLFxuXHRcdFx0XHQyOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnV2VhaycgKSxcblx0XHRcdFx0MzogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01lZGl1bScgKSxcblx0XHRcdFx0NDogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1N0cm9uZycgKSxcblx0XHRcdFx0NTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01pc21hdGNoJyApLFxuXHRcdFx0fTtcblx0XG5cdFx0XHRyZXR1cm4gKCB0ZXh0c1sgc3RyZW5ndGhfdmFsIF0gKSA/IHRleHRzWyBzdHJlbmd0aF92YWwgXSA6IHRleHRzWzVdO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHNsdWdcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBzdHJpbmcgICBzdHJlbmd0aF9zbHVnICBhIHN0cmVuZ3RoIHNsdWdcblx0XHQgKiBAcmV0dXJuICAgaW50XG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0X3N0cmVuZ3RoX3ZhbHVlOiBmdW5jdGlvbiggc3RyZW5ndGhfc2x1ZyApIHtcblx0XG5cdFx0XHR2YXIgdmFsdWVzID0ge1xuXHRcdFx0XHQndG9vLXNob3J0JzogLTEsXG5cdFx0XHRcdCd2ZXJ5LXdlYWsnOiAxLFxuXHRcdFx0XHR3ZWFrOiAyLFxuXHRcdFx0XHRtZWRpdW06IDMsXG5cdFx0XHRcdHN0cm9uZzogNCxcblx0XHRcdFx0bWlzbWF0Y2g6IDUsXG5cdFx0XHR9O1xuXHRcblx0XHRcdHJldHVybiAoIHZhbHVlc1sgc3RyZW5ndGhfc2x1ZyBdICkgPyB2YWx1ZXNbIHN0cmVuZ3RoX3NsdWcgXSA6IHZhbHVlcy5taXNtYXRjaDtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRm9ybSBzdWJtaXNzaW9uIGhhbmRsZXIgZm9yIHJlZ2lzdHJhdGlvbiBhbmQgdXBkYXRlIGZvcm1zXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgIGUgICAgICAgICBldmVudCBkYXRhXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRzdWJtaXQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gZS5kYXRhO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0c2VsZi4kcGFzcy50cmlnZ2VyKCAna2V5dXAnICk7XG5cdFxuXHRcdFx0aWYgKCBzZWxmLmdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cygpICkge1xuXHRcdFx0XHRzZWxmLiRmb3JtLm9mZiggJ3N1Ym1pdCcsIHNlbGYuc3VibWl0ICk7XG5cdFx0XHRcdHNlbGYuJGZvcm0udHJpZ2dlciggJ3N1Ym1pdCcgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoICdodG1sLCBib2R5JyApLmFuaW1hdGUoIHtcblx0XHRcdFx0XHRzY3JvbGxUb3A6IHNlbGYuJG1ldGVyLm9mZnNldCgpLnRvcCAtIDEwMCxcblx0XHRcdFx0fSwgMjAwICk7XG5cdFx0XHRcdHNlbGYuJG1ldGVyLmhpZGUoKTtcblx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi4kbWV0ZXIuZmFkZUluKCA0MDAgKTtcblx0XHRcdFx0fSwgMjIwICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0fSApO1xuXHRcblx0XHQvKipcblx0ICogUHJpY2luZyBUYWJsZSBVSVxuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgIFVua25vd24uXG5cdCAqIEB2ZXJzaW9uICBVbmtub3duLlxuXHQgKi9cblx0XG5cdExMTVMuUHJpY2luZ19UYWJsZXMgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKCAkKCAnYm9keScgKS5oYXNDbGFzcyggJ3dwLWFkbWluJyApICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtYWNjZXNzLXBsYW5zJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0XHR0aGlzLiRsb2NrZWQgPSAkKCAnYVtocmVmPVwiI2xsbXMtcGxhbi1sb2NrZWRcIl0nICk7XG5cdFxuXHRcdFx0XHRpZiAoIHRoaXMuJGxvY2tlZC5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRcdExMTVMud2FpdF9mb3JfcG9wb3ZlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmJpbmRfbG9ja2VkKCk7XG5cdFx0XHRcdFx0fSApO1xuXHRcblx0XHRcdFx0fVxuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBNZXRob2Rcblx0XHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdCQoICcubGxtcy1hY2Nlc3MtcGxhbi1jb250ZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0XHQkKCAnLmxsbXMtYWNjZXNzLXBsYW4tcHJpY2luZy50cmlhbCcgKS5tYXRjaEhlaWdodCgpO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTZXR1cCBhIHBvcG92ZXIgZm9yIG1lbWJlcnMtb25seSByZXN0cmljdGVkIHBsYW5zXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy45LjFcblx0XHQgKi9cblx0XHRiaW5kX2xvY2tlZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0JCggdGhpcyApLndlYnVpUG9wb3Zlcigge1xuXHRcdFx0XHRcdGFuaW1hdGlvbjogJ3BvcCcsXG5cdFx0XHRcdFx0Y2xvc2VhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGNvbnRlbnQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRcdFx0dmFyICRjb250ZW50ID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLW1lbWJlcnMtb25seS1yZXN0cmljdGlvbnNcIiAvPicgKTtcblx0XHRcdFx0XHRcdCRjb250ZW50LmFwcGVuZCggZS4kZWxlbWVudC5jbG9zZXN0KCAnLmxsbXMtYWNjZXNzLXBsYW4nICkuZmluZCggJy5sbG1zLWFjY2Vzcy1wbGFuLXJlc3RyaWN0aW9ucyB1bCcgKS5jbG9uZSgpICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gJGNvbnRlbnQ7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRwbGFjZW1lbnQ6ICd0b3AnLFxuXHRcdFx0XHRcdHN0eWxlOiAnaW52ZXJzZScsXG5cdFx0XHRcdFx0dGl0bGU6IExMTVMubDEwbi50cmFuc2xhdGUoICdNZW1iZXJzIE9ubHkgUHJpY2luZycgKSxcblx0XHRcdFx0XHR3aWR0aDogJzI4MHB4Jyxcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdH07XG5cdFxuXHRcdC8qKlxuXHQgKiBMaWZ0ZXJMTVMgUmV2aWV3cyBKU1xuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgVW5rbm93blxuXHQgKiBAdmVyc2lvbiBVbmtub3duXG5cdCAqL1xuXHRcblx0TExNUy5SZXZpZXcgPSB7XG5cdFx0LyoqXG5cdFx0ICogSW5pdFxuXHRcdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdJbml0aWFsaXppbmcgUmV2aWV3ICcpO1xuXHRcdFx0dGhpcy5iaW5kKCk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhpcyBmdW5jdGlvbiBiaW5kcyBhY3Rpb25zIHRvIHRoZSBhcHByb3ByaWF0ZSBob29rc1xuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0JCggJyNsbG1zX3Jldmlld19zdWJtaXRfYnV0dG9uJyApLmNsaWNrKGZ1bmN0aW9uKClcblx0XHRcdFx0e1xuXHRcdFx0XHRpZiAoJCggJyNyZXZpZXdfdGl0bGUnICkudmFsKCkgIT09ICcnICYmICQoICcjcmV2aWV3X3RleHQnICkudmFsKCkgIT09ICcnKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmFqYXgoe1xuXHRcdFx0XHRcdFx0dHlwZSA6ICdwb3N0Jyxcblx0XHRcdFx0XHRcdGRhdGFUeXBlIDogJ2pzb24nLFxuXHRcdFx0XHRcdFx0dXJsIDogd2luZG93LmxsbXMuYWpheHVybCxcblx0XHRcdFx0XHRcdGRhdGEgOiB7XG5cdFx0XHRcdFx0XHRcdGFjdGlvbiA6ICdMTE1TU3VibWl0UmV2aWV3Jyxcblx0XHRcdFx0XHRcdFx0cmV2aWV3X3RpdGxlOiAkKCAnI3Jldmlld190aXRsZScgKS52YWwoKSxcblx0XHRcdFx0XHRcdFx0cmV2aWV3X3RleHQ6ICQoICcjcmV2aWV3X3RleHQnICkudmFsKCksXG5cdFx0XHRcdFx0XHRcdHBhZ2VJRCA6ICQoICcjcG9zdF9JRCcgKS52YWwoKVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKClcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coICdSZXZpZXcgc3VjY2VzcycgKTtcblx0XHRcdFx0XHRcdFx0JCggJyNyZXZpZXdfYm94JyApLmhpZGUoICdzd2luZycgKTtcblx0XHRcdFx0XHRcdFx0JCggJyN0aGFua195b3VfYm94JyApLnNob3coICdzd2luZycgKTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duIClcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coIGpxWEhSICk7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCB0ZXh0U3RhdHVzICk7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBlcnJvclRocm93biApO1xuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoJCggJyNyZXZpZXdfdGl0bGUnICkudmFsKCkgPT09ICcnKSB7XG5cdFx0XHRcdFx0XHQkKCAnI3Jldmlld190aXRsZV9lcnJvcicgKS5zaG93KCAnc3dpbmcnICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdCQoICcjcmV2aWV3X3RpdGxlX2Vycm9yJyApLmhpZGUoICdzd2luZycgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCQoICcjcmV2aWV3X3RleHQnICkudmFsKCkgPT09ICcnKSB7XG5cdFx0XHRcdFx0XHQkKCAnI3Jldmlld190ZXh0X2Vycm9yJyApLnNob3coICdzd2luZycgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0JCggJyNyZXZpZXdfdGV4dF9lcnJvcicgKS5oaWRlKCAnc3dpbmcnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGlmICggJCggJyNfbGxtc19kaXNwbGF5X3Jldmlld3MnICkuYXR0ciggJ2NoZWNrZWQnICkgKSB7XG5cdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy10b3AnICkuYWRkQ2xhc3MoICd0b3AnICk7XG5cdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nICkuc2hvdygpO1xuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdFx0JCggJyNfbGxtc19kaXNwbGF5X3Jldmlld3MnICkuY2hhbmdlKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICQoICcjX2xsbXNfZGlzcGxheV9yZXZpZXdzJyApLmF0dHIoICdjaGVja2VkJyApICkge1xuXHRcdFx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy10b3AnICkuYWRkQ2xhc3MoICd0b3AnICk7XG5cdFx0XHRcdFx0JCggJy5sbG1zLW51bS1yZXZpZXdzLWJvdHRvbScgKS5zaG93KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JCggJy5sbG1zLW51bS1yZXZpZXdzLXRvcCcgKS5yZW1vdmVDbGFzcyggJ3RvcCcgKTtcblx0XHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJyApLmhpZGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFxuXHRcdH0sXG5cdH07XG5cdFxuXHRcdC8qKlxuXHQgKiBBZGQgU3Bpbm5lcnMgZm9yIEFKQVggZXZlbnRzXG5cdCAqXG5cdCAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG5cdCAqXG5cdCAqIEBzaW5jZSAzLjAuMFxuXHQgKiBAdmVyc2lvbiAzLjAuMFxuXHQgKi9cblx0XG5cdExMTVMuU3Bpbm5lciA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IGFuIGV4aXRpbmcgc3Bpbm5lciBlbGVtZW50IG9yIGNyZWF0ZSBhIG5ldyBvbmVcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAgICAkZWwgICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIHBhcmVudCBlbGVtZW50IHRoYXQgc2hvdWxkIGhvbGQgYW5kIGJlIG1hc2VkIGJ5IGEgc3Bpbm5lclxuXHRcdCAqIEBwYXJhbSAgICBzdHJpbmcgICBzaXplICBzaXplIG9yIHRoZSBzcGlubmVyIFtkZWZhdWx0fHNtYWxsXVxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IGlzIDQwcHhcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgc21hbGwgaXMgMjBweFxuXHRcdCAqIEByZXR1cm4gICBvYmpcblx0XHQgKiBAc2luY2UgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldDogZnVuY3Rpb24oICRlbCwgc2l6ZSApIHtcblx0XG5cdFx0XHQvLyBsb29rIGZvciBhbiBleGlzdGluZyBzcGlubmVyXG5cdFx0XHR2YXIgJHNwaW5uZXIgPSAkZWwuZmluZCggJy5sbG1zLXNwaW5uaW5nJyApLmZpcnN0KCk7XG5cdFxuXHRcdFx0Ly8gbm8gc3Bpbm5lciBpbnNpZGUgJGVsXG5cdFx0XHRpZiAoICEgJHNwaW5uZXIubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0c2l6ZSA9ICggc2l6ZSApID8gc2l6ZSA6ICdkZWZhdWx0Jztcblx0XG5cdFx0XHRcdC8vIGNyZWF0ZSB0aGUgc3Bpbm5lclxuXHRcdFx0XHQkc3Bpbm5lciA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1zcGlubmluZ1wiPjxpIGNsYXNzPVwibGxtcy1zcGlubmVyICcgKyBzaXplICsgJ1wiPjwvaT48L2Rpdj4nICk7XG5cdFxuXHRcdFx0XHQvLyBhZGQgaXQgdG8gdGhlIGRvbVxuXHRcdFx0XHQkZWwuYXBwZW5kKCAkc3Bpbm5lciApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0XHQvLyByZXR1cm4gaXRcblx0XHRcdHJldHVybiAkc3Bpbm5lcjtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU3RhcnQgc3Bpbm5lcihzKSBpbnI9c2lkZSBhIGdpdmVuIGVsZW1lbnRcblx0XHQgKiBDcmVhdGVzIHRoZW0gaWYgdGhleSBkb24ndCBleGlzdCFcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgIG9iaiAgICAgICRlbCAgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgcGFyZW50IGVsZW1lbnQgdGhhdCBzaG91bGQgaG9sZCBhbmQgYmUgbWFzZWQgYnkgYSBzcGlubmVyXG5cdFx0ICogQHBhcmFtICAgc3RyaW5nICAgc2l6ZSAgc2l6ZSBvciB0aGUgc3Bpbm5lciBbZGVmYXVsdHxzbWFsbF1cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBpcyA0MHB4XG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsIGlzIDIwcHhcblx0XHQgKiBAcmV0dXJuICB2b2lkXG5cdFx0ICogQHNpbmNlICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAzLjAuMFxuXHRcdCAqL1xuXHRcdHN0YXJ0OiBmdW5jdGlvbiggJGVsLCBzaXplICkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHQkZWwuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRzZWxmLmdldCggJCggdGhpcyApLCBzaXplICkuc2hvdygpO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU3RvcmUgc3Bpbm5lcnMgd2l0aGluIGFuIGVsZW1lbnRcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgIG9iaiAgICAgICRlbCAgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgcGFyZW50IGVsZW1lbnQgdGhhdCBzaG91bGQgaG9sZCBhbmQgYmUgbWFzZWQgYnkgYSBzcGlubmVyXG5cdFx0ICogQHJldHVybiAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRzdG9wOiBmdW5jdGlvbiggJGVsICkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHQkZWwuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRzZWxmLmdldCggJCggdGhpcyApICkuaGlkZSgpO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0XG5cdC8qIVxuXHQgKiBKYXZhU2NyaXB0IENvb2tpZSB2Mi4yLjFcblx0ICogaHR0cHM6Ly9naXRodWIuY29tL2pzLWNvb2tpZS9qcy1jb29raWVcblx0ICpcblx0ICogQ29weXJpZ2h0IDIwMDYsIDIwMTUgS2xhdXMgSGFydGwgJiBGYWduZXIgQnJhY2tcblx0ICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG5cdCAqL1xuXHQ7KGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdFx0dmFyIHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlcjtcblx0XHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdFx0XHRyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIgPSB0cnVlO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0XHRcdHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciA9IHRydWU7XG5cdFx0fVxuXHRcdGlmICghcmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyKSB7XG5cdFx0XHR2YXIgT2xkQ29va2llcyA9IHdpbmRvdy5Db29raWVzO1xuXHRcdFx0dmFyIGFwaSA9IHdpbmRvdy5Db29raWVzID0gZmFjdG9yeSgpO1xuXHRcdFx0YXBpLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHdpbmRvdy5Db29raWVzID0gT2xkQ29va2llcztcblx0XHRcdFx0cmV0dXJuIGFwaTtcblx0XHRcdH07XG5cdFx0fVxuXHR9KGZ1bmN0aW9uICgpIHtcblx0XHRmdW5jdGlvbiBleHRlbmQgKCkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdFx0Zm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGF0dHJpYnV0ZXMgPSBhcmd1bWVudHNbIGkgXTtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0XHRyZXN1bHRba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdFxuXHRcdGZ1bmN0aW9uIGRlY29kZSAocykge1xuXHRcdFx0cmV0dXJuIHMucmVwbGFjZSgvKCVbMC05QS1aXXsyfSkrL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cdFx0fVxuXHRcblx0XHRmdW5jdGlvbiBpbml0IChjb252ZXJ0ZXIpIHtcblx0XHRcdGZ1bmN0aW9uIGFwaSgpIHt9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gc2V0IChrZXksIHZhbHVlLCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRhdHRyaWJ1dGVzID0gZXh0ZW5kKHtcblx0XHRcdFx0XHRwYXRoOiAnLydcblx0XHRcdFx0fSwgYXBpLmRlZmF1bHRzLCBhdHRyaWJ1dGVzKTtcblx0XG5cdFx0XHRcdGlmICh0eXBlb2YgYXR0cmlidXRlcy5leHBpcmVzID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRcdGF0dHJpYnV0ZXMuZXhwaXJlcyA9IG5ldyBEYXRlKG5ldyBEYXRlKCkgKiAxICsgYXR0cmlidXRlcy5leHBpcmVzICogODY0ZSs1KTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0Ly8gV2UncmUgdXNpbmcgXCJleHBpcmVzXCIgYmVjYXVzZSBcIm1heC1hZ2VcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IElFXG5cdFx0XHRcdGF0dHJpYnV0ZXMuZXhwaXJlcyA9IGF0dHJpYnV0ZXMuZXhwaXJlcyA/IGF0dHJpYnV0ZXMuZXhwaXJlcy50b1VUQ1N0cmluZygpIDogJyc7XG5cdFxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHZhciByZXN1bHQgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRcdFx0aWYgKC9eW1xce1xcW10vLnRlc3QocmVzdWx0KSkge1xuXHRcdFx0XHRcdFx0dmFsdWUgPSByZXN1bHQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcblx0XHRcdFx0dmFsdWUgPSBjb252ZXJ0ZXIud3JpdGUgP1xuXHRcdFx0XHRcdGNvbnZlcnRlci53cml0ZSh2YWx1ZSwga2V5KSA6XG5cdFx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh2YWx1ZSkpXG5cdFx0XHRcdFx0XHQucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcblx0XG5cdFx0XHRcdGtleSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoa2V5KSlcblx0XHRcdFx0XHQucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KVxuXHRcdFx0XHRcdC5yZXBsYWNlKC9bXFwoXFwpXS9nLCBlc2NhcGUpO1xuXHRcblx0XHRcdFx0dmFyIHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9ICcnO1xuXHRcdFx0XHRmb3IgKHZhciBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0XHRpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJzsgJyArIGF0dHJpYnV0ZU5hbWU7XG5cdFx0XHRcdFx0aWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Ly8gQ29uc2lkZXJzIFJGQyA2MjY1IHNlY3Rpb24gNS4yOlxuXHRcdFx0XHRcdC8vIC4uLlxuXHRcdFx0XHRcdC8vIDMuICBJZiB0aGUgcmVtYWluaW5nIHVucGFyc2VkLWF0dHJpYnV0ZXMgY29udGFpbnMgYSAleDNCIChcIjtcIilcblx0XHRcdFx0XHQvLyAgICAgY2hhcmFjdGVyOlxuXHRcdFx0XHRcdC8vIENvbnN1bWUgdGhlIGNoYXJhY3RlcnMgb2YgdGhlIHVucGFyc2VkLWF0dHJpYnV0ZXMgdXAgdG8sXG5cdFx0XHRcdFx0Ly8gbm90IGluY2x1ZGluZywgdGhlIGZpcnN0ICV4M0IgKFwiO1wiKSBjaGFyYWN0ZXIuXG5cdFx0XHRcdFx0Ly8gLi4uXG5cdFx0XHRcdFx0c3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc9JyArIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0uc3BsaXQoJzsnKVswXTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIChkb2N1bWVudC5jb29raWUgPSBrZXkgKyAnPScgKyB2YWx1ZSArIHN0cmluZ2lmaWVkQXR0cmlidXRlcyk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0ZnVuY3Rpb24gZ2V0IChrZXksIGpzb24pIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdHZhciBqYXIgPSB7fTtcblx0XHRcdFx0Ly8gVG8gcHJldmVudCB0aGUgZm9yIGxvb3AgaW4gdGhlIGZpcnN0IHBsYWNlIGFzc2lnbiBhbiBlbXB0eSBhcnJheVxuXHRcdFx0XHQvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC5cblx0XHRcdFx0dmFyIGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykgOiBbXTtcblx0XHRcdFx0dmFyIGkgPSAwO1xuXHRcblx0XHRcdFx0Zm9yICg7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0dmFyIHBhcnRzID0gY29va2llc1tpXS5zcGxpdCgnPScpO1xuXHRcdFx0XHRcdHZhciBjb29raWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc9Jyk7XG5cdFxuXHRcdFx0XHRcdGlmICghanNvbiAmJiBjb29raWUuY2hhckF0KDApID09PSAnXCInKSB7XG5cdFx0XHRcdFx0XHRjb29raWUgPSBjb29raWUuc2xpY2UoMSwgLTEpO1xuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHZhciBuYW1lID0gZGVjb2RlKHBhcnRzWzBdKTtcblx0XHRcdFx0XHRcdGNvb2tpZSA9IChjb252ZXJ0ZXIucmVhZCB8fCBjb252ZXJ0ZXIpKGNvb2tpZSwgbmFtZSkgfHxcblx0XHRcdFx0XHRcdFx0ZGVjb2RlKGNvb2tpZSk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKGpzb24pIHtcblx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRjb29raWUgPSBKU09OLnBhcnNlKGNvb2tpZSk7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdFx0amFyW25hbWVdID0gY29va2llO1xuXHRcblx0XHRcdFx0XHRcdGlmIChrZXkgPT09IG5hbWUpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0cmV0dXJuIGtleSA/IGphcltrZXldIDogamFyO1xuXHRcdFx0fVxuXHRcblx0XHRcdGFwaS5zZXQgPSBzZXQ7XG5cdFx0XHRhcGkuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRyZXR1cm4gZ2V0KGtleSwgZmFsc2UgLyogcmVhZCBhcyByYXcgKi8pO1xuXHRcdFx0fTtcblx0XHRcdGFwaS5nZXRKU09OID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRyZXR1cm4gZ2V0KGtleSwgdHJ1ZSAvKiByZWFkIGFzIGpzb24gKi8pO1xuXHRcdFx0fTtcblx0XHRcdGFwaS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5LCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdHNldChrZXksICcnLCBleHRlbmQoYXR0cmlidXRlcywge1xuXHRcdFx0XHRcdGV4cGlyZXM6IC0xXG5cdFx0XHRcdH0pKTtcblx0XHRcdH07XG5cdFxuXHRcdFx0YXBpLmRlZmF1bHRzID0ge307XG5cdFxuXHRcdFx0YXBpLndpdGhDb252ZXJ0ZXIgPSBpbml0O1xuXHRcblx0XHRcdHJldHVybiBhcGk7XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gaW5pdChmdW5jdGlvbiAoKSB7fSk7XG5cdH0pKTtcblx0XG5cdC8qKlxuXHQgKiBTdG9yZSBpbmZvcm1hdGlvbiBpbiBMb2NhbCBTdG9yYWdlIGJ5IGdyb3VwLlxuXHQgKlxuXHQgKiBAc2luY2UgMy4zNi4wXG5cdCAqXG5cdCAqIEBwYXJhbSBzdHJpbmcgZ3JvdXAgU3RvcmFnZSBncm91cCBpZC9uYW1lLlxuXHQgKi9cblx0TExNUy5TdG9yYWdlID0gZnVuY3Rpb24oIGdyb3VwICkge1xuXHRcblx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRzdG9yZSA9IENvb2tpZXMubm9Db25mbGljdCgpO1xuXHRcblx0XHQvKipcblx0XHQgKiBDbGVhciBhbGwgZGF0YSBmb3IgdGhlIGdyb3VwLlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMzYuMFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0dGhpcy5jbGVhckFsbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0c3RvcmUucmVtb3ZlKCBncm91cCApO1xuXHRcdH07XG5cdFxuXHRcdC8qKlxuXHRcdCAqIENsZWFyIGEgc2luZ2xlIGl0ZW0gZnJvbSB0aGUgZ3JvdXAgYnkga2V5LlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMzYuMFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiBvYmpcblx0XHQgKi9cblx0XHR0aGlzLmNsZWFyID0gZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdHZhciBkYXRhID0gc2VsZi5nZXRBbGwoKTtcblx0XHRcdGRlbGV0ZSBkYXRhWyBrZXkgXTtcblx0XHRcdHJldHVybiBzdG9yZS5zZXQoIGdyb3VwLCBkYXRhICk7XG5cdFx0fTtcblx0XG5cdFx0LyoqXG5cdFx0ICogUmV0cmlldmUgKGFuZCBwYXJzZSkgYWxsIGRhdGEgc3RvcmVkIGZvciB0aGUgZ3JvdXAuXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgMy4zNi4wXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIG9ialxuXHRcdCAqL1xuXHRcdHRoaXMuZ2V0QWxsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gc3RvcmUuZ2V0SlNPTiggZ3JvdXAgKSB8fCB7fTtcblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHJpZXZlIGFuIGl0ZW0gZnJvbSB0aGUgZ3JvdXAgYnkga2V5LlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMzYuMFxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHN0cmluZyBrZXkgSXRlbSBrZXkvbmFtZS5cblx0XHQgKiBAcGFyYW0gbWl4ZWQgZGVmYXVsdF92YWwgSXRlbSBkZWZhdWx0IHZhbHVlIHRvIGJlIHJldHVybmVkIHdoZW4gaXRlbSBub3QgZm91bmQgaW4gdGhlIGdyb3VwLlxuXHRcdCAqIEByZXR1cm4gbWl4ZWRcblx0XHQgKi9cblx0XHR0aGlzLmdldCA9IGZ1bmN0aW9uKCBrZXksIGRlZmF1bHRfdmFsICkge1xuXHRcdFx0dmFyIGRhdGEgPSBzZWxmLmdldEFsbCgpO1xuXHRcdFx0cmV0dXJuIGRhdGFbIGtleSBdID8gZGF0YVsga2V5IF0gOiBkZWZhdWx0X3ZhbDtcblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFN0b3JlIGFuIGl0ZW0gaW4gdGhlIGdyb3VwIGJ5IGtleS5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjM2LjBcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBzdHJpbmcga2V5IEl0ZW0ga2V5IG5hbWUuXG5cdFx0ICogQHBhcmFtIG1peGVkIHZhbCBJdGVtIHZhbHVlXG5cdFx0ICogQHJldHVybiBvYmpcblx0XHQgKi9cblx0XHR0aGlzLnNldCA9IGZ1bmN0aW9uKCBrZXksIHZhbCApIHtcblx0XHRcdHZhciBkYXRhID0gc2VsZi5nZXRBbGwoKTtcblx0XHRcdGRhdGFbIGtleSBdID0gdmFsO1xuXHRcdFx0cmV0dXJuIHN0b3JlLnNldCggZ3JvdXAsIGRhdGEgKTtcblx0XHR9O1xuXHRcblx0fVxuXHRcblx0XHQvKipcblx0ICogU3R1ZGVudCBEYXNoYm9hcmQgcmVsYXRlZCBKU1xuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgICAgMy43LjBcblx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHQgKi9cblx0XG5cdExMTVMuU3R1ZGVudERhc2hib2FyZCA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogU2x1ZyBmb3IgdGhlIGN1cnJlbnQgc2NyZWVuL2VuZHBvaW50XG5cdFx0ICpcblx0XHQgKiBAdHlwZSAge1N0cmluZ31cblx0XHQgKi9cblx0XHRzY3JlZW46ICcnLFxuXHRcblx0XHQvKipcblx0XHQgKiBXaWxsIHNob3cgdGhlIG51bWJlciBvZiBtZXRlcnMgb24gdGhlIHBhZ2Vcblx0XHQgKiBVc2VkIHRvIGNvbmRpdGlvbmFsbHkgYmluZCBtZXRlci1yZWxhdGVkIGV2ZW50cyBvbmx5IHdoZW4gbWV0ZXJzXG5cdFx0ICogYWN0dWFsbHkgZXhpc3Rcblx0XHQgKlxuXHRcdCAqIEB0eXBlICBpbnRcblx0XHQgKi9cblx0XHRtZXRlcl9leGlzdHM6IDAsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuNy4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLXN0dWRlbnQtZGFzaGJvYXJkJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdHRoaXMubWV0ZXJfZXhpc3RzID0gJCggJy5sbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyJyApLmxlbmd0aDtcblx0XHRcdFx0dGhpcy5iaW5kKCk7XG5cdFxuXHRcdFx0XHRpZiAoICdvcmRlcnMnID09PSB0aGlzLmdldF9zY3JlZW4oKSApIHtcblx0XG5cdFx0XHRcdFx0dGhpcy5iaW5kX29yZGVycygpO1xuXHRcblx0XHRcdFx0fVxuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBET00gZXZlbnRzXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjcuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjcuNFxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmICAgID0gdGhpcyxcblx0XHRcdFx0JHRvZ2dsZSA9ICQoICcubGxtcy1zdHVkZW50LWRhc2hib2FyZCBhW2hyZWY9XCIjbGxtcy1wYXNzd29yZC1jaGFuZ2UtdG9nZ2xlXCJdJyApO1xuXHRcblx0XHRcdC8vIGNsaWNrIGV2ZW50IGZvciB0aGUgY2hhbmdlIHBhc3N3b3JkIGxpbmtcblx0XHRcdCR0b2dnbGUub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXHRcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHRcdFx0dmFyICR0aGlzICAgICAgID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGN1cnJfdGV4dCAgID0gJHRoaXMudGV4dCgpLFxuXHRcdFx0XHRcdGN1cnJfYWN0aW9uID0gJHRoaXMuYXR0ciggJ2RhdGEtYWN0aW9uJyApLFxuXHRcdFx0XHRcdG5ld19hY3Rpb24gID0gJ2hpZGUnID09PSBjdXJyX2FjdGlvbiA/ICdzaG93JyA6ICdoaWRlJyxcblx0XHRcdFx0XHRuZXdfdGV4dCAgICA9ICR0aGlzLmF0dHIoICdkYXRhLXRleHQnICk7XG5cdFxuXHRcdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggY3Vycl9hY3Rpb24gKTtcblx0XG5cdFx0XHRcdC8vIHByZXZlbnQgYWNjaWRlbnRhbCBjYW5jZWxzIHdoZW4gdXNlcnMgdGFiIG91dCBvZiB0aGUgY29uZmlybSBwYXNzd29yZCBmaWVsZFxuXHRcdFx0XHQvLyBhbmQgZXhwZWN0IHRvIGhpdCBzdWJtaXQgd2l0aCBlbnRlciBrZXkgaW1tZWRpYXRlbHkgYWZ0ZXJcblx0XHRcdFx0aWYgKCAnc2hvdycgPT09IGN1cnJfYWN0aW9uICkge1xuXHRcdFx0XHRcdCR0aGlzLmF0dHIoICd0YWJpbmRleCcsICctNzc3JyApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCR0aGlzLnJlbW92ZUF0dHIoICd0YWJpbmRleCcgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0JHRoaXMuYXR0ciggJ2RhdGEtYWN0aW9uJywgbmV3X2FjdGlvbiApLmF0dHIoICdkYXRhLXRleHQnLCBjdXJyX3RleHQgKS50ZXh0KCBuZXdfdGV4dCApO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0XHQvLyB0aGlzIHdpbGwgcmVtb3ZlIHRoZSByZXF1aXJlZCBieSBkZWZhdWx0IHdpdGhvdXQgaGF2aW5nIHRvIG1lc3Mgd2l0aFxuXHRcdFx0Ly8gY29uZGl0aW9uYWxzIGluIFBIUCBhbmQgc3RpbGwgYWxsb3dzIHRoZSByZXF1aXJlZCAqIHRvIHNob3cgaW4gdGhlIGxhYmVsXG5cdFxuXHRcdFx0aWYgKCB0aGlzLm1ldGVyX2V4aXN0cyApIHtcblx0XG5cdFx0XHRcdCQoICcubGxtcy1wZXJzb24tZm9ybS5lZGl0LWFjY291bnQnICkub24oICdsbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLXJlYWR5JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5wYXNzd29yZF90b2dnbGUoICdoaWRlJyApO1xuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCAnaGlkZScgKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdFx0JCggJy5sbG1zLWRvbnV0JyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRMTE1TLkRvbnV0KCAkKCB0aGlzICkgKTtcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBldmVudHMgcmVsYXRlZCB0byB0aGUgb3JkZXJzIHNjcmVlbiBvbiB0aGUgZGFzaGJvYXJkXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xMC4wXG5cdFx0ICovXG5cdFx0YmluZF9vcmRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdCQoICcjbGxtcy1jYW5jZWwtc3Vic2NyaXB0aW9uLWZvcm0nICkub24oICdzdWJtaXQnLCB0aGlzLm9yZGVyX2NhbmNlbF93YXJuaW5nICk7XG5cdFx0XHQkKCAnI2xsbXNfdXBkYXRlX3BheW1lbnRfbWV0aG9kJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JCggJ2lucHV0W25hbWU9XCJsbG1zX3BheW1lbnRfZ2F0ZXdheVwiXTpjaGVja2VkJyApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG5cdFx0XHRcdCQoIHRoaXMgKS5jbG9zZXN0KCAnZm9ybScgKS5maW5kKCAnLmxsbXMtc3dpdGNoLXBheW1lbnQtc291cmNlLW1haW4nICkuc2xpZGVUb2dnbGUoICcyMDAnICk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgY3VycmVudCBkYXNoYm9hcmQgZW5kcG9pbnQvdGFiIHNsdWdcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHRnZXRfc2NyZWVuOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggISB0aGlzLnNjcmVlbiApIHtcblx0XHRcdFx0dGhpcy5zY3JlZW4gPSAkKCAnLmxsbXMtc3R1ZGVudC1kYXNoYm9hcmQnICkuYXR0ciggJ2RhdGEtY3VycmVudCcgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzLnNjcmVlbjtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTaG93IGEgY29uZmlybWF0aW9uIHdhcm5pbmcgd2hlbiBDYW5jZWwgU3Vic2NyaXB0aW9uIGZvcm0gaXMgc3VibWl0dGVkXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgZSAgSlMgZXZlbnQgZGF0YVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHRvcmRlcl9jYW5jZWxfd2FybmluZzogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR2YXIgbXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjYW5jZWwgeW91ciBzdWJzY3JpcHRpb24/JyApO1xuXHRcdFx0aWYgKCB3aW5kb3cuY29uZmlybSggTExNUy5sMTBuLnRyYW5zbGF0ZSggbXNnICkgKSApIHtcblx0XHRcdFx0JCggdGhpcyApLm9mZiggJ3N1Ym1pdCcsIHRoaXMub3JkZXJfY2FuY2VsX3dhcm5pbmcgKTtcblx0XHRcdFx0JCggdGhpcyApLnN1Ym1pdCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRvZ2dsZSBwYXNzd29yZCByZWxhdGVkIGZpZWxkcyBvbiB0aGUgYWNjb3VudCBlZGl0IHBhZ2Vcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAgICBzdHJpbmcgICBhY3Rpb24gIFtzaG93fGhpZGVdXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy43LjBcblx0XHQgKiBAdmVyc2lvbiAgMy43LjRcblx0XHQgKi9cblx0XHRwYXNzd29yZF90b2dnbGU6IGZ1bmN0aW9uKCBhY3Rpb24gKSB7XG5cdFxuXHRcdFx0aWYgKCAhIGFjdGlvbiApIHtcblx0XHRcdFx0YWN0aW9uID0gJ3Nob3cnO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBzZWxmICA9IHRoaXMsXG5cdFx0XHRcdCRwd2RzID0gJCggJyNwYXNzd29yZCwgI3Bhc3N3b3JkX2NvbmZpcm0sICNjdXJyZW50X3Bhc3N3b3JkJyApLFxuXHRcdFx0XHQkZm9ybSA9ICQoICcjcGFzc3dvcmQnICkuY2xvc2VzdCggJ2Zvcm0nICk7XG5cdFxuXHRcdFx0Ly8gaGlkZSBvciBzaG93IHRoZSBmaWVsZHNcblx0XHRcdCQoICcubGxtcy1jaGFuZ2UtcGFzc3dvcmQnIClbIGFjdGlvbiBdKCk7XG5cdFxuXHRcdFx0aWYgKCAnc2hvdycgPT09IGFjdGlvbiApIHtcblx0XHRcdFx0Ly8gbWFrZSBwYXNzd29yZHMgcmVxdWlyZWRcblx0XHRcdFx0JHB3ZHMuYXR0ciggJ3JlcXVpcmVkJywgJ3JlcXVpcmVkJyApO1xuXHRcblx0XHRcdFx0aWYgKCBzZWxmLm1ldGVyX2V4aXN0cyApIHtcblx0XHRcdFx0XHQvLyBhZGQgdGhlIHN0cmVuZ3RoIGNoZWNrIG9uIGZvcm0gc3VibWlzc2lvblxuXHRcdFx0XHRcdCRmb3JtLm9uKCAnc3VibWl0JywgTExNUy5QYXNzd29yZFN0cmVuZ3RoLCBMTE1TLlBhc3N3b3JkU3RyZW5ndGguc3VibWl0ICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyByZW1vdmUgcmVxdWlyZW1lbnQgc28gZm9ybSBjYW4gYmUgc3VibWl0dGVkIHdoaWxlIGZpZWxkcyBhcmUgaGlkZGVuXG5cdFx0XHRcdC8vIGFuZCBjbGVhciB0aGUgcGFzc3dvcmQgb3V0IG9mIHRoZSBmaWVsZHMgaWYgdHlwaW5nIHN0YXJ0ZWRcblx0XHRcdFx0JHB3ZHMucmVtb3ZlQXR0ciggJ3JlcXVpcmVkJyApLnZhbCggJycgKTtcblx0XG5cdFx0XHRcdGlmICggc2VsZi5tZXRlcl9leGlzdHMgKSB7XG5cdFxuXHRcdFx0XHRcdC8vIHJlbW92ZSB0aGUgcGFzc3dvcmQgc3RyZW5ndGggc3VibWlzc2lvbiBjaGVja1xuXHRcdFx0XHRcdCRmb3JtLm9mZiggJ3N1Ym1pdCcsIExMTVMuUGFzc3dvcmRTdHJlbmd0aC5zdWJtaXQgKTtcblx0XHRcdFx0XHQvLyBjbGVhcnMgdGhlIG1ldGVyXG5cdFx0XHRcdFx0TExNUy5QYXNzd29yZFN0cmVuZ3RoLmNoZWNrX3N0cmVuZ3RoKCk7XG5cdFxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0XG5cdC8qKlxuXHQgKiBVc2VyIGV2ZW50L2ludGVyYWN0aW9uIHRyYWNraW5nLlxuXHQgKlxuXHQgKiBAc2luY2UgMy4zNi4wXG5cdCAqIEBzaW5jZSAzLjM2LjIgRml4IEpTIGVycm9yIHdoZW4gc2V0dGluZ3MgYXJlbid0IGxvYWRlZC5cblx0ICovXG5cdExMTVMuVHJhY2tpbmcgPSBmdW5jdGlvbiggc2V0dGluZ3MgKSB7XG5cdFxuXHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdHN0b3JlID0gbmV3IExMTVMuU3RvcmFnZSggJ2xsbXMtdHJhY2tpbmcnICk7XG5cdFxuXHRcdHNldHRpbmdzID0gJ3N0cmluZycgPT09IHR5cGVvZiBzZXR0aW5ncyA/IEpTT04ucGFyc2UoIHNldHRpbmdzICkgOiBzZXR0aW5ncztcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZSAvIEJpbmQgYWxsIHRyYWNraW5nIGV2ZW50IGxpc3RlbmVycy5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjM2LjBcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4ge3ZvaWR9XG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gaW5pdCgpIHtcblx0XG5cdFx0XHQvLyBTZXQgdGhlIG5vbmNlIGZvciBzZXJ2ZXItc2lkZSB2ZXJpZmljYXRpb24uXG5cdFx0XHRzdG9yZS5zZXQoICdub25jZScsIHNldHRpbmdzLm5vbmNlICk7XG5cdFxuXHRcdFx0c2VsZi5hZGRFdmVudCggJ3BhZ2UubG9hZCcgKTtcblx0XG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2JlZm9yZXVubG9hZCcsIG9uQmVmb3JlVW5sb2FkICk7XG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3VubG9hZCcsIG9uVW5sb2FkICk7XG5cdFxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UgKTtcblx0XG5cdFx0fTtcblx0XG5cdFx0LyoqXG5cdFx0ICogQWRkIGFuIGV2ZW50LlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMzYuMFxuXHRcdCAqIEBzaW5jZSAzLjM2LjIgRml4IGVycm9yIHdoZW4gc2V0dGluZ3MgYXJlbid0IGxvYWRlZC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBzdHJpbmd8b2JqIGV2ZW50IEV2ZW50IElkICh0eXBlLmV2ZW50KSBvciBhIGZ1bGwgZXZlbnQgb2JqZWN0IGZyb20gYHRoaXMubWFrZUV2ZW50T2JqKClgLlxuXHRcdCAqIEBwYXJhbSBpbnQgYXJncyBPcHRpb25hbCBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBwYXNzIHRvIGB0aGlzLm1ha2VFdmVudE9iaigpYC5cblx0XHQgKiBAcmV0dXJuIHt2b2lkfVxuXHRcdCAqL1xuXHRcdHRoaXMuYWRkRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQsIGFyZ3MgKSB7XG5cdFxuXHRcdFx0YXJncyAgPSBhcmdzIHx8IHt9O1xuXHRcdFx0aWYgKCAnc3RyaW5nJyA9PT0gdHlwZW9mIGV2ZW50ICkge1xuXHRcdFx0XHRhcmdzLmV2ZW50ID0gZXZlbnQ7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gSWYgdGhlIGV2ZW50IGlzbid0IHJlZ2lzdGVyZWQgaW4gdGhlIHNldHRpbmdzIGRvbid0IHByb2NlZWQuXG5cdFx0XHRpZiAoICFzZXR0aW5ncy5ldmVudHMgfHwgLTEgPT09IHNldHRpbmdzLmV2ZW50cy5pbmRleE9mKCBhcmdzLmV2ZW50ICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRldmVudCA9IHNlbGYubWFrZUV2ZW50T2JqKCBhcmdzICk7XG5cdFxuXHRcdFx0dmFyIGFsbCA9IHN0b3JlLmdldCggJ2V2ZW50cycsIFtdICk7XG5cdFx0XHRhbGwucHVzaCggZXZlbnQgKTtcblx0XHRcdHN0b3JlLnNldCggJ2V2ZW50cycsIGFsbCApO1xuXHRcblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHJpZXZlIGluaXRpYWxpemF0aW9uIHNldHRpbmdzLlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIDMuMzYuMFxuXHRcdCAqXG5cdFx0ICogQHJldHVybiBvYmpcblx0XHQgKi9cblx0XHR0aGlzLmdldFNldHRpbmdzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gc2V0dGluZ3M7XG5cdFx0fVxuXHRcblx0XHQvKipcblx0XHQgKiBDcmVhdGUgYW4gZXZlbnQgb2JqZWN0IHN1aXRhYmxlIHRvIHNhdmUgYXMgYW4gZXZlbnQuXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgMy4zNi4wXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gb2JqIGV2ZW50IHtcblx0XHQgKiAgICAgRXZlbnQgaGFzaFxuXHRcdCAqXG5cdFx0ICogICAgIEBwYXJhbSB7c3RyaW5nfSBldmVudCAoUmVxdWlyZWQpIEV2ZW50IElELCBlZzogXCJwYWdlLmxvYWRcIi5cblx0XHQgKiAgICAgQHBhcmFtIHt1cmx9IHVybCBFdmVudCBVUkwuIChPcHRpb25hbCwgYWRkZWQgYXV0b21hdGljYWxseSkgU3RvcmVkIGFzIG1ldGFkYXRhIGFuZCB1c2VkIHRvIGluZmVyIGFuIG9iamVjdF9pZCBmb3IgcG9zdCBldmVudHMuXG5cdFx0ICogICAgIEBwYXJhbSB7dGltZX0gZmxvYXQgKE9wdGlvbmFsLCBhZGRlZCBhdXRvbWF0aWNhbGx5KSBUaW1lc3RhbXAgKGluIG1pbGxpc2Vjb25kcykuIFVzZWQgZm9yIHRoZSBldmVudCBjcmVhdGlvbiBkYXRlLlxuXHRcdCAqICAgICBAcGFyYW0ge2ludH0gb2JqX2lkIChPcHRpb25hbCkuIFRoZSBvYmplY3QgSUQuIEluZmVycmVkIGF1dG9tYXRpY2FsbHkgdmlhIGB1cmxgIGlmIG5vdCBwcm92aWRlZC5cblx0XHQgKiAgICAgQHBhcmFtIHtvYmp9IG1ldGEgKE9wdGlvbmFsKSBIYXNoIG9mIG1ldGFkYXRhIHRvIHN0b3JlIHdpdGggdGhlIGV2ZW50LlxuXHRcdCAqIH1cblx0XHQgKiBAcmV0dXJuIG9ialxuXHRcdCAqL1xuXHRcdHRoaXMubWFrZUV2ZW50T2JqID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24oIGV2ZW50LCB7XG5cdFx0XHRcdHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG5cdFx0XHRcdHRpbWU6IE1hdGgucm91bmQoIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCApLFxuXHRcdFx0fSApO1xuXHRcdH1cblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJlbW92ZSB0aGUgdmlzaWJpbGl0eSBjaGFuZ2UgZXZlbnQgbGlzdGVuZXIgb24gd2luZG93LmJlZm9yZXVubG9hZFxuXHRcdCAqXG5cdFx0ICogUHJldmVudHMgYWN0dWFsIHVubG9hZGluZyBmcm9tIHJlY29yZGluZyBhIGJsdXIgZXZlbnQgZnJvbSB0aGUgdmlzaWJpbGl0eSBjaGFuZ2UgbGlzdGVuZXJcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBvYmogZSBKUyBldmVudCBvYmplY3QuXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gb25CZWZvcmVVbmxvYWQoIGUgKSB7XG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAndmlzaWJpbGl0eWNoYW5nZScsIG9uVmlzaWJpbGl0eUNoYW5nZSApO1xuXHRcdH1cblx0XG5cdFx0LyoqXG5cdFx0ICogUmVjb3JkIGEgYHBhZ2UuZXhpdGAgZXZlbnQgb24gd2luZG93LnVubG9hZC5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjM2LjBcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBvYmogZSBKUyBldmVudCBvYmplY3QuXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gb25VbmxvYWQoIGUgKSB7XG5cdFx0XHRzZWxmLmFkZEV2ZW50KCAncGFnZS5leGl0JyApO1xuXHRcdH1cblx0XG5cdFx0LyoqXG5cdFx0ICogUmVjb3JkIGBwYWdlLmJsdXJgIGFuZCBgcGFnZS5mb2N1c2AgZXZlbnRzIHZpYSBkb2N1bWVudC52aXNpbGliaXR5Y2hhbmdlIGV2ZW50cy5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSAzLjM2LjBcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBvYmogZSBKUyBldmVudCBvYmplY3QuXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gb25WaXNpYmlsaXR5Q2hhbmdlKCBlICkge1xuXHRcblx0XHRcdHZhciBldmVudCA9IGRvY3VtZW50LmhpZGRlbiA/ICdwYWdlLmJsdXInIDogJ3BhZ2UuZm9jdXMnO1xuXHRcdFx0c2VsZi5hZGRFdmVudCggZXZlbnQgKTtcblx0XG5cdFx0fVxuXHRcblx0XHQvLyBJbml0aWFsaXplIG9uIHRoZSBmcm9udGVuZCBvbmx5LlxuXHRcdGlmICggISAkKCAnYm9keScgKS5oYXNDbGFzcyggJ3dwLWFkbWluJyApICkge1xuXHRcdFx0aW5pdCgpO1xuXHRcdH1cblx0XG5cdH07XG5cdFxuXHRsbG1zLnRyYWNraW5nID0gbmV3IExMTVMuVHJhY2tpbmcoIGxsbXMudHJhY2tpbmcgKTtcblx0XG5cdFx0LyoqXG5cdCAqIFJlc3QgTWV0aG9kc1xuXHQgKiBNYW5hZ2VzIFVSTCBhbmQgUmVzdCBvYmplY3QgcGFyc2luZ1xuXHQgKlxuXHQgKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuXHQgKlxuXHQgKiBAc2luY2UgVW5rbm93blxuXHQgKiBAdmVyc2lvbiAgVW5rbm93blxuXHQgKi9cblx0XG5cdExMTVMuUmVzdCA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdFxuXHRcdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuYmluZCgpO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgTWV0aG9kXG5cdFx0ICogSGFuZGxlcyBkb20gYmluZGluZyBvbiBsb2FkXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTZWFyY2hlcyBmb3Igc3RyaW5nIG1hdGNoZXMgaW4gdXJsIHBhdGhcblx0XHQgKlxuXHRcdCAqIEBwYXJhbSAge0FycmF5fSAgc3RyaW5ncyBbQXJyYXkgb2Ygc3RyaW5ncyB0byBzZWFyY2ggZm9yIG1hdGNoZXNdXG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgICBbV2FzIGEgbWF0Y2ggZm91bmQ/XVxuXHRcdCAqL1xuXHRcdGlzX3BhdGg6IGZ1bmN0aW9uKCBzdHJpbmdzICkge1xuXHRcblx0XHRcdHZhciBwYXRoX2V4aXN0cyA9IGZhbHNlLFxuXHRcdFx0XHR1cmwgICAgICAgICA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXHRcblx0XHRcdGZvciAoIHZhciBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoOyBpKysgKSB7XG5cdFxuXHRcdFx0XHRpZiAoIHVybC5zZWFyY2goIHN0cmluZ3NbaV0gKSA+IDAgJiYgISBwYXRoX2V4aXN0cyApIHtcblx0XG5cdFx0XHRcdFx0cGF0aF9leGlzdHMgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHBhdGhfZXhpc3RzO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHJpZXZlcyBxdWVyeSB2YXJpYWJsZXNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm4ge1tBcnJheV19IFthcnJheSBvYmplY3Qgb2YgcXVlcnkgdmFyaWFibGUga2V5PT52YWx1ZSBwYWlyc11cblx0XHQgKi9cblx0XHRnZXRfcXVlcnlfdmFyczogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHZhcnMgICA9IFtdLCBoYXNoLFxuXHRcdFx0XHRoYXNoZXMgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSggd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZiggJz8nICkgKyAxICkuc3BsaXQoICcmJyApO1xuXHRcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaGFzaGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGhhc2ggPSBoYXNoZXNbaV0uc3BsaXQoICc9JyApO1xuXHRcdFx0XHR2YXJzLnB1c2goIGhhc2hbMF0gKTtcblx0XHRcdFx0dmFyc1toYXNoWzBdXSA9IGhhc2hbMV07XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHZhcnM7XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIGFsbCBjbGFzc2VzIHdpdGhpbiB0aGUgTExNUyBOYW1lc3BhY2Vcblx0ICpcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHRMTE1TLmluaXQgPSBmdW5jdGlvbigpIHtcblxuXHRcdGZvciAodmFyIGZ1bmMgaW4gTExNUykge1xuXG5cdFx0XHRpZiAoIHR5cGVvZiBMTE1TW2Z1bmNdID09PSAnb2JqZWN0JyAmJiBMTE1TW2Z1bmNdICE9PSBudWxsICkge1xuXG5cdFx0XHRcdGlmICggTExNU1tmdW5jXS5pbml0ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHRpZiAoIHR5cGVvZiBMTE1TW2Z1bmNdLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdExMTVNbZnVuY10uaW5pdCgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgdGhlIGN1cnJlbnQgZGV2aWNlIGlzIHRvdWNoLWVuYWJsZWRcblx0ICpcblx0ICogQHNlZSAgICAgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ4MTk4ODYvNDAwNTY4IFsyMDE4IFVwZGF0ZV1cblx0ICogQHJldHVybiAge0Jvb2xlYW59XG5cdCAqIEBzaW5jZSAgIDMuMjQuM1xuXHQgKiBAdmVyc2lvbiAzLjI0LjNcblx0ICovXG5cdExMTVMuaXNfdG91Y2hfZGV2aWNlID0gZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgcHJlZml4ZXMgPSAnIC13ZWJraXQtIC1tb3otIC1vLSAtbXMtICcuc3BsaXQoICcgJyApO1xuXHRcdHZhciBtcSAgICAgICA9IGZ1bmN0aW9uKCBxdWVyeSApIHtcblx0XHRcdHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSggcXVlcnkgKS5tYXRjaGVzO1xuXHRcdH1cblxuXHRcdGlmICggKCAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgKSB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2ggKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBpbmNsdWRlIHRoZSAnaGVhcnR6JyBhcyBhIHdheSB0byBoYXZlIGEgbm9uIG1hdGNoaW5nIE1RIHRvIGhlbHAgdGVybWluYXRlIHRoZSBqb2luXG5cdFx0Ly8gaHR0cHM6Ly9naXQuaW8vdnpuRkhcblx0XHR2YXIgcXVlcnkgPSBbJygnLCBwcmVmaXhlcy5qb2luKCAndG91Y2gtZW5hYmxlZCksKCcgKSwgJ2hlYXJ0eicsICcpJ10uam9pbiggJycgKTtcblx0XHRyZXR1cm4gbXEoIHF1ZXJ5ICk7XG5cblx0fTtcblxuXHQvKipcblx0ICogV2FpdCBmb3IgbWF0Y2hIZWlnaHQgdG8gbG9hZFxuXHQgKlxuXHQgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSAgY2IgIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJ1biB3aGVuIG1hdGNoaGVpZ2h0IGlzIHJlYWR5XG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNi42XG5cdCAqL1xuXHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0ID0gZnVuY3Rpb24oIGNiICkge1xuXHRcdHRoaXMud2FpdF9mb3IoIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuICggdW5kZWZpbmVkICE9PSAkLmZuLm1hdGNoSGVpZ2h0ICk7XG5cdFx0fSwgY2IgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBXYWl0IGZvciB3ZWJ1aVBvcG92ZXIgdG8gbG9hZFxuXHQgKlxuXHQgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSAgY2IgIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJ1biB3aGVuIG1hdGNoaGVpZ2h0IGlzIHJlYWR5XG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjkuMVxuXHQgKiBAdmVyc2lvbiAgMy4xNi42XG5cdCAqL1xuXHRMTE1TLndhaXRfZm9yX3BvcG92ZXIgPSBmdW5jdGlvbiggY2IgKSB7XG5cdFx0dGhpcy53YWl0X2ZvciggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gKCB1bmRlZmluZWQgIT09ICQuZm4ud2VidWlQb3BvdmVyICk7XG5cdFx0fSwgY2IgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBXYWl0IGZvciBhIGRlcGVuZGVuY3kgdG8gbG9hZCBhbmQgdGhlbiBydW4gYSBjYWxsYmFjayBvbmNlIGl0IGhhc1xuXHQgKiBUZW1wb3JhcnkgZml4IGZvciBhIGxlc3MtdGhhbi1vcHRpbWFsIGFzc2V0cyBsb2FkaW5nIGZ1bmN0aW9uIG9uIHRoZSBQSFAgc2lkZSBvZiB0aGluZ3Ncblx0ICpcblx0ICogQHBhcmFtICAgIHtGdW5jdGlvbn0gICAgdGVzdCAgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0cnV0aHkgaWYgdGhlIGRlcGVuZGVuY3kgaXMgbG9hZGVkXG5cdCAqIEBwYXJhbSAgICB7RnVuY3Rpb259ICAgIGNiICAgIGEgY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgb25jZSB0aGUgZGVwZW5kZW5jeSBpcyBsb2FkZWRcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuOS4xXG5cdCAqIEB2ZXJzaW9uICAzLjkuMVxuXHQgKi9cblx0TExNUy53YWl0X2ZvciA9IGZ1bmN0aW9uKCB0ZXN0LCBjYiApIHtcblxuXHRcdHZhciBjb3VudGVyID0gMCxcblx0XHRcdGludGVydmFsO1xuXG5cdFx0aW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIGlmIHdlIGdldCB0byAzMCBzZWNvbmRzIGxvZyBhbiBlcnJvciBtZXNzYWdlXG5cdFx0XHRpZiAoIGNvdW50ZXIgPj0gMzAwICkge1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKCAnY291bGQgbm90IGxvYWQgZGVwZW5kZW5jeScgKTtcblxuXHRcdFx0XHQvLyBpZiB3ZSBjYW4ndCBhY2Nlc3MgeWUsIGluY3JlbWVudCBhbmQgd2FpdC4uLlxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBiaW5kIHRoZSBldmVudHMsIHdlJ3JlIGdvb2QhXG5cdFx0XHRcdGlmICggdGVzdCgpICkge1xuXG5cdFx0XHRcdFx0Y2IoKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coICd3YWl0aW5nLi4uJyApO1xuXHRcdFx0XHRcdGNvdW50ZXIrKztcblx0XHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdGNsZWFySW50ZXJ2YWwoIGludGVydmFsICk7XG5cblx0XHR9LCAxMDAgKTtcblxuXHR9O1xuXG5cdExMTVMuaW5pdCggJCApO1xuXG59KSggalF1ZXJ5ICk7XG4iLCIvKipcbiAqIEZyb250IEVuZCBBY2hpZXZlbWVudHNcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSAgICAzLjE0LjBcbiAqIEB2ZXJzaW9uICAzLjE0LjBcbiAqL1xuXG5MTE1TLkFjaGlldmVtZW50cyA9IHtcblxuXHQvKipcblx0ICogSW5pdFxuXHQgKlxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKCAkKCAnLmxsbXMtYWNoaWV2ZW1lbnQnICkgKSB7XG5cdFx0XHQkKCBkb2N1bWVudCApLm9uKCAncmVhZHknLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHRcdHNlbGYubWF5YmVfb3BlbigpO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIERPTSBldmVudHNcblx0ICpcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdCAqL1xuXHRiaW5kOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdCQoICcubGxtcy1hY2hpZXZlbWVudCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0c2VsZi5jcmVhdGVfbW9kYWwoICQoIHRoaXMgKSApO1xuXG5cdFx0fSApO1xuXG5cdFx0JCggJy5sbG1zLWFjaGlldmVtZW50JyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICR0aGlzICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0aWQgICAgID0gJ2FjaGlldmVtZW50LScgKyAkdGhpcy5hdHRyKCAnZGF0YS1pZCcgKSxcblx0XHRcdFx0JG1vZGFsID0gJCggJyMnICsgaWQgKTtcblxuXHRcdFx0aWYgKCAhICRtb2RhbC5sZW5ndGggKSB7XG5cdFx0XHRcdHNlbGYuY3JlYXRlX21vZGFsKCAkdGhpcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQkbW9kYWwuaXppTW9kYWwoICdvcGVuJyApO1xuXG5cdFx0fSApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgbW9kYWwgYSBtb2RhbCBmb3IgYW4gYWNoaWV2ZW1lbnRcblx0ICpcblx0ICogQHBhcmFtICAgIG9iaiAgICRlbCAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgbW9kYWwgY2FyZFxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0ICovXG5cdGNyZWF0ZV9tb2RhbDogZnVuY3Rpb24oICRlbCApIHtcblxuXHRcdHZhciBpZCAgICAgPSAnYWNoaWV2ZW1lbnQtJyArICRlbC5hdHRyKCAnZGF0YS1pZCcgKSxcblx0XHRcdCRtb2RhbCA9ICQoICcjJyArIGlkICk7XG5cblx0XHRpZiAoICEgJG1vZGFsLmxlbmd0aCApIHtcblx0XHRcdCRtb2RhbCA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1hY2hpZXZlbWVudC1tb2RhbFwiIGlkPVwiJyArIGlkICsgJ1wiIC8+JyApO1xuXHRcdFx0JCggJ2JvZHknICkuYXBwZW5kKCAkbW9kYWwgKTtcblx0XHR9XG5cblx0XHQkbW9kYWwuaXppTW9kYWwoIHtcblx0XHRcdGhlYWRlckNvbG9yOiAnIzNhM2EzYScsXG5cdFx0XHRncm91cDogJ2FjaGlldmVtZW50cycsXG5cdFx0XHRoaXN0b3J5OiB0cnVlLFxuXHRcdFx0bG9vcDogdHJ1ZSxcblx0XHRcdG92ZXJsYXlDb2xvcjogJ3JnYmEoIDAsIDAsIDAsIDAuNiApJyxcblx0XHRcdHRyYW5zaXRpb25JbjogJ2ZhZGVJbkRvd24nLFxuXHRcdFx0dHJhbnNpdGlvbk91dDogJ2ZhZGVPdXREb3duJyxcblx0XHRcdHdpZHRoOiAzNDAsXG5cdFx0XHRvbk9wZW5pbmc6IGZ1bmN0aW9uKCBtb2RhbCApIHtcblxuXHRcdFx0XHRtb2RhbC5zZXRUaXRsZSggJGVsLmZpbmQoICcubGxtcy1hY2hpZXZlbWVudC10aXRsZScgKS5odG1sKCkgKTtcblx0XHRcdFx0bW9kYWwuc2V0U3VidGl0bGUoICRlbC5maW5kKCAnLmxsbXMtYWNoaWV2ZW1lbnQtZGF0ZScgKS5odG1sKCkgKTtcblx0XHRcdFx0bW9kYWwuc2V0Q29udGVudCggJzxkaXYgY2xhc3M9XCJsbG1zLWFjaGlldmVtZW50XCI+JyArICRlbC5odG1sKCkgKyAnPC9kaXY+JyApO1xuXG5cdFx0XHR9LFxuXG5cdFx0XHRvbkNsb3Npbmc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoICcnLCBkb2N1bWVudC50aXRsZSwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCApO1xuXHRcdFx0fSxcblxuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBPbiBwYWdlIGxvYWQsIG9wZW5zIGEgbW9kYWwgaWYgdGhlIFVSTCBjb250YWlucyBhbiBhY2hpZXZlbWVudCBpbiB0aGUgbG9jYXRpb24gaGFzaFxuXHQgKlxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0ICovXG5cdG1heWJlX29wZW46IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0XHRpZiAoIGhhc2ggJiYgLTEgIT09IGhhc2guaW5kZXhPZiggJ2FjaGlldmVtZW50LScgKSApIHtcblx0XHRcdCQoICdhW2hyZWY9XCInICsgaGFzaCArICdcIl0nICkuZmlyc3QoKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cdFx0fVxuXG5cdH1cblxufTtcbiIsIi8qKlxuICogTWFpbiBBamF4IGNsYXNzXG4gKiBIYW5kbGVzIFByaW1hcnkgQWpheCBjb25uZWN0aW9uXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgVW5rbm93blxuICogQHZlcnNpb24gVW5rbm93blxuICovXG5cbkxMTVMuQWpheCA9IHtcblxuXHQvKipcblx0ICogVXJsXG5cdCAqXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqL1xuXHR1cmw6IHdpbmRvdy5hamF4dXJsIHx8IHdpbmRvdy5sbG1zLmFqYXh1cmwsXG5cblx0LyoqXG5cdCAqIFR5cGVcblx0ICpcblx0ICogQHR5cGUge1t0eXBlXX1cblx0ICovXG5cdHR5cGU6ICdwb3N0JyxcblxuXHQvKipcblx0ICogRGF0YVxuXHQgKlxuXHQgKiBAdHlwZSB7W3R5cGVdfVxuXHQgKi9cblx0ZGF0YTogW10sXG5cblx0LyoqXG5cdCAqIENhY2hlXG5cdCAqXG5cdCAqIEB0eXBlIHtbdHlwZV19XG5cdCAqL1xuXHRjYWNoZTogZmFsc2UsXG5cblx0LyoqXG5cdCAqIERhdGFUeXBlXG5cdCAqIGRlZmF1bHRlZCB0byBqc29uXG5cdCAqXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqL1xuXHRkYXRhVHlwZTogJ2pzb24nLFxuXG5cdC8qKlxuXHQgKiBBc3luY1xuXHQgKiBkZWZhdWx0IHRvIGZhbHNlXG5cdCAqXG5cdCAqIEB0eXBlIHtCb29sZWFufVxuXHQgKi9cblx0YXN5bmM6IHRydWUsXG5cblx0cmVzcG9uc2U6W10sXG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemUgQWpheCBtZXRob2RzXG5cdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKG9iaikge1xuXG5cdFx0Ly8gaWYgb2JqIGlzIG5vdCBvZiB0eXBlIG9iamVjdCBvciBudWxsIHJldHVybiBmYWxzZTtcblx0XHRpZiAoIG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBzZXQgb2JqZWN0IGRlZmF1bHRzIGlmIHZhbHVlcyBhcmUgbm90IHN1cHBsaWVkXG5cdFx0b2JqLnVybCAgICAgID0gJ3VybCcgICAgICAgICBpbiBvYmogPyBvYmoudXJsIDogdGhpcy51cmw7XG5cdFx0b2JqLnR5cGUgICAgID0gJ3R5cGUnIFx0XHRpbiBvYmogPyBvYmoudHlwZSA6IHRoaXMudHlwZTtcblx0XHRvYmouZGF0YSAgICAgPSAnZGF0YScgXHRcdGluIG9iaiA/IG9iai5kYXRhIDogdGhpcy5kYXRhO1xuXHRcdG9iai5jYWNoZSAgICA9ICdjYWNoZScgXHRcdGluIG9iaiA/IG9iai5jYWNoZSA6IHRoaXMuY2FjaGU7XG5cdFx0b2JqLmRhdGFUeXBlID0gJ2RhdGFUeXBlJ1x0aW4gb2JqID8gb2JqLmRhdGFUeXBlIDogdGhpcy5kYXRhVHlwZTtcblx0XHRvYmouYXN5bmMgICAgPSAnYXN5bmMnXHRcdGluIG9iaiA/IG9iai5hc3luYyA6IHRoaXMuYXN5bmM7XG5cblx0XHQvLyBhZGQgbm9uY2UgdG8gZGF0YSBvYmplY3Rcblx0XHRvYmouZGF0YS5fYWpheF9ub25jZSA9IHdwX2FqYXhfZGF0YS5ub25jZTtcblxuXHRcdC8vIGFkZCBwb3N0IGlkIHRvIGRhdGEgb2JqZWN0XG5cdFx0dmFyICRSICAgICAgICAgICA9IExMTVMuUmVzdCxcblx0XHRxdWVyeV92YXJzICAgICAgID0gJFIuZ2V0X3F1ZXJ5X3ZhcnMoKTtcblx0XHRvYmouZGF0YS5wb3N0X2lkID0gJ3Bvc3QnIGluIHF1ZXJ5X3ZhcnMgPyBxdWVyeV92YXJzLnBvc3QgOiBudWxsO1xuXHRcdGlmICggISBvYmouZGF0YS5wb3N0X2lkICYmICQoICdpbnB1dCNwb3N0X0lEJyApLmxlbmd0aCApIHtcblx0XHRcdG9iai5kYXRhLnBvc3RfaWQgPSAkKCAnaW5wdXQjcG9zdF9JRCcgKS52YWwoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDYWxsXG5cdCAqIENhbGxlZCBieSBleHRlcm5hbCBjbGFzc2VzXG5cdCAqIFNldHMgdXAgalF1ZXJ5IEFqYXggb2JqZWN0XG5cdCAqXG5cdCAqIEBwYXJhbSAge1tvYmplY3RdfSBbb2JqZWN0IG9mIGFqYXggc2V0dGluZ3NdXG5cdCAqIEByZXR1cm4ge1ttaXhlZF19IFtmYWxzZSBpZiBub3Qgb2JqZWN0IG9yIHRoaXNdXG5cdCAqL1xuXHRjYWxsOiBmdW5jdGlvbihvYmopIHtcblxuXHRcdC8vIGdldCBkZWZhdWx0IHZhcmlhYmxlcyBpZiBub3QgaW5jbHVkZWQgaW4gY2FsbFxuXHRcdHZhciBzZXR0aW5ncyA9IHRoaXMuaW5pdCggb2JqICk7XG5cblx0XHQvLyBpZiBpbml0IHJldHVybiBhIHJlc3BvbnNlIG9mIGZhbHNlXG5cdFx0aWYgKCAhIHNldHRpbmdzKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucmVxdWVzdCggc2V0dGluZ3MgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBDYWxscyBqUXVlcnkgQWpheCBvbiBzZXR0aW5ncyBvYmplY3Rcblx0ICpcblx0ICogQHJldHVybiB7W29iamVjdF19IFt0aGlzXVxuXHQgKi9cblx0cmVxdWVzdDogZnVuY3Rpb24oc2V0dGluZ3MpIHtcblxuXHRcdCQuYWpheCggc2V0dGluZ3MgKTtcblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH1cblxufTtcbiIsIi8qKlxuICogQ3JlYXRlIGEgRG9udXQgQ2hhcnRcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSAgICAzLjkuMFxuICogQHZlcnNpb24gIDMuOS4wXG4gKlxuICogQGxpbmsgIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2pvZXlpbmJveC84MjA1OTYyXG4gKlxuICogQHBhcmFtICAgIG9iaiAgICRlbCAgalF1ZXJ5IGVsZW1lbnQgdG8gZHJhdyBhIGNoYXJ0IHdpdGhpblxuICovXG5cbkxMTVMuRG9udXQgPSBmdW5jdGlvbiggJGVsICkge1xuXG5cdGZ1bmN0aW9uIERvbnV0KG9wdGlvbnMpIHtcblxuXHRcdHRoaXMuc2V0dGluZ3MgPSAkLmV4dGVuZCgge1xuXHRcdFx0ZWxlbWVudDogb3B0aW9ucy5lbGVtZW50LFxuXHRcdFx0cGVyY2VudDogMTAwXG5cdFx0fSwgb3B0aW9ucyApO1xuXG5cdFx0dGhpcy5jaXJjbGUgICAgICAgICAgICAgICAgPSB0aGlzLnNldHRpbmdzLmVsZW1lbnQuZmluZCggJ3BhdGgnICk7XG5cdFx0dGhpcy5zZXR0aW5ncy5zdHJva2Vfd2lkdGggPSBwYXJzZUludCggdGhpcy5jaXJjbGUuY3NzKCAnc3Ryb2tlLXdpZHRoJyApICk7XG5cdFx0dGhpcy5yYWRpdXMgICAgICAgICAgICAgICAgPSAoIHBhcnNlSW50KCB0aGlzLnNldHRpbmdzLmVsZW1lbnQuY3NzKCAnd2lkdGgnICkgKSAtIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoICkgLyAyO1xuXHRcdHRoaXMuYW5nbGUgICAgICAgICAgICAgICAgID0gLTk3LjU7IC8vIE9yaWdpbiBvZiB0aGUgZHJhdyBhdCB0aGUgdG9wIG9mIHRoZSBjaXJjbGVcblx0XHR0aGlzLmkgICAgICAgICAgICAgICAgICAgICA9IE1hdGgucm91bmQoIDAuNzUgKiB0aGlzLnNldHRpbmdzLnBlcmNlbnQgKTtcblx0XHR0aGlzLmZpcnN0ICAgICAgICAgICAgICAgICA9IHRydWU7XG5cblx0XHR0aGlzLmFuaW1hdGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCggdGhpcy5sb29wLmJpbmQoIHRoaXMgKSwgMTAgKTtcblx0XHR9O1xuXG5cdFx0dGhpcy5sb29wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmFuZ2xlICs9IDU7XG5cdFx0XHR0aGlzLmFuZ2xlICU9IDM2MDtcblx0XHRcdHZhciByYWRpYW5zID0gKCB0aGlzLmFuZ2xlIC8gMTgwICkgKiBNYXRoLlBJLFxuXHRcdFx0XHR4ICAgICAgID0gdGhpcy5yYWRpdXMgKyB0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCAvIDIgKyBNYXRoLmNvcyggcmFkaWFucyApICogdGhpcy5yYWRpdXMsXG5cdFx0XHRcdHkgICAgICAgPSB0aGlzLnJhZGl1cyArIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoIC8gMiArIE1hdGguc2luKCByYWRpYW5zICkgKiB0aGlzLnJhZGl1cyxcblx0XHRcdFx0ZDtcblx0XHRcdGlmICh0aGlzLmZpcnN0ID09PSB0cnVlKSB7XG5cdFx0XHRcdGQgICAgICAgICAgPSB0aGlzLmNpcmNsZS5hdHRyKCAnZCcgKSArICcgTSAnICsgeCArICcgJyArIHk7XG5cdFx0XHRcdHRoaXMuZmlyc3QgPSBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGQgPSB0aGlzLmNpcmNsZS5hdHRyKCAnZCcgKSArICcgTCAnICsgeCArICcgJyArIHk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmNpcmNsZS5hdHRyKCAnZCcsIGQgKTtcblx0XHRcdHRoaXMuaS0tO1xuXG5cdFx0XHRpZiAodGhpcy5pIDw9IDApIHtcblx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggdGhpcy50aW1lciApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBkcmF3KCAkZWwgKSB7XG5cdFx0dmFyIHBhdGggPSAnPHBhdGggZD1cIk0xMDAsMTAwXCIgLz4nO1xuXHRcdCRlbC5hcHBlbmQoICc8c3ZnIHByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZFwiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPicgKyBwYXRoICsgJzwvc3ZnPicgKTtcblx0XHR2YXIgZG9udXQgPSBuZXcgRG9udXQoIHtcblx0XHRcdGVsZW1lbnQ6ICRlbCxcblx0XHRcdHBlcmNlbnQ6ICRlbC5hdHRyKCAnZGF0YS1wZXJjJyApXG5cdFx0fSApO1xuXHRcdGRvbnV0LmFuaW1hdGUoKTtcblx0fVxuXG5cdGRyYXcoICRlbCApO1xuXG59O1xuIiwiLyoqXG4gKiBJbnN0cnVjdG9ycyBMaXN0XG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgIFVua25vd25cbiAqIEB2ZXJzaW9uICBVbmtub3duXG4gKi9cblxuTExNUy5JbnN0cnVjdG9ycyA9IHtcblxuXHQvKipcblx0ICogSW5pdFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCAkKCAnLmxsbXMtaW5zdHJ1Y3RvcnMnICkubGVuZ3RoICkge1xuXG5cdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHR9ICk7XG5cblx0XHR9XG5cblx0fSxcblxuXHQvKipcblx0ICogQmluZCBNZXRob2Rcblx0ICogSGFuZGxlcyBkb20gYmluZGluZyBvbiBsb2FkXG5cdCAqXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cblx0XHQkKCAnLmxsbXMtaW5zdHJ1Y3RvcnMgLmxsbXMtYXV0aG9yJyApLm1hdGNoSGVpZ2h0KCk7XG5cblx0fSxcblxufTtcbiIsIi8qKlxuICogTG9jYWxpemF0aW9uIGZ1bmN0aW9ucyBmb3IgTGlmdGVyTE1TIEphdmFzY3JpcHRcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSAgMi43LjNcbiAqIEB2ZXJzaW9uICAyLjcuM1xuICpcbiAqIEB0b2RvICB3ZSBuZWVkIG1vcmUgcm9idXN0IHRyYW5zbGF0aW9uIGZ1bmN0aW9ucyB0byBoYW5kbGUgc3ByaW50ZiBhbmQgcGx1cmFsaXphdGlvblxuICogICAgICAgIGF0IHRoaXMgbW9tZW50IHdlIGRvbid0IG5lZWQgdGhvc2UgYW5kIGhhdmVuJ3Qgc3R1YmJlZCB0aGVtIG91dFxuICogICAgICAgIHRob3NlIHdpbGwgYmUgYWRkZWQgd2hlbiB0aGV5J3JlIG5lZWRlZFxuICovXG5cbkxMTVMubDEwbiA9IExMTVMubDEwbiB8fCB7fTtcblxuTExNUy5sMTBuLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICggc3RyaW5nICkge1xuXG5cdHZhciBzZWxmID0gdGhpcztcblxuXHRpZiAoIHNlbGYuc3RyaW5nc1tzdHJpbmddICkge1xuXG5cdFx0cmV0dXJuIHNlbGYuc3RyaW5nc1tzdHJpbmddO1xuXG5cdH0gZWxzZSB7XG5cblx0XHRyZXR1cm4gc3RyaW5nO1xuXG5cdH1cblxufTtcblxuLyoqXG4gKiBUcmFuc2xhdGUgYW5kIHJlcGxhY2UgcGxhY2Vob2xkZXJzIGluIGEgc3RyaW5nXG4gKlxuICogQGV4YW1wbGUgTExNUy5sMTBuLnJlcGxhY2UoICdUaGlzIGlzIGEgJTIkcyAlMSRzIFN0cmluZycsIHtcbiAqICAgICAgICAgICBcdCclMSRzJzogJ2Nvb2wnLFxuICogICAgXHRcdFx0JyUyJHMnOiAndmVyeSdcbiAqICAgIFx0XHR9ICk7XG4gKiAgICBcdFx0T3V0cHV0OiBcIlRoaXMgaXMgYSB2ZXJ5IGNvb2wgU3RyaW5nXCJcbiAqXG4gKiBAcGFyYW0gICAgc3RyaW5nICAgc3RyaW5nICAgICAgICB0ZXh0IHN0cmluZ1xuICogQHBhcmFtICAgIG9iamVjdCAgIHJlcGxhY2VtZW50cyAgb2JqZWN0IGNvbnRhaW5pbmcgdG9rZW4gPT4gcmVwbGFjZW1lbnQgcGFpcnNcbiAqIEByZXR1cm4gICBzdHJpbmdcbiAqIEBzaW5jZSAgICAzLjE2LjBcbiAqIEB2ZXJzaW9uICAzLjE2LjBcbiAqL1xuTExNUy5sMTBuLnJlcGxhY2UgPSBmdW5jdGlvbiggc3RyaW5nLCByZXBsYWNlbWVudHMgKSB7XG5cblx0dmFyIHN0ciA9IHRoaXMudHJhbnNsYXRlKCBzdHJpbmcgKTtcblxuXHQkLmVhY2goIHJlcGxhY2VtZW50cywgZnVuY3Rpb24oIHRva2VuLCB2YWx1ZSApIHtcblxuXHRcdGlmICggLTEgIT09IHRva2VuLmluZGV4T2YoICdzJyApICkge1xuXHRcdFx0dmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuXHRcdH0gZWxzZSBpZiAoIC0xICE9PSB0b2tlbi5pbmRleE9mKCAnZCcgKSApIHtcblx0XHRcdHZhbHVlID0gdmFsdWUgKiAxO1xuXHRcdH1cblxuXHRcdHN0ciA9IHN0ci5yZXBsYWNlKCB0b2tlbiwgdmFsdWUgKTtcblxuXHR9ICk7XG5cblx0cmV0dXJuIHN0cjtcblxufTtcbiIsIi8qKlxuICogSGFuZGxlIExlc3NvbiBQcmV2aWV3IEVsZW1lbnRzXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgICAgMy4wLjBcbiAqIEB2ZXJzaW9uICAzLjE2LjEyXG4gKi9cblxuTExNUy5MZXNzb25QcmV2aWV3ID0ge1xuXG5cdC8qKlxuXHQgKiBBIGpRdWVyeSBvYmplY3Qgb2YgYWxsIG91dGxpbmVzIHByZXNlbnQgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdCAqXG5cdCAqIEB0eXBlIG9ialxuXHQgKi9cblx0JGVsczogbnVsbCxcblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZVxuXHQgKlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0dGhpcy4kbG9ja2VkID0gJCggJ2FbaHJlZj1cIiNsbG1zLWxlc3Nvbi1sb2NrZWRcIl0nICk7XG5cblx0XHRpZiAoIHRoaXMuJGxvY2tlZC5sZW5ndGggKSB7XG5cblx0XHRcdHNlbGYuYmluZCgpO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCAkKCAnLmxsbXMtY291cnNlLW5hdmlnYXRpb24nICkubGVuZ3RoICkge1xuXG5cdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRzZWxmLm1hdGNoX2hlaWdodCgpO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9XG5cblx0fSxcblxuXHQvKipcblx0ICogQmluZCBET00gZXZlbnRzXG5cdCAqXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMTYuMTJcblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0dGhpcy4kbG9ja2VkLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9ICk7XG5cblx0XHR0aGlzLiRsb2NrZWQub24oICdtb3VzZWVudGVyJywgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkdGlwID0gJCggdGhpcyApLmZpbmQoICcubGxtcy10b29sdGlwJyApO1xuXHRcdFx0aWYgKCAhICR0aXAubGVuZ3RoICkge1xuXHRcdFx0XHR2YXIgbXNnID0gJCggdGhpcyApLmF0dHIoICdkYXRhLXRvb2x0aXAtbXNnJyApO1xuXHRcdFx0XHRpZiAoICEgbXNnICkge1xuXHRcdFx0XHRcdG1zZyA9IExMTVMubDEwbi50cmFuc2xhdGUoICdZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhpcyBjb250ZW50JyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdCR0aXAgPSBzZWxmLmdldF90b29sdGlwKCBtc2cgKTtcblx0XHRcdFx0JCggdGhpcyApLmFwcGVuZCggJHRpcCApO1xuXHRcdFx0fVxuXHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCR0aXAuYWRkQ2xhc3MoICdzaG93JyApO1xuXHRcdFx0fSwgMTAgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMuJGxvY2tlZC5vbiggJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHQkdGlwLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcblxuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBNYXRjaCB0aGUgaGVpZ2h0IG9mIGxlc3NvbiBwcmV2aWV3IGl0ZW1zIGluIGNvdXJzZSBuYXZpZ2F0aW9uIGJsb2Nrc1xuXHQgKlxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRtYXRjaF9oZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJy5sbG1zLWNvdXJzZS1uYXZpZ2F0aW9uIC5sbG1zLWxlc3Nvbi1saW5rJyApLm1hdGNoSGVpZ2h0KCk7XG5cblx0fSxcblxuXHQvKipcblx0ICogR2V0IGEgdG9vbHRpcCBlbGVtZW50XG5cdCAqXG5cdCAqIEBwYXJhbSAgICBzdHJpbmcgICBtc2cgICBtZXNzYWdlIHRvIGRpc3BsYXkgaW5zaWRlIHRoZSB0b29sdGlwXG5cdCAqIEByZXR1cm4gICBvYmpcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjIuNFxuXHQgKi9cblx0Z2V0X3Rvb2x0aXA6IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdFx0dmFyICRlbCA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy10b29sdGlwXCIgLz4nICk7XG5cdFx0JGVsLmFwcGVuZCggJzxkaXYgY2xhc3M9XCJsbG1zLXRvb2x0aXAtY29udGVudFwiPicgKyBtc2cgKyAnPC9kaXY+JyApO1xuXHRcdHJldHVybiAkZWw7XG5cdH0sXG5cbn07XG4iLCIvKipcbiAqIExpZnRlckxNUyBMb29wcyBKU1xuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlICAgIDMuMC4wXG4gKiBAdmVyc2lvbiAgMy4xNC4wXG4gKi9cblxuTExNUy5Mb29wcyA9IHtcblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZVxuXHQgKlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKCAkKCAnLmxsbXMtbG9vcCcgKS5sZW5ndGggKSB7XG5cblx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdHNlbGYubWF0Y2hfaGVpZ2h0KCk7XG5cblx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBNYXRjaCB0aGUgaGVpZ2h0IG9mIC5sbG1zLWxvb3AtaXRlbVxuXHQgKlxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0bWF0Y2hfaGVpZ2h0OiBmdW5jdGlvbigpIHtcblxuXHRcdCQoICcubGxtcy1sb29wLWl0ZW0gLmxsbXMtbG9vcC1pdGVtLWNvbnRlbnQnICkubWF0Y2hIZWlnaHQoKTtcblx0XHQkKCAnLmxsbXMtYWNoaWV2ZW1lbnQtbG9vcC1pdGVtIC5sbG1zLWFjaGlldmVtZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0JCggJy5sbG1zLWNlcnRpZmljYXRlLWxvb3AtaXRlbSAubGxtcy1jZXJ0aWZpY2F0ZScgKS5tYXRjaEhlaWdodCgpO1xuXG5cdH0sXG5cbn07XG4iLCIvKipcbiAqIEhhbmRsZSB0aGUgQ29sbGFwc2libGUgU3lsbGFidXMgV2lkZ2V0IC8gU2hvcnRjb2RlXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgVW5rbm93blxuICogQHZlcnNpb24gVW5rbm93blxuICovXG5cbkxMTVMuT3V0bGluZUNvbGxhcHNlID0ge1xuXG5cdC8qKlxuXHQgKiBBIGpRdWVyeSBvYmplY3Qgb2YgYWxsIG91dGxpbmVzIHByZXNlbnQgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdCAqXG5cdCAqIEB0eXBlIG9ialxuXHQgKi9cblx0JG91dGxpbmVzOiBudWxsLFxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplXG5cdCAqXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHR0aGlzLiRvdXRsaW5lcyA9ICQoICcubGxtcy13aWRnZXQtc3lsbGFidXMtLWNvbGxhcHNpYmxlJyApO1xuXG5cdFx0aWYgKCB0aGlzLiRvdXRsaW5lcy5sZW5ndGggKSB7XG5cblx0XHRcdHRoaXMuYmluZCgpO1xuXG5cdFx0fVxuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEJpbmQgRE9NIGV2ZW50c1xuXHQgKlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0dGhpcy4kb3V0bGluZXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciAkb3V0bGluZSA9ICQoIHRoaXMgKSxcblx0XHRcdFx0JGhlYWRlcnMgPSAkb3V0bGluZS5maW5kKCAnLmxsbXMtc2VjdGlvbiAuc2VjdGlvbi1oZWFkZXInICk7XG5cblx0XHRcdC8vIGJpbmQgaGVhZGVyIGNsaWNrc1xuXHRcdFx0JGhlYWRlcnMub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHR2YXIgJHRvZ2dsZSAgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JHNlY3Rpb24gPSAkdG9nZ2xlLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdHN0YXRlICAgID0gc2VsZi5nZXRfc2VjdGlvbl9zdGF0ZSggJHNlY3Rpb24gKTtcblxuXHRcdFx0XHRzd2l0Y2ggKCBzdGF0ZSApIHtcblxuXHRcdFx0XHRcdGNhc2UgJ2Nsb3NlZCc6XG5cdFx0XHRcdFx0XHRzZWxmLm9wZW5fc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ29wZW5lZCc6XG5cdFx0XHRcdFx0XHRzZWxmLmNsb3NlX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9ICk7XG5cblx0XHRcdC8vIGJpbmQgb3B0aW9uYWwgdG9nZ2xlIFwiYnV0dG9uc1wiXG5cdFx0XHQkb3V0bGluZS5maW5kKCAnLmxsbXMtY29sbGFwc2UtdG9nZ2xlJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0dmFyICRidG4gICAgICAgICAgICA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRhY3Rpb24gICAgICAgICAgPSAkYnRuLmF0dHIoICdkYXRhLWFjdGlvbicgKSxcblx0XHRcdFx0XHRvcHBvc2l0ZV9hY3Rpb24gPSAoICdjbG9zZScgPT09IGFjdGlvbiApID8gJ29wZW5lZCcgOiAnY2xvc2VkJztcblxuXHRcdFx0XHQkaGVhZGVycy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdHZhciAkc2VjdGlvbiA9ICQoIHRoaXMgKS5jbG9zZXN0KCAnLmxsbXMtc2VjdGlvbicgKSxcblx0XHRcdFx0XHRcdHN0YXRlICAgID0gc2VsZi5nZXRfc2VjdGlvbl9zdGF0ZSggJHNlY3Rpb24gKTtcblxuXHRcdFx0XHRcdGlmICggb3Bwb3NpdGVfYWN0aW9uICE9PSBzdGF0ZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHN3aXRjaCAoIHN0YXRlICkge1xuXG5cdFx0XHRcdFx0XHRjYXNlICdjbG9zZWQnOlxuXHRcdFx0XHRcdFx0XHRzZWxmLmNsb3NlX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdFx0Y2FzZSAnb3BlbmVkJzpcblx0XHRcdFx0XHRcdFx0c2VsZi5vcGVuX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCQoIHRoaXMgKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9ICk7XG5cblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogQ2xvc2UgYW4gb3V0bGluZSBzZWN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0Y2xvc2Vfc2VjdGlvbjogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXG5cdFx0JHNlY3Rpb24ucmVtb3ZlQ2xhc3MoICdsbG1zLXNlY3Rpb24tLW9wZW5lZCcgKS5hZGRDbGFzcyggJ2xsbXMtc2VjdGlvbi0tY2xvc2VkJyApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIE9wZW4gYW4gb3V0bGluZSBzZWN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdCAqIEByZXR1cm4gdm9pZFxuXHQgKi9cblx0b3Blbl9zZWN0aW9uOiBmdW5jdGlvbiggJHNlY3Rpb24gKSB7XG5cblx0XHQkc2VjdGlvbi5yZW1vdmVDbGFzcyggJ2xsbXMtc2VjdGlvbi0tY2xvc2VkJyApLmFkZENsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogR2V0IHRoZSBjdXJyZW50IHN0YXRlIChvcGVuIG9yIGNsb3NlZCkgb2YgYW4gb3V0bGluZSBzZWN0aW9uXG5cdCAqXG5cdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdCAqIEByZXR1cm4gc3RyaW5nICAgICAgICAgICAgJ29wZW5lZCcgb3IgJ2Nsb3NlZCdcblx0ICovXG5cdGdldF9zZWN0aW9uX3N0YXRlOiBmdW5jdGlvbiggJHNlY3Rpb24gKSB7XG5cblx0XHRyZXR1cm4gJHNlY3Rpb24uaGFzQ2xhc3MoICdsbG1zLXNlY3Rpb24tLW9wZW5lZCcgKSA/ICdvcGVuZWQnIDogJ2Nsb3NlZCc7XG5cblx0fVxuXG59O1xuIiwiLyoqXG4gKiBIYW5kbGUgUGFzc3dvcmQgU3RyZW5ndGggTWV0ZXIgZm9yIHJlZ2lzdHJhdGlvbiBhbmQgcGFzc3dvcmQgdXBkYXRlIGZpZWxkc1xuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlIDMuMC4wXG4gKiBAdmVyc2lvbiAgMy43LjBcbiAqL1xuXG4kLmV4dGVuZCggTExNUy5QYXNzd29yZFN0cmVuZ3RoLCB7XG5cblx0JHBhc3M6ICQoICcubGxtcy1wYXNzd29yZCcgKSxcblx0JGNvbmY6ICQoICcubGxtcy1wYXNzd29yZC1jb25maXJtJyApLFxuXHQkbWV0ZXI6ICQoICcubGxtcy1wYXNzd29yZC1zdHJlbmd0aC1tZXRlcicgKSxcblx0JGZvcm06IG51bGwsXG5cblx0LyoqXG5cdCAqIEluaXRcblx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHQgKlxuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuNy4wXG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbigpIHtcblxuXHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuJG1ldGVyLmxlbmd0aCApIHtcblxuXHRcdFx0dGhpcy4kZm9ybSA9IHRoaXMuJHBhc3MuY2xvc2VzdCggJ2Zvcm0nICk7XG5cblx0XHRcdC8vIG91ciBhc3NldCBlbnF1ZXVlIGlzIGFsbCBzY3Jld2VkIHVwIGFuZCBJJ20gdG9vIHRpcmVkIHRvIGZpeCBpdFxuXHRcdFx0Ly8gc28gd2UncmUgZ29pbmcgdG8gcnVuIHRoaXMgbGl0dGxlIGRlcGVuZGVuY3kgY2hlY2tcblx0XHRcdC8vIGFuZCB3YWl0IGZvciBtYXRjaEhlaWdodCB0byBiZSBhdmFpbGFibGUgYmVmb3JlIGJpbmRpbmdcblx0XHRcdHZhciBzZWxmICAgID0gdGhpcyxcblx0XHRcdFx0Y291bnRlciA9IDAsXG5cdFx0XHRcdGludGVydmFsO1xuXG5cdFx0XHRpbnRlcnZhbCA9IHNldEludGVydmFsKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBpZiB3ZSBnZXQgdG8gMzAgc2Vjb25kcyBsb2cgYW4gZXJyb3IgbWVzc2FnZVxuXHRcdFx0XHQvLyBhbmQgcmVhbGx5IHdobyBjYXJlcyBpZiB0aGUgZWxlbWVudCBoZWlnaHRzIGFyZW4ndCBtYXRjaGVkXG5cdFx0XHRcdGlmICggY291bnRlciA+PSAzMDAgKSB7XG5cblx0XHRcdFx0XHRjb25zb2xlLmxvZyggJ2Nhbm5vdCBkbyBwYXNzd29yZCBzdHJlbmd0aCBtZXRlci4nICk7XG5cblx0XHRcdFx0XHQvLyBpZiB3ZSBjYW4ndCBhY2Nlc3MgeWUsIGluY3JlbWVudCBhbmQgd2FpdC4uLlxuXHRcdFx0XHR9IGVsc2UgaWYgKCAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHdwICYmICd1bmRlZmluZWQnID09PSB0eXBlb2Ygd3AucGFzc3dvcmRTdHJlbmd0aCApIHtcblxuXHRcdFx0XHRcdGNvdW50ZXIrKztcblx0XHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdFx0XHQvLyBiaW5kIHRoZSBldmVudHMsIHdlJ3JlIGdvb2QhXG5cdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0XHRzZWxmLiRmb3JtLnRyaWdnZXIoICdsbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLXJlYWR5JyApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjbGVhckludGVydmFsKCBpbnRlcnZhbCApO1xuXG5cdFx0XHR9LCAxMDAgKTtcblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIE1ldGhvZFxuXHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0ICpcblx0ICogQHJldHVybiB2b2lkXG5cdCAqIEBzaW5jZSAzLjAuMFxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHQvLyBhZGQgc3VibWlzc2lvbiBldmVudCBoYW5kbGVycyB3aGVuIG5vdCBvbiBhIGNoZWNrb3V0IGZvcm1cblx0XHRpZiAoICEgdGhpcy4kZm9ybS5oYXNDbGFzcyggJ2xsbXMtY2hlY2tvdXQnICkgKSB7XG5cdFx0XHR0aGlzLiRmb3JtLm9uKCAnc3VibWl0Jywgc2VsZiwgc2VsZi5zdWJtaXQgKTtcblx0XHR9XG5cblx0XHQvLyBjaGVjayBwYXNzd29yZCBzdHJlbmd0aCBvbiBrZXl1cFxuXHRcdHNlbGYuJHBhc3MuYWRkKCBzZWxmLiRjb25mICkub24oICdrZXl1cCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0c2VsZi5jaGVja19zdHJlbmd0aCgpO1xuXHRcdH0gKTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBDaGVjayB0aGUgc3RyZW5ndGggb2YgYSB1c2VyIGVudGVyZWQgcGFzc3dvcmRcblx0ICogYW5kIHVwZGF0ZSBlbGVtZW50cyBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQgc3RyZW5ndGhcblx0ICpcblx0ICogQHJldHVybiB2b2lkXG5cdCAqIEBzaW5jZSAzLjAuMFxuXHQgKiBAdmVyc2lvbiAzLjAuMFxuXHQgKi9cblx0Y2hlY2tfc3RyZW5ndGg6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyICRwYXNzX2ZpZWxkID0gdGhpcy4kcGFzcy5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKSxcblx0XHRcdCRjb25mX2ZpZWxkID0gdGhpcy4kY29uZi5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKSxcblx0XHRcdHBhc3NfbGVuZ3RoID0gdGhpcy4kcGFzcy52YWwoKS5sZW5ndGgsXG5cdFx0XHRjb25mX2xlbmd0aCA9IHRoaXMuJGNvbmYudmFsKCkubGVuZ3RoO1xuXG5cdFx0Ly8gaGlkZSB0aGUgbWV0ZXIgaWYgYm90aCBmaWVsZHMgYXJlIGVtcHR5XG5cdFx0aWYgKCAhIHBhc3NfbGVuZ3RoICYmICEgY29uZl9sZW5ndGggKSB7XG5cdFx0XHQkcGFzc19maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkIGludmFsaWQnICk7XG5cdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkIGludmFsaWQnICk7XG5cdFx0XHR0aGlzLiRtZXRlci5oaWRlKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cygpICkge1xuXHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICdpbnZhbGlkJyApLmFkZENsYXNzKCAndmFsaWQnICk7XG5cdFx0XHRpZiAoIGNvbmZfbGVuZ3RoICkge1xuXHRcdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ2ludmFsaWQnICkuYWRkQ2xhc3MoICd2YWxpZCcgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCcgKS5hZGRDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHRpZiAoIGNvbmZfbGVuZ3RoICkge1xuXHRcdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkJyApLmFkZENsYXNzKCAnaW52YWxpZCcgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLiRtZXRlci5yZW1vdmVDbGFzcyggJ3Rvby1zaG9ydCB2ZXJ5LXdlYWsgd2VhayBtZWRpdW0gc3Ryb25nIG1pc21hdGNoJyApO1xuXHRcdHRoaXMuJG1ldGVyLnNob3coKS5hZGRDbGFzcyggdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCggJ3NsdWcnICkgKTtcblx0XHR0aGlzLiRtZXRlci5odG1sKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoKCAndGV4dCcgKSApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEZvcm0gc3VibWlzc2lvbiBhY3Rpb24gY2FsbGVkIGR1cmluZyByZWdpc3RyYXRpb24gb24gY2hlY2tvdXQgc2NyZWVuXG5cdCAqXG5cdCAqIEBwYXJhbSAgICBvYmogICAgICAgc2VsZiAgICAgIGluc3RhbmNlIG9mIHRoaXMgY2xhc3Ncblx0ICogQHBhcmFtICAgIEZ1bmN0aW9uICBjYWxsYmFjayAgY2FsbGJhY2sgZnVuY3Rpb24sIHBhc3NlcyBlcnJvciBtZXNzYWdlIG9yIHN1Y2Nlc3MgYmFjayB0byBjaGVja291dCBoYW5kbGVyXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0ICovXG5cdGNoZWNrb3V0OiBmdW5jdGlvbiggc2VsZiwgY2FsbGJhY2sgKSB7XG5cblx0XHRpZiAoIHNlbGYuZ2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzKCkgKSB7XG5cblx0XHRcdGNhbGxiYWNrKCB0cnVlICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjYWxsYmFjayggTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1RoZXJlIGlzIGFuIGlzc3VlIHdpdGggeW91ciBjaG9zZW4gcGFzc3dvcmQuJyApICk7XG5cblx0XHR9XG5cblx0fSxcblxuXHQvKipcblx0ICogR2V0IHRoZSBsaXN0IG9mIGJsYWNrbGlzdGVkIHN0cmluZ3Ncblx0ICogV2UnbGwgYWRkIGEgZmlsdGVyIHRvIHRoaXMgbGF0ZXIgc28gdGhhdCBkZXZlbG9wZXJzIGNhbiBhZGQgdGhlaXIgb3duIGJsYWNrbGlzdCB0byB0aGUgZGVmYXVsdCBXUCBsaXN0XG5cdCAqXG5cdCAqIEByZXR1cm4gYXJyYXlcblx0ICogQHNpbmNlIDMuMC4wXG5cdCAqL1xuXHRnZXRfYmxhY2tsaXN0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgYmxhY2tsaXN0ID0gd3AucGFzc3dvcmRTdHJlbmd0aC51c2VySW5wdXRCbGFja2xpc3QoKTtcblx0XHRyZXR1cm4gYmxhY2tsaXN0O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXRyaWV2ZSBjdXJyZW50IHN0cmVuZ3RoIGFzIGEgbnVtYmVyLCBhIHNsdWcsIG9yIGEgdHJhbnNsYXRlZCB0ZXh0IHN0cmluZ1xuXHQgKlxuXHQgKiBAcGFyYW0gICAgc3RyaW5nICAgZm9ybWF0ICBkZXJpdmVkIHJldHVybiBmb3JtYXQgW2ludHxzbHVnfHRleHRdIGRlZmF1bHRzIHRvIGludFxuXHQgKiBAcmV0dXJuICAgbWl4ZWRcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHQgKi9cblx0Z2V0X2N1cnJlbnRfc3RyZW5ndGg6IGZ1bmN0aW9uKCBmb3JtYXQgKSB7XG5cblx0XHRmb3JtYXQgICA9IGZvcm1hdCB8fCAnaW50Jztcblx0XHR2YXIgcGFzcyA9IHRoaXMuJHBhc3MudmFsKCksXG5cdFx0XHRjb25mID0gdGhpcy4kY29uZi52YWwoKSxcblx0XHRcdHZhbDtcblxuXHRcdC8vIGVuZm9yY2UgY3VzdG9tIGxlbmd0aCByZXF1aXJlbWVudFxuXHRcdGlmICggcGFzcy5sZW5ndGggPCA2ICkge1xuXHRcdFx0dmFsID0gLTE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhbCA9IHdwLnBhc3N3b3JkU3RyZW5ndGgubWV0ZXIoIHBhc3MsIHRoaXMuZ2V0X2JsYWNrbGlzdCgpLCBjb25mICk7XG5cdFx0XHQvLyAwICYgMSBhcmUgYm90aCB2ZXJ5LXdlYWtcblx0XHRcdGlmICggMCA9PT0gdmFsICkge1xuXHRcdFx0XHR2YWwgPSAxO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggJ3NsdWcnID09PSBmb3JtYXQgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfc3RyZW5ndGhfc2x1ZyggdmFsICk7XG5cdFx0fSBlbHNlIGlmICggJ3RleHQnID09PSBmb3JtYXQgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfc3RyZW5ndGhfdGV4dCggdmFsICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBjdXJyZW50IHBhc3N3b3JkIHN0cmVuZ3RoIG1lZXRzIHRoZSB1c2VyLWRlZmluZWRcblx0ICogbWluaW11bSBwYXNzd29yZCBzdHJlbmd0aCByZXF1aXJlbWVudHNcblx0ICpcblx0ICogQHJldHVybiAgIGJvb2xlYW5cblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHQgKi9cblx0Z2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgY3VyciA9IHRoaXMuZ2V0X2N1cnJlbnRfc3RyZW5ndGgoKSxcblx0XHRcdG1pbiAgPSB0aGlzLmdldF9zdHJlbmd0aF92YWx1ZSggdGhpcy5nZXRfbWluaW11bV9zdHJlbmd0aCgpICk7XG5cdFx0cmV0dXJuICggNSA9PT0gY3VyciApID8gZmFsc2UgOiAoIGN1cnIgPj0gbWluICk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEdldCB0aGUgc2x1ZyBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCB2YWx1ZVxuXHQgKlxuXHQgKiBAcGFyYW0gICAgaW50ICAgc3RyZW5ndGhfdmFsICBzdHJlbmd0aCB2YWx1ZSBudW1iZXJcblx0ICogQHJldHVybiAgIHN0cmluZ1xuXHQgKiBAc2luY2UgICAgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuMC4wXG5cdCAqL1xuXHRnZXRfc3RyZW5ndGhfc2x1ZzogZnVuY3Rpb24oIHN0cmVuZ3RoX3ZhbCApIHtcblxuXHRcdHZhciBzbHVncyA9IHtcblx0XHRcdCctMSc6ICd0b28tc2hvcnQnLFxuXHRcdFx0MTogJ3Zlcnktd2VhaycsXG5cdFx0XHQyOiAnd2VhaycsXG5cdFx0XHQzOiAnbWVkaXVtJyxcblx0XHRcdDQ6ICdzdHJvbmcnLFxuXHRcdFx0NTogJ21pc21hdGNoJyxcblx0XHR9O1xuXG5cdFx0cmV0dXJuICggc2x1Z3NbIHN0cmVuZ3RoX3ZhbCBdICkgPyBzbHVnc1sgc3RyZW5ndGhfdmFsIF0gOiBzbHVnc1s1XTtcblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSB0cmFuc2xhdGVkIHRleHQgYXNzb2NpYXRlZCB3aXRoIGEgc3RyZW5ndGggdmFsdWVcblx0ICpcblx0ICogQHBhcmFtICAgIGludCAgc3RyZW5ndGhfdmFsICBzdHJlbmd0aCB2YWx1ZVxuXHQgKiBAcmV0dXJuICAgc3RyaW5nXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0ICovXG5cdGdldF9zdHJlbmd0aF90ZXh0OiBmdW5jdGlvbiggc3RyZW5ndGhfdmFsICkge1xuXG5cdFx0dmFyIHRleHRzID0ge1xuXHRcdFx0Jy0xJzogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1RvbyBTaG9ydCcgKSxcblx0XHRcdDE6IExMTVMubDEwbi50cmFuc2xhdGUoICdWZXJ5IFdlYWsnICksXG5cdFx0XHQyOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnV2VhaycgKSxcblx0XHRcdDM6IExMTVMubDEwbi50cmFuc2xhdGUoICdNZWRpdW0nICksXG5cdFx0XHQ0OiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnU3Ryb25nJyApLFxuXHRcdFx0NTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01pc21hdGNoJyApLFxuXHRcdH07XG5cblx0XHRyZXR1cm4gKCB0ZXh0c1sgc3RyZW5ndGhfdmFsIF0gKSA/IHRleHRzWyBzdHJlbmd0aF92YWwgXSA6IHRleHRzWzVdO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEdldCB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGEgc3RyZW5ndGggc2x1Z1xuXHQgKlxuXHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc3RyZW5ndGhfc2x1ZyAgYSBzdHJlbmd0aCBzbHVnXG5cdCAqIEByZXR1cm4gICBpbnRcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHQgKi9cblx0Z2V0X3N0cmVuZ3RoX3ZhbHVlOiBmdW5jdGlvbiggc3RyZW5ndGhfc2x1ZyApIHtcblxuXHRcdHZhciB2YWx1ZXMgPSB7XG5cdFx0XHQndG9vLXNob3J0JzogLTEsXG5cdFx0XHQndmVyeS13ZWFrJzogMSxcblx0XHRcdHdlYWs6IDIsXG5cdFx0XHRtZWRpdW06IDMsXG5cdFx0XHRzdHJvbmc6IDQsXG5cdFx0XHRtaXNtYXRjaDogNSxcblx0XHR9O1xuXG5cdFx0cmV0dXJuICggdmFsdWVzWyBzdHJlbmd0aF9zbHVnIF0gKSA/IHZhbHVlc1sgc3RyZW5ndGhfc2x1ZyBdIDogdmFsdWVzLm1pc21hdGNoO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIEZvcm0gc3VibWlzc2lvbiBoYW5kbGVyIGZvciByZWdpc3RyYXRpb24gYW5kIHVwZGF0ZSBmb3Jtc1xuXHQgKlxuXHQgKiBAcGFyYW0gICAgb2JqICAgIGUgICAgICAgICBldmVudCBkYXRhXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0ICovXG5cdHN1Ym1pdDogZnVuY3Rpb24oIGUgKSB7XG5cblx0XHR2YXIgc2VsZiA9IGUuZGF0YTtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0c2VsZi4kcGFzcy50cmlnZ2VyKCAna2V5dXAnICk7XG5cblx0XHRpZiAoIHNlbGYuZ2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzKCkgKSB7XG5cdFx0XHRzZWxmLiRmb3JtLm9mZiggJ3N1Ym1pdCcsIHNlbGYuc3VibWl0ICk7XG5cdFx0XHRzZWxmLiRmb3JtLnRyaWdnZXIoICdzdWJtaXQnICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoICdodG1sLCBib2R5JyApLmFuaW1hdGUoIHtcblx0XHRcdFx0c2Nyb2xsVG9wOiBzZWxmLiRtZXRlci5vZmZzZXQoKS50b3AgLSAxMDAsXG5cdFx0XHR9LCAyMDAgKTtcblx0XHRcdHNlbGYuJG1ldGVyLmhpZGUoKTtcblx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLiRtZXRlci5mYWRlSW4oIDQwMCApO1xuXHRcdFx0fSwgMjIwICk7XG5cdFx0fVxuXHR9XG5cbn0gKTtcbiIsIi8qKlxuICogUHJpY2luZyBUYWJsZSBVSVxuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlICBVbmtub3duLlxuICogQHZlcnNpb24gIFVua25vd24uXG4gKi9cblxuTExNUy5QcmljaW5nX1RhYmxlcyA9IHtcblxuXHQvKipcblx0ICogSW5pdFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCAkKCAnLmxsbXMtYWNjZXNzLXBsYW5zJyApLmxlbmd0aCApIHtcblxuXHRcdFx0TExNUy53YWl0X2Zvcl9tYXRjaEhlaWdodCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0fSApO1xuXG5cdFx0XHR0aGlzLiRsb2NrZWQgPSAkKCAnYVtocmVmPVwiI2xsbXMtcGxhbi1sb2NrZWRcIl0nICk7XG5cblx0XHRcdGlmICggdGhpcy4kbG9ja2VkLmxlbmd0aCApIHtcblxuXHRcdFx0XHRMTE1TLndhaXRfZm9yX3BvcG92ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuYmluZF9sb2NrZWQoKTtcblx0XHRcdFx0fSApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fSxcblxuXHQvKipcblx0ICogQmluZCBNZXRob2Rcblx0ICogSGFuZGxlcyBkb20gYmluZGluZyBvbiBsb2FkXG5cdCAqXG5cdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cblx0XHQkKCAnLmxsbXMtYWNjZXNzLXBsYW4tY29udGVudCcgKS5tYXRjaEhlaWdodCgpO1xuXHRcdCQoICcubGxtcy1hY2Nlc3MtcGxhbi1wcmljaW5nLnRyaWFsJyApLm1hdGNoSGVpZ2h0KCk7XG5cblx0fSxcblxuXHQvKipcblx0ICogU2V0dXAgYSBwb3BvdmVyIGZvciBtZW1iZXJzLW9ubHkgcmVzdHJpY3RlZCBwbGFuc1xuXHQgKlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjkuMVxuXHQgKi9cblx0YmluZF9sb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dGhpcy4kbG9ja2VkLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQkKCB0aGlzICkud2VidWlQb3BvdmVyKCB7XG5cdFx0XHRcdGFuaW1hdGlvbjogJ3BvcCcsXG5cdFx0XHRcdGNsb3NlYWJsZTogdHJ1ZSxcblx0XHRcdFx0Y29udGVudDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdFx0dmFyICRjb250ZW50ID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLW1lbWJlcnMtb25seS1yZXN0cmljdGlvbnNcIiAvPicgKTtcblx0XHRcdFx0XHQkY29udGVudC5hcHBlbmQoIGUuJGVsZW1lbnQuY2xvc2VzdCggJy5sbG1zLWFjY2Vzcy1wbGFuJyApLmZpbmQoICcubGxtcy1hY2Nlc3MtcGxhbi1yZXN0cmljdGlvbnMgdWwnICkuY2xvbmUoKSApO1xuXHRcdFx0XHRcdHJldHVybiAkY29udGVudDtcblx0XHRcdFx0fSxcblx0XHRcdFx0cGxhY2VtZW50OiAndG9wJyxcblx0XHRcdFx0c3R5bGU6ICdpbnZlcnNlJyxcblx0XHRcdFx0dGl0bGU6IExMTVMubDEwbi50cmFuc2xhdGUoICdNZW1iZXJzIE9ubHkgUHJpY2luZycgKSxcblx0XHRcdFx0d2lkdGg6ICcyODBweCcsXG5cdFx0XHR9ICk7XG5cblx0XHR9ICk7XG5cblx0fSxcblxufTtcbiIsIi8qKlxuICogTGlmdGVyTE1TIFJldmlld3MgSlNcbiAqXG4gKiBAcGFja2FnZSBMaWZ0ZXJMTVMvU2NyaXB0c1xuICpcbiAqIEBzaW5jZSBVbmtub3duXG4gKiBAdmVyc2lvbiBVbmtub3duXG4gKi9cblxuTExNUy5SZXZpZXcgPSB7XG5cdC8qKlxuXHQgKiBJbml0XG5cdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdC8vIGNvbnNvbGUubG9nKCdJbml0aWFsaXppbmcgUmV2aWV3ICcpO1xuXHRcdHRoaXMuYmluZCgpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBUaGlzIGZ1bmN0aW9uIGJpbmRzIGFjdGlvbnMgdG8gdGhlIGFwcHJvcHJpYXRlIGhvb2tzXG5cdCAqL1xuXHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XHQkKCAnI2xsbXNfcmV2aWV3X3N1Ym1pdF9idXR0b24nICkuY2xpY2soZnVuY3Rpb24oKVxuXHRcdFx0e1xuXHRcdFx0aWYgKCQoICcjcmV2aWV3X3RpdGxlJyApLnZhbCgpICE9PSAnJyAmJiAkKCAnI3Jldmlld190ZXh0JyApLnZhbCgpICE9PSAnJykge1xuXHRcdFx0XHRqUXVlcnkuYWpheCh7XG5cdFx0XHRcdFx0dHlwZSA6ICdwb3N0Jyxcblx0XHRcdFx0XHRkYXRhVHlwZSA6ICdqc29uJyxcblx0XHRcdFx0XHR1cmwgOiB3aW5kb3cubGxtcy5hamF4dXJsLFxuXHRcdFx0XHRcdGRhdGEgOiB7XG5cdFx0XHRcdFx0XHRhY3Rpb24gOiAnTExNU1N1Ym1pdFJldmlldycsXG5cdFx0XHRcdFx0XHRyZXZpZXdfdGl0bGU6ICQoICcjcmV2aWV3X3RpdGxlJyApLnZhbCgpLFxuXHRcdFx0XHRcdFx0cmV2aWV3X3RleHQ6ICQoICcjcmV2aWV3X3RleHQnICkudmFsKCksXG5cdFx0XHRcdFx0XHRwYWdlSUQgOiAkKCAnI3Bvc3RfSUQnICkudmFsKClcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyggJ1JldmlldyBzdWNjZXNzJyApO1xuXHRcdFx0XHRcdFx0JCggJyNyZXZpZXdfYm94JyApLmhpZGUoICdzd2luZycgKTtcblx0XHRcdFx0XHRcdCQoICcjdGhhbmtfeW91X2JveCcgKS5zaG93KCAnc3dpbmcnICk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duIClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygganFYSFIgKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCB0ZXh0U3RhdHVzICk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyggZXJyb3JUaHJvd24gKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICgkKCAnI3Jldmlld190aXRsZScgKS52YWwoKSA9PT0gJycpIHtcblx0XHRcdFx0XHQkKCAnI3Jldmlld190aXRsZV9lcnJvcicgKS5zaG93KCAnc3dpbmcnICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JCggJyNyZXZpZXdfdGl0bGVfZXJyb3InICkuaGlkZSggJ3N3aW5nJyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICgkKCAnI3Jldmlld190ZXh0JyApLnZhbCgpID09PSAnJykge1xuXHRcdFx0XHRcdCQoICcjcmV2aWV3X3RleHRfZXJyb3InICkuc2hvdyggJ3N3aW5nJyApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQoICcjcmV2aWV3X3RleHRfZXJyb3InICkuaGlkZSggJ3N3aW5nJyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0aWYgKCAkKCAnI19sbG1zX2Rpc3BsYXlfcmV2aWV3cycgKS5hdHRyKCAnY2hlY2tlZCcgKSApIHtcblx0XHRcdCQoICcubGxtcy1udW0tcmV2aWV3cy10b3AnICkuYWRkQ2xhc3MoICd0b3AnICk7XG5cdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJyApLnNob3coKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJyApLmhpZGUoKTtcblx0XHR9XG5cdFx0JCggJyNfbGxtc19kaXNwbGF5X3Jldmlld3MnICkuY2hhbmdlKGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAkKCAnI19sbG1zX2Rpc3BsYXlfcmV2aWV3cycgKS5hdHRyKCAnY2hlY2tlZCcgKSApIHtcblx0XHRcdFx0JCggJy5sbG1zLW51bS1yZXZpZXdzLXRvcCcgKS5hZGRDbGFzcyggJ3RvcCcgKTtcblx0XHRcdFx0JCggJy5sbG1zLW51bS1yZXZpZXdzLWJvdHRvbScgKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtdG9wJyApLnJlbW92ZUNsYXNzKCAndG9wJyApO1xuXHRcdFx0XHQkKCAnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJyApLmhpZGUoKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHR9LFxufTtcbiIsIi8qKlxuICogQWRkIFNwaW5uZXJzIGZvciBBSkFYIGV2ZW50c1xuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlIDMuMC4wXG4gKiBAdmVyc2lvbiAzLjAuMFxuICovXG5cbkxMTVMuU3Bpbm5lciA9IHtcblxuXHQvKipcblx0ICogR2V0IGFuIGV4aXRpbmcgc3Bpbm5lciBlbGVtZW50IG9yIGNyZWF0ZSBhIG5ldyBvbmVcblx0ICpcblx0ICogQHBhcmFtICAgIG9iaiAgICAgICRlbCAgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgcGFyZW50IGVsZW1lbnQgdGhhdCBzaG91bGQgaG9sZCBhbmQgYmUgbWFzZWQgYnkgYSBzcGlubmVyXG5cdCAqIEBwYXJhbSAgICBzdHJpbmcgICBzaXplICBzaXplIG9yIHRoZSBzcGlubmVyIFtkZWZhdWx0fHNtYWxsXVxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBpcyA0MHB4XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbCBpcyAyMHB4XG5cdCAqIEByZXR1cm4gICBvYmpcblx0ICogQHNpbmNlIDMuMC4wXG5cdCAqIEB2ZXJzaW9uIDMuMC4wXG5cdCAqL1xuXHRnZXQ6IGZ1bmN0aW9uKCAkZWwsIHNpemUgKSB7XG5cblx0XHQvLyBsb29rIGZvciBhbiBleGlzdGluZyBzcGlubmVyXG5cdFx0dmFyICRzcGlubmVyID0gJGVsLmZpbmQoICcubGxtcy1zcGlubmluZycgKS5maXJzdCgpO1xuXG5cdFx0Ly8gbm8gc3Bpbm5lciBpbnNpZGUgJGVsXG5cdFx0aWYgKCAhICRzcGlubmVyLmxlbmd0aCApIHtcblxuXHRcdFx0c2l6ZSA9ICggc2l6ZSApID8gc2l6ZSA6ICdkZWZhdWx0JztcblxuXHRcdFx0Ly8gY3JlYXRlIHRoZSBzcGlubmVyXG5cdFx0XHQkc3Bpbm5lciA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1zcGlubmluZ1wiPjxpIGNsYXNzPVwibGxtcy1zcGlubmVyICcgKyBzaXplICsgJ1wiPjwvaT48L2Rpdj4nICk7XG5cblx0XHRcdC8vIGFkZCBpdCB0byB0aGUgZG9tXG5cdFx0XHQkZWwuYXBwZW5kKCAkc3Bpbm5lciApO1xuXG5cdFx0fVxuXG5cdFx0Ly8gcmV0dXJuIGl0XG5cdFx0cmV0dXJuICRzcGlubmVyO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIFN0YXJ0IHNwaW5uZXIocykgaW5yPXNpZGUgYSBnaXZlbiBlbGVtZW50XG5cdCAqIENyZWF0ZXMgdGhlbSBpZiB0aGV5IGRvbid0IGV4aXN0IVxuXHQgKlxuXHQgKiBAcGFyYW0gICBvYmogICAgICAkZWwgICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIHBhcmVudCBlbGVtZW50IHRoYXQgc2hvdWxkIGhvbGQgYW5kIGJlIG1hc2VkIGJ5IGEgc3Bpbm5lclxuXHQgKiBAcGFyYW0gICBzdHJpbmcgICBzaXplICBzaXplIG9yIHRoZSBzcGlubmVyIFtkZWZhdWx0fHNtYWxsXVxuXHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBpcyA0MHB4XG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbCBpcyAyMHB4XG5cdCAqIEByZXR1cm4gIHZvaWRcblx0ICogQHNpbmNlICAgMy4wLjBcblx0ICogQHZlcnNpb24gMy4wLjBcblx0ICovXG5cdHN0YXJ0OiBmdW5jdGlvbiggJGVsLCBzaXplICkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0JGVsLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRzZWxmLmdldCggJCggdGhpcyApLCBzaXplICkuc2hvdygpO1xuXG5cdFx0fSApO1xuXG5cdH0sXG5cblx0LyoqXG5cdCAqIFN0b3JlIHNwaW5uZXJzIHdpdGhpbiBhbiBlbGVtZW50XG5cdCAqXG5cdCAqIEBwYXJhbSAgIG9iaiAgICAgICRlbCAgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgcGFyZW50IGVsZW1lbnQgdGhhdCBzaG91bGQgaG9sZCBhbmQgYmUgbWFzZWQgYnkgYSBzcGlubmVyXG5cdCAqIEByZXR1cm4gIHZvaWRcblx0ICogQHNpbmNlICAgMy4wLjBcblx0ICogQHZlcnNpb24gMy4wLjBcblx0ICovXG5cdHN0b3A6IGZ1bmN0aW9uKCAkZWwgKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHQkZWwuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdHNlbGYuZ2V0KCAkKCB0aGlzICkgKS5oaWRlKCk7XG5cblx0XHR9ICk7XG5cblx0fVxuXG59O1xuIiwiLyohXG4gKiBKYXZhU2NyaXB0IENvb2tpZSB2Mi4yLjFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qcy1jb29raWUvanMtY29va2llXG4gKlxuICogQ29weXJpZ2h0IDIwMDYsIDIwMTUgS2xhdXMgSGFydGwgJiBGYWduZXIgQnJhY2tcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG47KGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdHZhciByZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXI7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHRkZWZpbmUoZmFjdG9yeSk7XG5cdFx0cmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gdHJ1ZTtcblx0fVxuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdFx0cmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyID0gdHJ1ZTtcblx0fVxuXHRpZiAoIXJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlcikge1xuXHRcdHZhciBPbGRDb29raWVzID0gd2luZG93LkNvb2tpZXM7XG5cdFx0dmFyIGFwaSA9IHdpbmRvdy5Db29raWVzID0gZmFjdG9yeSgpO1xuXHRcdGFwaS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0d2luZG93LkNvb2tpZXMgPSBPbGRDb29raWVzO1xuXHRcdFx0cmV0dXJuIGFwaTtcblx0XHR9O1xuXHR9XG59KGZ1bmN0aW9uICgpIHtcblx0ZnVuY3Rpb24gZXh0ZW5kICgpIHtcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXR0cmlidXRlcyA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0cmVzdWx0W2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBkZWNvZGUgKHMpIHtcblx0XHRyZXR1cm4gcy5yZXBsYWNlKC8oJVswLTlBLVpdezJ9KSsvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGluaXQgKGNvbnZlcnRlcikge1xuXHRcdGZ1bmN0aW9uIGFwaSgpIHt9XG5cblx0XHRmdW5jdGlvbiBzZXQgKGtleSwgdmFsdWUsIGF0dHJpYnV0ZXMpIHtcblx0XHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0YXR0cmlidXRlcyA9IGV4dGVuZCh7XG5cdFx0XHRcdHBhdGg6ICcvJ1xuXHRcdFx0fSwgYXBpLmRlZmF1bHRzLCBhdHRyaWJ1dGVzKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhdHRyaWJ1dGVzLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGF0dHJpYnV0ZXMuZXhwaXJlcyA9IG5ldyBEYXRlKG5ldyBEYXRlKCkgKiAxICsgYXR0cmlidXRlcy5leHBpcmVzICogODY0ZSs1KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2UncmUgdXNpbmcgXCJleHBpcmVzXCIgYmVjYXVzZSBcIm1heC1hZ2VcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IElFXG5cdFx0XHRhdHRyaWJ1dGVzLmV4cGlyZXMgPSBhdHRyaWJ1dGVzLmV4cGlyZXMgPyBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKSA6ICcnO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdFx0XHRpZiAoL15bXFx7XFxbXS8udGVzdChyZXN1bHQpKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSByZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cblx0XHRcdHZhbHVlID0gY29udmVydGVyLndyaXRlID9cblx0XHRcdFx0Y29udmVydGVyLndyaXRlKHZhbHVlLCBrZXkpIDpcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh2YWx1ZSkpXG5cdFx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8M0F8M0N8M0V8M0R8MkZ8M0Z8NDB8NUJ8NUR8NUV8NjB8N0J8N0R8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cblx0XHRcdGtleSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoa2V5KSlcblx0XHRcdFx0LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8NUV8NjB8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudClcblx0XHRcdFx0LnJlcGxhY2UoL1tcXChcXCldL2csIGVzY2FwZSk7XG5cblx0XHRcdHZhciBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgPSAnJztcblx0XHRcdGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0XHRpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJzsgJyArIGF0dHJpYnV0ZU5hbWU7XG5cdFx0XHRcdGlmIChhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDb25zaWRlcnMgUkZDIDYyNjUgc2VjdGlvbiA1LjI6XG5cdFx0XHRcdC8vIC4uLlxuXHRcdFx0XHQvLyAzLiAgSWYgdGhlIHJlbWFpbmluZyB1bnBhcnNlZC1hdHRyaWJ1dGVzIGNvbnRhaW5zIGEgJXgzQiAoXCI7XCIpXG5cdFx0XHRcdC8vICAgICBjaGFyYWN0ZXI6XG5cdFx0XHRcdC8vIENvbnN1bWUgdGhlIGNoYXJhY3RlcnMgb2YgdGhlIHVucGFyc2VkLWF0dHJpYnV0ZXMgdXAgdG8sXG5cdFx0XHRcdC8vIG5vdCBpbmNsdWRpbmcsIHRoZSBmaXJzdCAleDNCIChcIjtcIikgY2hhcmFjdGVyLlxuXHRcdFx0XHQvLyAuLi5cblx0XHRcdFx0c3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc9JyArIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0uc3BsaXQoJzsnKVswXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIChkb2N1bWVudC5jb29raWUgPSBrZXkgKyAnPScgKyB2YWx1ZSArIHN0cmluZ2lmaWVkQXR0cmlidXRlcyk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZ2V0IChrZXksIGpzb24pIHtcblx0XHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGphciA9IHt9O1xuXHRcdFx0Ly8gVG8gcHJldmVudCB0aGUgZm9yIGxvb3AgaW4gdGhlIGZpcnN0IHBsYWNlIGFzc2lnbiBhbiBlbXB0eSBhcnJheVxuXHRcdFx0Ly8gaW4gY2FzZSB0aGVyZSBhcmUgbm8gY29va2llcyBhdCBhbGwuXG5cdFx0XHR2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xuXHRcdFx0dmFyIGkgPSAwO1xuXG5cdFx0XHRmb3IgKDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIHBhcnRzID0gY29va2llc1tpXS5zcGxpdCgnPScpO1xuXHRcdFx0XHR2YXIgY29va2llID0gcGFydHMuc2xpY2UoMSkuam9pbignPScpO1xuXG5cdFx0XHRcdGlmICghanNvbiAmJiBjb29raWUuY2hhckF0KDApID09PSAnXCInKSB7XG5cdFx0XHRcdFx0Y29va2llID0gY29va2llLnNsaWNlKDEsIC0xKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dmFyIG5hbWUgPSBkZWNvZGUocGFydHNbMF0pO1xuXHRcdFx0XHRcdGNvb2tpZSA9IChjb252ZXJ0ZXIucmVhZCB8fCBjb252ZXJ0ZXIpKGNvb2tpZSwgbmFtZSkgfHxcblx0XHRcdFx0XHRcdGRlY29kZShjb29raWUpO1xuXG5cdFx0XHRcdFx0aWYgKGpzb24pIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdGNvb2tpZSA9IEpTT04ucGFyc2UoY29va2llKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHt9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0amFyW25hbWVdID0gY29va2llO1xuXG5cdFx0XHRcdFx0aWYgKGtleSA9PT0gbmFtZSkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ga2V5ID8gamFyW2tleV0gOiBqYXI7XG5cdFx0fVxuXG5cdFx0YXBpLnNldCA9IHNldDtcblx0XHRhcGkuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cmV0dXJuIGdldChrZXksIGZhbHNlIC8qIHJlYWQgYXMgcmF3ICovKTtcblx0XHR9O1xuXHRcdGFwaS5nZXRKU09OID0gZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0cmV0dXJuIGdldChrZXksIHRydWUgLyogcmVhZCBhcyBqc29uICovKTtcblx0XHR9O1xuXHRcdGFwaS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5LCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRzZXQoa2V5LCAnJywgZXh0ZW5kKGF0dHJpYnV0ZXMsIHtcblx0XHRcdFx0ZXhwaXJlczogLTFcblx0XHRcdH0pKTtcblx0XHR9O1xuXG5cdFx0YXBpLmRlZmF1bHRzID0ge307XG5cblx0XHRhcGkud2l0aENvbnZlcnRlciA9IGluaXQ7XG5cblx0XHRyZXR1cm4gYXBpO1xuXHR9XG5cblx0cmV0dXJuIGluaXQoZnVuY3Rpb24gKCkge30pO1xufSkpOyIsbnVsbCwiLyoqXG4gKiBTdHVkZW50IERhc2hib2FyZCByZWxhdGVkIEpTXG4gKlxuICogQHBhY2thZ2UgTGlmdGVyTE1TL1NjcmlwdHNcbiAqXG4gKiBAc2luY2UgICAgMy43LjBcbiAqIEB2ZXJzaW9uICAzLjEwLjBcbiAqL1xuXG5MTE1TLlN0dWRlbnREYXNoYm9hcmQgPSB7XG5cblx0LyoqXG5cdCAqIFNsdWcgZm9yIHRoZSBjdXJyZW50IHNjcmVlbi9lbmRwb2ludFxuXHQgKlxuXHQgKiBAdHlwZSAge1N0cmluZ31cblx0ICovXG5cdHNjcmVlbjogJycsXG5cblx0LyoqXG5cdCAqIFdpbGwgc2hvdyB0aGUgbnVtYmVyIG9mIG1ldGVycyBvbiB0aGUgcGFnZVxuXHQgKiBVc2VkIHRvIGNvbmRpdGlvbmFsbHkgYmluZCBtZXRlci1yZWxhdGVkIGV2ZW50cyBvbmx5IHdoZW4gbWV0ZXJzXG5cdCAqIGFjdHVhbGx5IGV4aXN0XG5cdCAqXG5cdCAqIEB0eXBlICBpbnRcblx0ICovXG5cdG1ldGVyX2V4aXN0czogMCxcblxuXHQvKipcblx0ICogSW5pdFxuXHQgKlxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy43LjBcblx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHQgKi9cblx0aW5pdDogZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoICQoICcubGxtcy1zdHVkZW50LWRhc2hib2FyZCcgKS5sZW5ndGggKSB7XG5cblx0XHRcdHRoaXMubWV0ZXJfZXhpc3RzID0gJCggJy5sbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyJyApLmxlbmd0aDtcblx0XHRcdHRoaXMuYmluZCgpO1xuXG5cdFx0XHRpZiAoICdvcmRlcnMnID09PSB0aGlzLmdldF9zY3JlZW4oKSApIHtcblxuXHRcdFx0XHR0aGlzLmJpbmRfb3JkZXJzKCk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIERPTSBldmVudHNcblx0ICpcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuNy4wXG5cdCAqIEB2ZXJzaW9uICAzLjcuNFxuXHQgKi9cblx0YmluZDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgc2VsZiAgICA9IHRoaXMsXG5cdFx0XHQkdG9nZ2xlID0gJCggJy5sbG1zLXN0dWRlbnQtZGFzaGJvYXJkIGFbaHJlZj1cIiNsbG1zLXBhc3N3b3JkLWNoYW5nZS10b2dnbGVcIl0nICk7XG5cblx0XHQvLyBjbGljayBldmVudCBmb3IgdGhlIGNoYW5nZSBwYXNzd29yZCBsaW5rXG5cdFx0JHRvZ2dsZS5vbiggJ2NsaWNrJywgZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0dmFyICR0aGlzICAgICAgID0gJCggdGhpcyApLFxuXHRcdFx0XHRjdXJyX3RleHQgICA9ICR0aGlzLnRleHQoKSxcblx0XHRcdFx0Y3Vycl9hY3Rpb24gPSAkdGhpcy5hdHRyKCAnZGF0YS1hY3Rpb24nICksXG5cdFx0XHRcdG5ld19hY3Rpb24gID0gJ2hpZGUnID09PSBjdXJyX2FjdGlvbiA/ICdzaG93JyA6ICdoaWRlJyxcblx0XHRcdFx0bmV3X3RleHQgICAgPSAkdGhpcy5hdHRyKCAnZGF0YS10ZXh0JyApO1xuXG5cdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggY3Vycl9hY3Rpb24gKTtcblxuXHRcdFx0Ly8gcHJldmVudCBhY2NpZGVudGFsIGNhbmNlbHMgd2hlbiB1c2VycyB0YWIgb3V0IG9mIHRoZSBjb25maXJtIHBhc3N3b3JkIGZpZWxkXG5cdFx0XHQvLyBhbmQgZXhwZWN0IHRvIGhpdCBzdWJtaXQgd2l0aCBlbnRlciBrZXkgaW1tZWRpYXRlbHkgYWZ0ZXJcblx0XHRcdGlmICggJ3Nob3cnID09PSBjdXJyX2FjdGlvbiApIHtcblx0XHRcdFx0JHRoaXMuYXR0ciggJ3RhYmluZGV4JywgJy03NzcnICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkdGhpcy5yZW1vdmVBdHRyKCAndGFiaW5kZXgnICk7XG5cdFx0XHR9XG5cblx0XHRcdCR0aGlzLmF0dHIoICdkYXRhLWFjdGlvbicsIG5ld19hY3Rpb24gKS5hdHRyKCAnZGF0YS10ZXh0JywgY3Vycl90ZXh0ICkudGV4dCggbmV3X3RleHQgKTtcblxuXHRcdH0gKTtcblxuXHRcdC8vIHRoaXMgd2lsbCByZW1vdmUgdGhlIHJlcXVpcmVkIGJ5IGRlZmF1bHQgd2l0aG91dCBoYXZpbmcgdG8gbWVzcyB3aXRoXG5cdFx0Ly8gY29uZGl0aW9uYWxzIGluIFBIUCBhbmQgc3RpbGwgYWxsb3dzIHRoZSByZXF1aXJlZCAqIHRvIHNob3cgaW4gdGhlIGxhYmVsXG5cblx0XHRpZiAoIHRoaXMubWV0ZXJfZXhpc3RzICkge1xuXG5cdFx0XHQkKCAnLmxsbXMtcGVyc29uLWZvcm0uZWRpdC1hY2NvdW50JyApLm9uKCAnbGxtcy1wYXNzd29yZC1zdHJlbmd0aC1yZWFkeScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggJ2hpZGUnICk7XG5cdFx0XHR9ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggJ2hpZGUnICk7XG5cblx0XHR9XG5cblx0XHQkKCAnLmxsbXMtZG9udXQnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRMTE1TLkRvbnV0KCAkKCB0aGlzICkgKTtcblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogQmluZCBldmVudHMgcmVsYXRlZCB0byB0aGUgb3JkZXJzIHNjcmVlbiBvbiB0aGUgZGFzaGJvYXJkXG5cdCAqXG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjEwLjBcblx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHQgKi9cblx0YmluZF9vcmRlcnM6IGZ1bmN0aW9uKCkge1xuXG5cdFx0JCggJyNsbG1zLWNhbmNlbC1zdWJzY3JpcHRpb24tZm9ybScgKS5vbiggJ3N1Ym1pdCcsIHRoaXMub3JkZXJfY2FuY2VsX3dhcm5pbmcgKTtcblx0XHQkKCAnI2xsbXNfdXBkYXRlX3BheW1lbnRfbWV0aG9kJyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHRcdCQoICdpbnB1dFtuYW1lPVwibGxtc19wYXltZW50X2dhdGV3YXlcIl06Y2hlY2tlZCcgKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdFx0JCggdGhpcyApLmNsb3Nlc3QoICdmb3JtJyApLmZpbmQoICcubGxtcy1zd2l0Y2gtcGF5bWVudC1zb3VyY2UtbWFpbicgKS5zbGlkZVRvZ2dsZSggJzIwMCcgKTtcblx0XHR9ICk7XG5cblx0fSxcblxuXHQvKipcblx0ICogR2V0IHRoZSBjdXJyZW50IGRhc2hib2FyZCBlbmRwb2ludC90YWIgc2x1Z1xuXHQgKlxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4xMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0ICovXG5cdGdldF9zY3JlZW46IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggISB0aGlzLnNjcmVlbiApIHtcblx0XHRcdHRoaXMuc2NyZWVuID0gJCggJy5sbG1zLXN0dWRlbnQtZGFzaGJvYXJkJyApLmF0dHIoICdkYXRhLWN1cnJlbnQnICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnNjcmVlbjtcblx0fSxcblxuXHQvKipcblx0ICogU2hvdyBhIGNvbmZpcm1hdGlvbiB3YXJuaW5nIHdoZW4gQ2FuY2VsIFN1YnNjcmlwdGlvbiBmb3JtIGlzIHN1Ym1pdHRlZFxuXHQgKlxuXHQgKiBAcGFyYW0gICAgb2JqICAgZSAgSlMgZXZlbnQgZGF0YVxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy4xMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0ICovXG5cdG9yZGVyX2NhbmNlbF93YXJuaW5nOiBmdW5jdGlvbiggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dmFyIG1zZyA9IExMTVMubDEwbi50cmFuc2xhdGUoICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2FuY2VsIHlvdXIgc3Vic2NyaXB0aW9uPycgKTtcblx0XHRpZiAoIHdpbmRvdy5jb25maXJtKCBMTE1TLmwxMG4udHJhbnNsYXRlKCBtc2cgKSApICkge1xuXHRcdFx0JCggdGhpcyApLm9mZiggJ3N1Ym1pdCcsIHRoaXMub3JkZXJfY2FuY2VsX3dhcm5pbmcgKTtcblx0XHRcdCQoIHRoaXMgKS5zdWJtaXQoKTtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIFRvZ2dsZSBwYXNzd29yZCByZWxhdGVkIGZpZWxkcyBvbiB0aGUgYWNjb3VudCBlZGl0IHBhZ2Vcblx0ICpcblx0ICogQHBhcmFtICAgIHN0cmluZyAgIGFjdGlvbiAgW3Nob3d8aGlkZV1cblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuNy4wXG5cdCAqIEB2ZXJzaW9uICAzLjcuNFxuXHQgKi9cblx0cGFzc3dvcmRfdG9nZ2xlOiBmdW5jdGlvbiggYWN0aW9uICkge1xuXG5cdFx0aWYgKCAhIGFjdGlvbiApIHtcblx0XHRcdGFjdGlvbiA9ICdzaG93Jztcblx0XHR9XG5cblx0XHR2YXIgc2VsZiAgPSB0aGlzLFxuXHRcdFx0JHB3ZHMgPSAkKCAnI3Bhc3N3b3JkLCAjcGFzc3dvcmRfY29uZmlybSwgI2N1cnJlbnRfcGFzc3dvcmQnICksXG5cdFx0XHQkZm9ybSA9ICQoICcjcGFzc3dvcmQnICkuY2xvc2VzdCggJ2Zvcm0nICk7XG5cblx0XHQvLyBoaWRlIG9yIHNob3cgdGhlIGZpZWxkc1xuXHRcdCQoICcubGxtcy1jaGFuZ2UtcGFzc3dvcmQnIClbIGFjdGlvbiBdKCk7XG5cblx0XHRpZiAoICdzaG93JyA9PT0gYWN0aW9uICkge1xuXHRcdFx0Ly8gbWFrZSBwYXNzd29yZHMgcmVxdWlyZWRcblx0XHRcdCRwd2RzLmF0dHIoICdyZXF1aXJlZCcsICdyZXF1aXJlZCcgKTtcblxuXHRcdFx0aWYgKCBzZWxmLm1ldGVyX2V4aXN0cyApIHtcblx0XHRcdFx0Ly8gYWRkIHRoZSBzdHJlbmd0aCBjaGVjayBvbiBmb3JtIHN1Ym1pc3Npb25cblx0XHRcdFx0JGZvcm0ub24oICdzdWJtaXQnLCBMTE1TLlBhc3N3b3JkU3RyZW5ndGgsIExMTVMuUGFzc3dvcmRTdHJlbmd0aC5zdWJtaXQgKTtcblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyByZW1vdmUgcmVxdWlyZW1lbnQgc28gZm9ybSBjYW4gYmUgc3VibWl0dGVkIHdoaWxlIGZpZWxkcyBhcmUgaGlkZGVuXG5cdFx0XHQvLyBhbmQgY2xlYXIgdGhlIHBhc3N3b3JkIG91dCBvZiB0aGUgZmllbGRzIGlmIHR5cGluZyBzdGFydGVkXG5cdFx0XHQkcHdkcy5yZW1vdmVBdHRyKCAncmVxdWlyZWQnICkudmFsKCAnJyApO1xuXG5cdFx0XHRpZiAoIHNlbGYubWV0ZXJfZXhpc3RzICkge1xuXG5cdFx0XHRcdC8vIHJlbW92ZSB0aGUgcGFzc3dvcmQgc3RyZW5ndGggc3VibWlzc2lvbiBjaGVja1xuXHRcdFx0XHQkZm9ybS5vZmYoICdzdWJtaXQnLCBMTE1TLlBhc3N3b3JkU3RyZW5ndGguc3VibWl0ICk7XG5cdFx0XHRcdC8vIGNsZWFycyB0aGUgbWV0ZXJcblx0XHRcdFx0TExNUy5QYXNzd29yZFN0cmVuZ3RoLmNoZWNrX3N0cmVuZ3RoKCk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9LFxuXG59O1xuIiwiLyogZ2xvYmFsIExMTVMsICQgKi9cblxuLyoqXG4gKiBVc2VyIGV2ZW50L2ludGVyYWN0aW9uIHRyYWNraW5nLlxuICpcbiAqIEBzaW5jZSAzLjM2LjBcbiAqIEBzaW5jZSAzLjM2LjIgRml4IEpTIGVycm9yIHdoZW4gc2V0dGluZ3MgYXJlbid0IGxvYWRlZC5cbiAqL1xuTExNUy5UcmFja2luZyA9IGZ1bmN0aW9uKCBzZXR0aW5ncyApIHtcblxuXHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0c3RvcmUgPSBuZXcgTExNUy5TdG9yYWdlKCAnbGxtcy10cmFja2luZycgKTtcblxuXHRzZXR0aW5ncyA9ICdzdHJpbmcnID09PSB0eXBlb2Ygc2V0dGluZ3MgPyBKU09OLnBhcnNlKCBzZXR0aW5ncyApIDogc2V0dGluZ3M7XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemUgLyBCaW5kIGFsbCB0cmFja2luZyBldmVudCBsaXN0ZW5lcnMuXG5cdCAqXG5cdCAqIEBzaW5jZSAzLjM2LjBcblx0ICpcblx0ICogQHJldHVybiB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cblx0XHQvLyBTZXQgdGhlIG5vbmNlIGZvciBzZXJ2ZXItc2lkZSB2ZXJpZmljYXRpb24uXG5cdFx0c3RvcmUuc2V0KCAnbm9uY2UnLCBzZXR0aW5ncy5ub25jZSApO1xuXG5cdFx0c2VsZi5hZGRFdmVudCggJ3BhZ2UubG9hZCcgKTtcblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAnYmVmb3JldW5sb2FkJywgb25CZWZvcmVVbmxvYWQgKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3VubG9hZCcsIG9uVW5sb2FkICk7XG5cblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAndmlzaWJpbGl0eWNoYW5nZScsIG9uVmlzaWJpbGl0eUNoYW5nZSApO1xuXG5cdH07XG5cblx0LyoqXG5cdCAqIEFkZCBhbiBldmVudC5cblx0ICpcblx0ICogQHNpbmNlIDMuMzYuMFxuXHQgKiBAc2luY2UgMy4zNi4yIEZpeCBlcnJvciB3aGVuIHNldHRpbmdzIGFyZW4ndCBsb2FkZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSBzdHJpbmd8b2JqIGV2ZW50IEV2ZW50IElkICh0eXBlLmV2ZW50KSBvciBhIGZ1bGwgZXZlbnQgb2JqZWN0IGZyb20gYHRoaXMubWFrZUV2ZW50T2JqKClgLlxuXHQgKiBAcGFyYW0gaW50IGFyZ3MgT3B0aW9uYWwgYWRkaXRpb25hbCBhcmd1bWVudHMgdG8gcGFzcyB0byBgdGhpcy5tYWtlRXZlbnRPYmooKWAuXG5cdCAqIEByZXR1cm4ge3ZvaWR9XG5cdCAqL1xuXHR0aGlzLmFkZEV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50LCBhcmdzICkge1xuXG5cdFx0YXJncyAgPSBhcmdzIHx8IHt9O1xuXHRcdGlmICggJ3N0cmluZycgPT09IHR5cGVvZiBldmVudCApIHtcblx0XHRcdGFyZ3MuZXZlbnQgPSBldmVudDtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGUgZXZlbnQgaXNuJ3QgcmVnaXN0ZXJlZCBpbiB0aGUgc2V0dGluZ3MgZG9uJ3QgcHJvY2VlZC5cblx0XHRpZiAoICFzZXR0aW5ncy5ldmVudHMgfHwgLTEgPT09IHNldHRpbmdzLmV2ZW50cy5pbmRleE9mKCBhcmdzLmV2ZW50ICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZXZlbnQgPSBzZWxmLm1ha2VFdmVudE9iaiggYXJncyApO1xuXG5cdFx0dmFyIGFsbCA9IHN0b3JlLmdldCggJ2V2ZW50cycsIFtdICk7XG5cdFx0YWxsLnB1c2goIGV2ZW50ICk7XG5cdFx0c3RvcmUuc2V0KCAnZXZlbnRzJywgYWxsICk7XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBSZXRyaWV2ZSBpbml0aWFsaXphdGlvbiBzZXR0aW5ncy5cblx0ICpcblx0ICogQHNpbmNlIDMuMzYuMFxuXHQgKlxuXHQgKiBAcmV0dXJuIG9ialxuXHQgKi9cblx0dGhpcy5nZXRTZXR0aW5ncyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzZXR0aW5ncztcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYW4gZXZlbnQgb2JqZWN0IHN1aXRhYmxlIHRvIHNhdmUgYXMgYW4gZXZlbnQuXG5cdCAqXG5cdCAqIEBzaW5jZSAzLjM2LjBcblx0ICpcblx0ICogQHBhcmFtIG9iaiBldmVudCB7XG5cdCAqICAgICBFdmVudCBoYXNoXG5cdCAqXG5cdCAqICAgICBAcGFyYW0ge3N0cmluZ30gZXZlbnQgKFJlcXVpcmVkKSBFdmVudCBJRCwgZWc6IFwicGFnZS5sb2FkXCIuXG5cdCAqICAgICBAcGFyYW0ge3VybH0gdXJsIEV2ZW50IFVSTC4gKE9wdGlvbmFsLCBhZGRlZCBhdXRvbWF0aWNhbGx5KSBTdG9yZWQgYXMgbWV0YWRhdGEgYW5kIHVzZWQgdG8gaW5mZXIgYW4gb2JqZWN0X2lkIGZvciBwb3N0IGV2ZW50cy5cblx0ICogICAgIEBwYXJhbSB7dGltZX0gZmxvYXQgKE9wdGlvbmFsLCBhZGRlZCBhdXRvbWF0aWNhbGx5KSBUaW1lc3RhbXAgKGluIG1pbGxpc2Vjb25kcykuIFVzZWQgZm9yIHRoZSBldmVudCBjcmVhdGlvbiBkYXRlLlxuXHQgKiAgICAgQHBhcmFtIHtpbnR9IG9ial9pZCAoT3B0aW9uYWwpLiBUaGUgb2JqZWN0IElELiBJbmZlcnJlZCBhdXRvbWF0aWNhbGx5IHZpYSBgdXJsYCBpZiBub3QgcHJvdmlkZWQuXG5cdCAqICAgICBAcGFyYW0ge29ian0gbWV0YSAoT3B0aW9uYWwpIEhhc2ggb2YgbWV0YWRhdGEgdG8gc3RvcmUgd2l0aCB0aGUgZXZlbnQuXG5cdCAqIH1cblx0ICogQHJldHVybiBvYmpcblx0ICovXG5cdHRoaXMubWFrZUV2ZW50T2JqID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHJldHVybiBPYmplY3QuYXNzaWduKCBldmVudCwge1xuXHRcdFx0dXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcblx0XHRcdHRpbWU6IE1hdGgucm91bmQoIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCApLFxuXHRcdH0gKTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIFJlbW92ZSB0aGUgdmlzaWJpbGl0eSBjaGFuZ2UgZXZlbnQgbGlzdGVuZXIgb24gd2luZG93LmJlZm9yZXVubG9hZFxuXHQgKlxuXHQgKiBQcmV2ZW50cyBhY3R1YWwgdW5sb2FkaW5nIGZyb20gcmVjb3JkaW5nIGEgYmx1ciBldmVudCBmcm9tIHRoZSB2aXNpYmlsaXR5IGNoYW5nZSBsaXN0ZW5lclxuXHQgKlxuXHQgKiBAcGFyYW0gb2JqIGUgSlMgZXZlbnQgb2JqZWN0LlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGZ1bmN0aW9uIG9uQmVmb3JlVW5sb2FkKCBlICkge1xuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd2aXNpYmlsaXR5Y2hhbmdlJywgb25WaXNpYmlsaXR5Q2hhbmdlICk7XG5cdH1cblxuXHQvKipcblx0ICogUmVjb3JkIGEgYHBhZ2UuZXhpdGAgZXZlbnQgb24gd2luZG93LnVubG9hZC5cblx0ICpcblx0ICogQHNpbmNlIDMuMzYuMFxuXHQgKlxuXHQgKiBAcGFyYW0gb2JqIGUgSlMgZXZlbnQgb2JqZWN0LlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGZ1bmN0aW9uIG9uVW5sb2FkKCBlICkge1xuXHRcdHNlbGYuYWRkRXZlbnQoICdwYWdlLmV4aXQnICk7XG5cdH1cblxuXHQvKipcblx0ICogUmVjb3JkIGBwYWdlLmJsdXJgIGFuZCBgcGFnZS5mb2N1c2AgZXZlbnRzIHZpYSBkb2N1bWVudC52aXNpbGliaXR5Y2hhbmdlIGV2ZW50cy5cblx0ICpcblx0ICogQHNpbmNlIDMuMzYuMFxuXHQgKlxuXHQgKiBAcGFyYW0gb2JqIGUgSlMgZXZlbnQgb2JqZWN0LlxuXHQgKiBAcmV0dXJuIHZvaWRcblx0ICovXG5cdGZ1bmN0aW9uIG9uVmlzaWJpbGl0eUNoYW5nZSggZSApIHtcblxuXHRcdHZhciBldmVudCA9IGRvY3VtZW50LmhpZGRlbiA/ICdwYWdlLmJsdXInIDogJ3BhZ2UuZm9jdXMnO1xuXHRcdHNlbGYuYWRkRXZlbnQoIGV2ZW50ICk7XG5cblx0fVxuXG5cdC8vIEluaXRpYWxpemUgb24gdGhlIGZyb250ZW5kIG9ubHkuXG5cdGlmICggISAkKCAnYm9keScgKS5oYXNDbGFzcyggJ3dwLWFkbWluJyApICkge1xuXHRcdGluaXQoKTtcblx0fVxuXG59O1xuXG5sbG1zLnRyYWNraW5nID0gbmV3IExMTVMuVHJhY2tpbmcoIGxsbXMudHJhY2tpbmcgKTtcbiIsIi8qKlxuICogUmVzdCBNZXRob2RzXG4gKiBNYW5hZ2VzIFVSTCBhbmQgUmVzdCBvYmplY3QgcGFyc2luZ1xuICpcbiAqIEBwYWNrYWdlIExpZnRlckxNUy9TY3JpcHRzXG4gKlxuICogQHNpbmNlIFVua25vd25cbiAqIEB2ZXJzaW9uICBVbmtub3duXG4gKi9cblxuTExNUy5SZXN0ID0ge1xuXG5cdC8qKlxuXHQgKiBJbml0XG5cdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0ICovXG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuYmluZCgpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBCaW5kIE1ldGhvZFxuXHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0ICpcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHRiaW5kOiBmdW5jdGlvbigpIHtcblx0fSxcblxuXHQvKipcblx0ICogU2VhcmNoZXMgZm9yIHN0cmluZyBtYXRjaGVzIGluIHVybCBwYXRoXG5cdCAqXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgc3RyaW5ncyBbQXJyYXkgb2Ygc3RyaW5ncyB0byBzZWFyY2ggZm9yIG1hdGNoZXNdXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgICAgW1dhcyBhIG1hdGNoIGZvdW5kP11cblx0ICovXG5cdGlzX3BhdGg6IGZ1bmN0aW9uKCBzdHJpbmdzICkge1xuXG5cdFx0dmFyIHBhdGhfZXhpc3RzID0gZmFsc2UsXG5cdFx0XHR1cmwgICAgICAgICA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXG5cdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGg7IGkrKyApIHtcblxuXHRcdFx0aWYgKCB1cmwuc2VhcmNoKCBzdHJpbmdzW2ldICkgPiAwICYmICEgcGF0aF9leGlzdHMgKSB7XG5cblx0XHRcdFx0cGF0aF9leGlzdHMgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBwYXRoX2V4aXN0cztcblx0fSxcblxuXHQvKipcblx0ICogUmV0cmlldmVzIHF1ZXJ5IHZhcmlhYmxlc1xuXHQgKlxuXHQgKiBAcmV0dXJuIHtbQXJyYXldfSBbYXJyYXkgb2JqZWN0IG9mIHF1ZXJ5IHZhcmlhYmxlIGtleT0+dmFsdWUgcGFpcnNdXG5cdCAqL1xuXHRnZXRfcXVlcnlfdmFyczogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgdmFycyAgID0gW10sIGhhc2gsXG5cdFx0XHRoYXNoZXMgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSggd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZiggJz8nICkgKyAxICkuc3BsaXQoICcmJyApO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBoYXNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGhhc2ggPSBoYXNoZXNbaV0uc3BsaXQoICc9JyApO1xuXHRcdFx0dmFycy5wdXNoKCBoYXNoWzBdICk7XG5cdFx0XHR2YXJzW2hhc2hbMF1dID0gaGFzaFsxXTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdmFycztcblx0fVxuXG59O1xuIl19
